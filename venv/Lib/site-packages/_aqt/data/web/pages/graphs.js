"use strict";var anki=(()=>{var uh=Object.create;var gr=Object.defineProperty;var ph=Object.getOwnPropertyDescriptor;var dh=Object.getOwnPropertyNames;var mh=Object.getPrototypeOf,fh=Object.prototype.hasOwnProperty;var gh=(e,t,n)=>t in e?gr(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var hh=(e,t)=>()=>(e&&(t=e(e=0)),t);var zi=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),Ac=(e,t)=>{for(var n in t)gr(e,n,{get:t[n],enumerable:!0})},Dc=(e,t,n,r)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of dh(t))!fh.call(e,o)&&o!==n&&gr(e,o,{get:()=>t[o],enumerable:!(r=ph(t,o))||r.enumerable});return e};var Ic=(e,t,n)=>(n=e!=null?uh(mh(e)):{},Dc(t||!e||!e.__esModule?gr(n,"default",{value:e,enumerable:!0}):n,e)),Mc=e=>Dc(gr({},"__esModule",{value:!0}),e);var ve=(e,t,n)=>(gh(e,typeof t!="symbol"?t+"":t,n),n);var Mu={};Ac(Mu,{default:()=>Xh});function ho(e){"@babel/helpers - typeof";return ho=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ho(e)}function Uh(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Eu(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,jh(r.key),r)}}function zh(e,t,n){return t&&Eu(e.prototype,t),n&&Eu(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Wh(e,t){if(typeof e!="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function jh(e){var t=Wh(e,"string");return typeof t=="symbol"?t:String(t)}function ot(e,t){var n=Iu(e,t,"get");return Hh(e,n)}function wr(e,t,n){var r=Iu(e,t,"set");return Vh(e,r,n),n}function Iu(e,t,n){if(!t.has(e))throw new TypeError("attempted to "+n+" private field on non-instance");return t.get(e)}function Hh(e,t){return t.get?t.get.call(e):t.value}function Vh(e,t,n){if(t.set)t.set.call(e,n);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=n}}function Yh(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function _r(e,t,n){Yh(e,t),t.set(e,n)}function Jh(e){var t=Object.prototype.hasOwnProperty.call(e,"type")&&e.type;if(!t)return"cardinal";if(t==="cardinal"||t==="ordinal")return t;throw new RangeError("Not a valid plural type: "+JSON.stringify(t))}function Du(e){switch(ho(e)){case"number":return e;case"bigint":throw new TypeError("Cannot convert a BigInt value to a number");default:return Number(e)}}function Xh(e,t,n,r){var o=function(m){do{if(t(m))return m;m=m.replace(/-?[^-]*$/,"")}while(m);return null},i=function(m){for(var f=Au(m),g=0;g<f.length;++g){var h=o(f[g]);if(h)return h}var x=new e().resolvedOptions().locale;return o(x)},s=new WeakMap,a=new WeakMap,l=new WeakMap,c=new WeakMap,u=new WeakMap,p=function(){function d(){var m=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};Uh(this,d),_r(this,s,{writable:!0,value:void 0}),_r(this,a,{writable:!0,value:void 0}),_r(this,l,{writable:!0,value:void 0}),_r(this,c,{writable:!0,value:void 0}),_r(this,u,{writable:!0,value:void 0}),wr(this,s,i(m)),wr(this,l,t(ot(this,s))),wr(this,a,r(ot(this,s))),wr(this,c,Jh(f)),wr(this,u,new e("en",f))}return zh(d,[{key:"resolvedOptions",value:function(){var f=ot(this,u).resolvedOptions(),g=f.minimumIntegerDigits,h=f.minimumFractionDigits,x=f.maximumFractionDigits,b=f.minimumSignificantDigits,k=f.maximumSignificantDigits,I=f.roundingPriority,N={locale:ot(this,s),type:ot(this,c),minimumIntegerDigits:g,minimumFractionDigits:h,maximumFractionDigits:x};return typeof b=="number"&&(N.minimumSignificantDigits=b,N.maximumSignificantDigits=k),N.pluralCategories=n(ot(this,s),ot(this,c)==="ordinal").slice(0),N.roundingPriority=I||"auto",N}},{key:"select",value:function(f){if(!(this instanceof d))throw new TypeError("select() called on incompatible ".concat(this));if(typeof f!="number"&&(f=Number(f)),!isFinite(f))return"other";var g=ot(this,u).format(Math.abs(f));return ot(this,l).call(this,g,ot(this,c)==="ordinal")}},{key:"selectRange",value:function(f,g){if(!(this instanceof d))throw new TypeError("selectRange() called on incompatible ".concat(this));if(f===void 0)throw new TypeError("start is undefined");if(g===void 0)throw new TypeError("end is undefined");var h=Du(f),x=Du(g);if(!isFinite(h))throw new RangeError("start must be finite");if(!isFinite(x))throw new RangeError("end must be finite");return ot(this,a).call(this,this.select(h),this.select(x))}}],[{key:"supportedLocalesOf",value:function(f){return Au(f).filter(o)}}]),d}();return typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(p.prototype,Symbol.toStringTag,{value:"Intl.PluralRules",writable:!1,configurable:!0}),Object.defineProperty(p,"prototype",{writable:!1}),p}var Au,Ou=hh(()=>{Au=function(t){if(!t)return[];Array.isArray(t)||(t=[t]);for(var n={},r=0;r<t.length;++r){var o,i=t[r];if(i&&ho(i)==="object"&&(i=String(i)),typeof i!="string"){var s="Locales should be strings, ".concat(JSON.stringify(i)," isn't.");throw new TypeError(s)}var a=i.split("-");if(!a.every(function(p){return/[a-z0-9]+/i.test(p)})){var l=JSON.stringify(i),c="The locale ".concat(l," is not a structurally valid BCP 47 language tag.");throw new RangeError(c)}var u=a[0].toLowerCase();a[0]=(o={in:"id",iw:"he",ji:"yi"}[u])!==null&&o!==void 0?o:u,n[a.join("-")]=!0}return Object.keys(n)}});var Pu=zi(($_,Lu)=>{"use strict";var Kh=(Ou(),Mc(Mu));function Zh(e){return e&&typeof e=="object"&&"default"in e?e:{default:e}}function Ki(e,t){return t.forEach(function(n){n&&typeof n!="string"&&!Array.isArray(n)&&Object.keys(n).forEach(function(r){if(r!=="default"&&!(r in e)){var o=Object.getOwnPropertyDescriptor(n,r);Object.defineProperty(e,r,o.get?o:{enumerable:!0,get:function(){return n[r]}})}})}),Object.freeze(e)}var Qh=Zh(Kh),Zi=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Qi(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var ea={exports:{}};(function(e,t){var n=function(c,u){return u?"other":c==1?"one":"other"},r=function(c,u){return u?"other":c==0||c==1?"one":"other"},o=function(c,u){return u?"other":c>=0&&c<=1?"one":"other"},i=function(c,u){var p=String(c).split("."),d=!p[1];return u?"other":c==1&&d?"one":"other"},s=function(c,u){return"other"},a=function(c,u){return u?"other":c==1?"one":c==2?"two":"other"};(function(l,c){Object.defineProperty(c,"__esModule",{value:!0}),e.exports=c})(Zi,{af:n,ak:r,am:o,an:n,ar:function(c,u){var p=String(c).split("."),d=Number(p[0])==c,m=d&&p[0].slice(-2);return u?"other":c==0?"zero":c==1?"one":c==2?"two":m>=3&&m<=10?"few":m>=11&&m<=99?"many":"other"},ars:function(c,u){var p=String(c).split("."),d=Number(p[0])==c,m=d&&p[0].slice(-2);return u?"other":c==0?"zero":c==1?"one":c==2?"two":m>=3&&m<=10?"few":m>=11&&m<=99?"many":"other"},as:function(c,u){return u?c==1||c==5||c==7||c==8||c==9||c==10?"one":c==2||c==3?"two":c==4?"few":c==6?"many":"other":c>=0&&c<=1?"one":"other"},asa:n,ast:i,az:function(c,u){var p=String(c).split("."),d=p[0],m=d.slice(-1),f=d.slice(-2),g=d.slice(-3);return u?m==1||m==2||m==5||m==7||m==8||f==20||f==50||f==70||f==80?"one":m==3||m==4||g==100||g==200||g==300||g==400||g==500||g==600||g==700||g==800||g==900?"few":d==0||m==6||f==40||f==60||f==90?"many":"other":c==1?"one":"other"},bal:function(c,u){return c==1?"one":"other"},be:function(c,u){var p=String(c).split("."),d=Number(p[0])==c,m=d&&p[0].slice(-1),f=d&&p[0].slice(-2);return u?(m==2||m==3)&&f!=12&&f!=13?"few":"other":m==1&&f!=11?"one":m>=2&&m<=4&&(f<12||f>14)?"few":d&&m==0||m>=5&&m<=9||f>=11&&f<=14?"many":"other"},bem:n,bez:n,bg:n,bho:r,bm:s,bn:function(c,u){return u?c==1||c==5||c==7||c==8||c==9||c==10?"one":c==2||c==3?"two":c==4?"few":c==6?"many":"other":c>=0&&c<=1?"one":"other"},bo:s,br:function(c,u){var p=String(c).split("."),d=Number(p[0])==c,m=d&&p[0].slice(-1),f=d&&p[0].slice(-2),g=d&&p[0].slice(-6);return u?"other":m==1&&f!=11&&f!=71&&f!=91?"one":m==2&&f!=12&&f!=72&&f!=92?"two":(m==3||m==4||m==9)&&(f<10||f>19)&&(f<70||f>79)&&(f<90||f>99)?"few":c!=0&&d&&g==0?"many":"other"},brx:n,bs:function(c,u){var p=String(c).split("."),d=p[0],m=p[1]||"",f=!p[1],g=d.slice(-1),h=d.slice(-2),x=m.slice(-1),b=m.slice(-2);return u?"other":f&&g==1&&h!=11||x==1&&b!=11?"one":f&&g>=2&&g<=4&&(h<12||h>14)||x>=2&&x<=4&&(b<12||b>14)?"few":"other"},ca:function(c,u){var p=String(c).split("."),d=p[0],m=!p[1],f=d.slice(-6);return u?c==1||c==3?"one":c==2?"two":c==4?"few":"other":c==1&&m?"one":d!=0&&f==0&&m?"many":"other"},ce:n,ceb:function(c,u){var p=String(c).split("."),d=p[0],m=p[1]||"",f=!p[1],g=d.slice(-1),h=m.slice(-1);return u?"other":f&&(d==1||d==2||d==3)||f&&g!=4&&g!=6&&g!=9||!f&&h!=4&&h!=6&&h!=9?"one":"other"},cgg:n,chr:n,ckb:n,cs:function(c,u){var p=String(c).split("."),d=p[0],m=!p[1];return u?"other":c==1&&m?"one":d>=2&&d<=4&&m?"few":m?"other":"many"},cy:function(c,u){return u?c==0||c==7||c==8||c==9?"zero":c==1?"one":c==2?"two":c==3||c==4?"few":c==5||c==6?"many":"other":c==0?"zero":c==1?"one":c==2?"two":c==3?"few":c==6?"many":"other"},da:function(c,u){var p=String(c).split("."),d=p[0],m=Number(p[0])==c;return u?"other":c==1||!m&&(d==0||d==1)?"one":"other"},de:i,doi:o,dsb:function(c,u){var p=String(c).split("."),d=p[0],m=p[1]||"",f=!p[1],g=d.slice(-2),h=m.slice(-2);return u?"other":f&&g==1||h==1?"one":f&&g==2||h==2?"two":f&&(g==3||g==4)||h==3||h==4?"few":"other"},dv:n,dz:s,ee:n,el:n,en:function(c,u){var p=String(c).split("."),d=!p[1],m=Number(p[0])==c,f=m&&p[0].slice(-1),g=m&&p[0].slice(-2);return u?f==1&&g!=11?"one":f==2&&g!=12?"two":f==3&&g!=13?"few":"other":c==1&&d?"one":"other"},eo:n,es:function(c,u){var p=String(c).split("."),d=p[0],m=!p[1],f=d.slice(-6);return u?"other":c==1?"one":d!=0&&f==0&&m?"many":"other"},et:i,eu:n,fa:o,ff:function(c,u){return u?"other":c>=0&&c<2?"one":"other"},fi:i,fil:function(c,u){var p=String(c).split("."),d=p[0],m=p[1]||"",f=!p[1],g=d.slice(-1),h=m.slice(-1);return u?c==1?"one":"other":f&&(d==1||d==2||d==3)||f&&g!=4&&g!=6&&g!=9||!f&&h!=4&&h!=6&&h!=9?"one":"other"},fo:n,fr:function(c,u){var p=String(c).split("."),d=p[0],m=!p[1],f=d.slice(-6);return u?c==1?"one":"other":c>=0&&c<2?"one":d!=0&&f==0&&m?"many":"other"},fur:n,fy:i,ga:function(c,u){var p=String(c).split("."),d=Number(p[0])==c;return u?c==1?"one":"other":c==1?"one":c==2?"two":d&&c>=3&&c<=6?"few":d&&c>=7&&c<=10?"many":"other"},gd:function(c,u){var p=String(c).split("."),d=Number(p[0])==c;return u?c==1||c==11?"one":c==2||c==12?"two":c==3||c==13?"few":"other":c==1||c==11?"one":c==2||c==12?"two":d&&c>=3&&c<=10||d&&c>=13&&c<=19?"few":"other"},gl:i,gsw:n,gu:function(c,u){return u?c==1?"one":c==2||c==3?"two":c==4?"few":c==6?"many":"other":c>=0&&c<=1?"one":"other"},guw:r,gv:function(c,u){var p=String(c).split("."),d=p[0],m=!p[1],f=d.slice(-1),g=d.slice(-2);return u?"other":m&&f==1?"one":m&&f==2?"two":m&&(g==0||g==20||g==40||g==60||g==80)?"few":m?"other":"many"},ha:n,haw:n,he:function(c,u){var p=String(c).split("."),d=p[0],m=!p[1];return u?"other":d==1&&m||d==0&&!m?"one":d==2&&m?"two":"other"},hi:function(c,u){return u?c==1?"one":c==2||c==3?"two":c==4?"few":c==6?"many":"other":c>=0&&c<=1?"one":"other"},hnj:s,hr:function(c,u){var p=String(c).split("."),d=p[0],m=p[1]||"",f=!p[1],g=d.slice(-1),h=d.slice(-2),x=m.slice(-1),b=m.slice(-2);return u?"other":f&&g==1&&h!=11||x==1&&b!=11?"one":f&&g>=2&&g<=4&&(h<12||h>14)||x>=2&&x<=4&&(b<12||b>14)?"few":"other"},hsb:function(c,u){var p=String(c).split("."),d=p[0],m=p[1]||"",f=!p[1],g=d.slice(-2),h=m.slice(-2);return u?"other":f&&g==1||h==1?"one":f&&g==2||h==2?"two":f&&(g==3||g==4)||h==3||h==4?"few":"other"},hu:function(c,u){return u?c==1||c==5?"one":"other":c==1?"one":"other"},hy:function(c,u){return u?c==1?"one":"other":c>=0&&c<2?"one":"other"},ia:i,id:s,ig:s,ii:s,io:i,is:function(c,u){var p=String(c).split("."),d=p[0],m=(p[1]||"").replace(/0+$/,""),f=Number(p[0])==c,g=d.slice(-1),h=d.slice(-2);return u?"other":f&&g==1&&h!=11||m%10==1&&m%100!=11?"one":"other"},it:function(c,u){var p=String(c).split("."),d=p[0],m=!p[1],f=d.slice(-6);return u?c==11||c==8||c==80||c==800?"many":"other":c==1&&m?"one":d!=0&&f==0&&m?"many":"other"},iu:a,ja:s,jbo:s,jgo:n,jmc:n,jv:s,jw:s,ka:function(c,u){var p=String(c).split("."),d=p[0],m=d.slice(-2);return u?d==1?"one":d==0||m>=2&&m<=20||m==40||m==60||m==80?"many":"other":c==1?"one":"other"},kab:function(c,u){return u?"other":c>=0&&c<2?"one":"other"},kaj:n,kcg:n,kde:s,kea:s,kk:function(c,u){var p=String(c).split("."),d=Number(p[0])==c,m=d&&p[0].slice(-1);return u?m==6||m==9||d&&m==0&&c!=0?"many":"other":c==1?"one":"other"},kkj:n,kl:n,km:s,kn:o,ko:s,ks:n,ksb:n,ksh:function(c,u){return u?"other":c==0?"zero":c==1?"one":"other"},ku:n,kw:function(c,u){var p=String(c).split("."),d=Number(p[0])==c,m=d&&p[0].slice(-2),f=d&&p[0].slice(-3),g=d&&p[0].slice(-5),h=d&&p[0].slice(-6);return u?d&&c>=1&&c<=4||m>=1&&m<=4||m>=21&&m<=24||m>=41&&m<=44||m>=61&&m<=64||m>=81&&m<=84?"one":c==5||m==5?"many":"other":c==0?"zero":c==1?"one":m==2||m==22||m==42||m==62||m==82||d&&f==0&&(g>=1e3&&g<=2e4||g==4e4||g==6e4||g==8e4)||c!=0&&h==1e5?"two":m==3||m==23||m==43||m==63||m==83?"few":c!=1&&(m==1||m==21||m==41||m==61||m==81)?"many":"other"},ky:n,lag:function(c,u){var p=String(c).split("."),d=p[0];return u?"other":c==0?"zero":(d==0||d==1)&&c!=0?"one":"other"},lb:n,lg:n,lij:function(c,u){var p=String(c).split("."),d=!p[1],m=Number(p[0])==c;return u?c==11||c==8||m&&c>=80&&c<=89||m&&c>=800&&c<=899?"many":"other":c==1&&d?"one":"other"},lkt:s,ln:r,lo:function(c,u){return u&&c==1?"one":"other"},lt:function(c,u){var p=String(c).split("."),d=p[1]||"",m=Number(p[0])==c,f=m&&p[0].slice(-1),g=m&&p[0].slice(-2);return u?"other":f==1&&(g<11||g>19)?"one":f>=2&&f<=9&&(g<11||g>19)?"few":d!=0?"many":"other"},lv:function(c,u){var p=String(c).split("."),d=p[1]||"",m=d.length,f=Number(p[0])==c,g=f&&p[0].slice(-1),h=f&&p[0].slice(-2),x=d.slice(-2),b=d.slice(-1);return u?"other":f&&g==0||h>=11&&h<=19||m==2&&x>=11&&x<=19?"zero":g==1&&h!=11||m==2&&b==1&&x!=11||m!=2&&b==1?"one":"other"},mas:n,mg:r,mgo:n,mk:function(c,u){var p=String(c).split("."),d=p[0],m=p[1]||"",f=!p[1],g=d.slice(-1),h=d.slice(-2),x=m.slice(-1),b=m.slice(-2);return u?g==1&&h!=11?"one":g==2&&h!=12?"two":(g==7||g==8)&&h!=17&&h!=18?"many":"other":f&&g==1&&h!=11||x==1&&b!=11?"one":"other"},ml:n,mn:n,mo:function(c,u){var p=String(c).split("."),d=!p[1],m=Number(p[0])==c,f=m&&p[0].slice(-2);return u?c==1?"one":"other":c==1&&d?"one":!d||c==0||c!=1&&f>=1&&f<=19?"few":"other"},mr:function(c,u){return u?c==1?"one":c==2||c==3?"two":c==4?"few":"other":c==1?"one":"other"},ms:function(c,u){return u&&c==1?"one":"other"},mt:function(c,u){var p=String(c).split("."),d=Number(p[0])==c,m=d&&p[0].slice(-2);return u?"other":c==1?"one":c==2?"two":c==0||m>=3&&m<=10?"few":m>=11&&m<=19?"many":"other"},my:s,nah:n,naq:a,nb:n,nd:n,ne:function(c,u){var p=String(c).split("."),d=Number(p[0])==c;return u?d&&c>=1&&c<=4?"one":"other":c==1?"one":"other"},nl:i,nn:n,nnh:n,no:n,nqo:s,nr:n,nso:r,ny:n,nyn:n,om:n,or:function(c,u){var p=String(c).split("."),d=Number(p[0])==c;return u?c==1||c==5||d&&c>=7&&c<=9?"one":c==2||c==3?"two":c==4?"few":c==6?"many":"other":c==1?"one":"other"},os:n,osa:s,pa:r,pap:n,pcm:o,pl:function(c,u){var p=String(c).split("."),d=p[0],m=!p[1],f=d.slice(-1),g=d.slice(-2);return u?"other":c==1&&m?"one":m&&f>=2&&f<=4&&(g<12||g>14)?"few":m&&d!=1&&(f==0||f==1)||m&&f>=5&&f<=9||m&&g>=12&&g<=14?"many":"other"},prg:function(c,u){var p=String(c).split("."),d=p[1]||"",m=d.length,f=Number(p[0])==c,g=f&&p[0].slice(-1),h=f&&p[0].slice(-2),x=d.slice(-2),b=d.slice(-1);return u?"other":f&&g==0||h>=11&&h<=19||m==2&&x>=11&&x<=19?"zero":g==1&&h!=11||m==2&&b==1&&x!=11||m!=2&&b==1?"one":"other"},ps:n,pt:function(c,u){var p=String(c).split("."),d=p[0],m=!p[1],f=d.slice(-6);return u?"other":d==0||d==1?"one":d!=0&&f==0&&m?"many":"other"},pt_PT:function(c,u){var p=String(c).split("."),d=p[0],m=!p[1],f=d.slice(-6);return u?"other":c==1&&m?"one":d!=0&&f==0&&m?"many":"other"},rm:n,ro:function(c,u){var p=String(c).split("."),d=!p[1],m=Number(p[0])==c,f=m&&p[0].slice(-2);return u?c==1?"one":"other":c==1&&d?"one":!d||c==0||c!=1&&f>=1&&f<=19?"few":"other"},rof:n,ru:function(c,u){var p=String(c).split("."),d=p[0],m=!p[1],f=d.slice(-1),g=d.slice(-2);return u?"other":m&&f==1&&g!=11?"one":m&&f>=2&&f<=4&&(g<12||g>14)?"few":m&&f==0||m&&f>=5&&f<=9||m&&g>=11&&g<=14?"many":"other"},rwk:n,sah:s,saq:n,sat:a,sc:function(c,u){var p=String(c).split("."),d=!p[1];return u?c==11||c==8||c==80||c==800?"many":"other":c==1&&d?"one":"other"},scn:function(c,u){var p=String(c).split("."),d=!p[1];return u?c==11||c==8||c==80||c==800?"many":"other":c==1&&d?"one":"other"},sd:n,sdh:n,se:a,seh:n,ses:s,sg:s,sh:function(c,u){var p=String(c).split("."),d=p[0],m=p[1]||"",f=!p[1],g=d.slice(-1),h=d.slice(-2),x=m.slice(-1),b=m.slice(-2);return u?"other":f&&g==1&&h!=11||x==1&&b!=11?"one":f&&g>=2&&g<=4&&(h<12||h>14)||x>=2&&x<=4&&(b<12||b>14)?"few":"other"},shi:function(c,u){var p=String(c).split("."),d=Number(p[0])==c;return u?"other":c>=0&&c<=1?"one":d&&c>=2&&c<=10?"few":"other"},si:function(c,u){var p=String(c).split("."),d=p[0],m=p[1]||"";return u?"other":c==0||c==1||d==0&&m==1?"one":"other"},sk:function(c,u){var p=String(c).split("."),d=p[0],m=!p[1];return u?"other":c==1&&m?"one":d>=2&&d<=4&&m?"few":m?"other":"many"},sl:function(c,u){var p=String(c).split("."),d=p[0],m=!p[1],f=d.slice(-2);return u?"other":m&&f==1?"one":m&&f==2?"two":m&&(f==3||f==4)||!m?"few":"other"},sma:a,smi:a,smj:a,smn:a,sms:a,sn:n,so:n,sq:function(c,u){var p=String(c).split("."),d=Number(p[0])==c,m=d&&p[0].slice(-1),f=d&&p[0].slice(-2);return u?c==1?"one":m==4&&f!=14?"many":"other":c==1?"one":"other"},sr:function(c,u){var p=String(c).split("."),d=p[0],m=p[1]||"",f=!p[1],g=d.slice(-1),h=d.slice(-2),x=m.slice(-1),b=m.slice(-2);return u?"other":f&&g==1&&h!=11||x==1&&b!=11?"one":f&&g>=2&&g<=4&&(h<12||h>14)||x>=2&&x<=4&&(b<12||b>14)?"few":"other"},ss:n,ssy:n,st:n,su:s,sv:function(c,u){var p=String(c).split("."),d=!p[1],m=Number(p[0])==c,f=m&&p[0].slice(-1),g=m&&p[0].slice(-2);return u?(f==1||f==2)&&g!=11&&g!=12?"one":"other":c==1&&d?"one":"other"},sw:i,syr:n,ta:n,te:n,teo:n,th:s,ti:r,tig:n,tk:function(c,u){var p=String(c).split("."),d=Number(p[0])==c,m=d&&p[0].slice(-1);return u?m==6||m==9||c==10?"few":"other":c==1?"one":"other"},tl:function(c,u){var p=String(c).split("."),d=p[0],m=p[1]||"",f=!p[1],g=d.slice(-1),h=m.slice(-1);return u?c==1?"one":"other":f&&(d==1||d==2||d==3)||f&&g!=4&&g!=6&&g!=9||!f&&h!=4&&h!=6&&h!=9?"one":"other"},tn:n,to:s,tpi:s,tr:n,ts:n,tzm:function(c,u){var p=String(c).split("."),d=Number(p[0])==c;return u?"other":c==0||c==1||d&&c>=11&&c<=99?"one":"other"},ug:n,uk:function(c,u){var p=String(c).split("."),d=p[0],m=!p[1],f=Number(p[0])==c,g=f&&p[0].slice(-1),h=f&&p[0].slice(-2),x=d.slice(-1),b=d.slice(-2);return u?g==3&&h!=13?"few":"other":m&&x==1&&b!=11?"one":m&&x>=2&&x<=4&&(b<12||b>14)?"few":m&&x==0||m&&x>=5&&x<=9||m&&b>=11&&b<=14?"many":"other"},und:s,ur:i,uz:n,ve:n,vec:function(c,u){var p=String(c).split("."),d=p[0],m=!p[1],f=d.slice(-6);return u?c==11||c==8||c==80||c==800?"many":"other":c==1&&m?"one":d!=0&&f==0&&m?"many":"other"},vi:function(c,u){return u&&c==1?"one":"other"},vo:n,vun:n,wa:r,wae:n,wo:s,xh:n,xog:n,yi:i,yo:s,yue:s,zh:s,zu:o})})(ea);var Fu=Qi(ea.exports),eb=Ki({__proto__:null,default:Fu},[ea.exports]),ta={exports:{}};(function(e,t){var n="zero",r="one",o="two",i="few",s="many",a="other",l={cardinal:[r,a],ordinal:[a]},c={cardinal:[r,a],ordinal:[r,a]},u={cardinal:[a],ordinal:[a]},p={cardinal:[r,o,a],ordinal:[a]};(function(d,m){Object.defineProperty(m,"__esModule",{value:!0}),e.exports=m})(Zi,{af:l,ak:l,am:l,an:l,ar:{cardinal:[n,r,o,i,s,a],ordinal:[a]},ars:{cardinal:[n,r,o,i,s,a],ordinal:[a]},as:{cardinal:[r,a],ordinal:[r,o,i,s,a]},asa:l,ast:l,az:{cardinal:[r,a],ordinal:[r,i,s,a]},bal:c,be:{cardinal:[r,i,s,a],ordinal:[i,a]},bem:l,bez:l,bg:l,bho:l,bm:u,bn:{cardinal:[r,a],ordinal:[r,o,i,s,a]},bo:u,br:{cardinal:[r,o,i,s,a],ordinal:[a]},brx:l,bs:{cardinal:[r,i,a],ordinal:[a]},ca:{cardinal:[r,s,a],ordinal:[r,o,i,a]},ce:l,ceb:l,cgg:l,chr:l,ckb:l,cs:{cardinal:[r,i,s,a],ordinal:[a]},cy:{cardinal:[n,r,o,i,s,a],ordinal:[n,r,o,i,s,a]},da:l,de:l,doi:l,dsb:{cardinal:[r,o,i,a],ordinal:[a]},dv:l,dz:u,ee:l,el:l,en:{cardinal:[r,a],ordinal:[r,o,i,a]},eo:l,es:{cardinal:[r,s,a],ordinal:[a]},et:l,eu:l,fa:l,ff:l,fi:l,fil:c,fo:l,fr:{cardinal:[r,s,a],ordinal:[r,a]},fur:l,fy:l,ga:{cardinal:[r,o,i,s,a],ordinal:[r,a]},gd:{cardinal:[r,o,i,a],ordinal:[r,o,i,a]},gl:l,gsw:l,gu:{cardinal:[r,a],ordinal:[r,o,i,s,a]},guw:l,gv:{cardinal:[r,o,i,s,a],ordinal:[a]},ha:l,haw:l,he:p,hi:{cardinal:[r,a],ordinal:[r,o,i,s,a]},hnj:u,hr:{cardinal:[r,i,a],ordinal:[a]},hsb:{cardinal:[r,o,i,a],ordinal:[a]},hu:c,hy:c,ia:l,id:u,ig:u,ii:u,io:l,is:l,it:{cardinal:[r,s,a],ordinal:[s,a]},iu:p,ja:u,jbo:u,jgo:l,jmc:l,jv:u,jw:u,ka:{cardinal:[r,a],ordinal:[r,s,a]},kab:l,kaj:l,kcg:l,kde:u,kea:u,kk:{cardinal:[r,a],ordinal:[s,a]},kkj:l,kl:l,km:u,kn:l,ko:u,ks:l,ksb:l,ksh:{cardinal:[n,r,a],ordinal:[a]},ku:l,kw:{cardinal:[n,r,o,i,s,a],ordinal:[r,s,a]},ky:l,lag:{cardinal:[n,r,a],ordinal:[a]},lb:l,lg:l,lij:{cardinal:[r,a],ordinal:[s,a]},lkt:u,ln:l,lo:{cardinal:[a],ordinal:[r,a]},lt:{cardinal:[r,i,s,a],ordinal:[a]},lv:{cardinal:[n,r,a],ordinal:[a]},mas:l,mg:l,mgo:l,mk:{cardinal:[r,a],ordinal:[r,o,s,a]},ml:l,mn:l,mo:{cardinal:[r,i,a],ordinal:[r,a]},mr:{cardinal:[r,a],ordinal:[r,o,i,a]},ms:{cardinal:[a],ordinal:[r,a]},mt:{cardinal:[r,o,i,s,a],ordinal:[a]},my:u,nah:l,naq:p,nb:l,nd:l,ne:c,nl:l,nn:l,nnh:l,no:l,nqo:u,nr:l,nso:l,ny:l,nyn:l,om:l,or:{cardinal:[r,a],ordinal:[r,o,i,s,a]},os:l,osa:u,pa:l,pap:l,pcm:l,pl:{cardinal:[r,i,s,a],ordinal:[a]},prg:{cardinal:[n,r,a],ordinal:[a]},ps:l,pt:{cardinal:[r,s,a],ordinal:[a]},pt_PT:{cardinal:[r,s,a],ordinal:[a]},rm:l,ro:{cardinal:[r,i,a],ordinal:[r,a]},rof:l,ru:{cardinal:[r,i,s,a],ordinal:[a]},rwk:l,sah:u,saq:l,sat:p,sc:{cardinal:[r,a],ordinal:[s,a]},scn:{cardinal:[r,a],ordinal:[s,a]},sd:l,sdh:l,se:p,seh:l,ses:u,sg:u,sh:{cardinal:[r,i,a],ordinal:[a]},shi:{cardinal:[r,i,a],ordinal:[a]},si:l,sk:{cardinal:[r,i,s,a],ordinal:[a]},sl:{cardinal:[r,o,i,a],ordinal:[a]},sma:p,smi:p,smj:p,smn:p,sms:p,sn:l,so:l,sq:{cardinal:[r,a],ordinal:[r,s,a]},sr:{cardinal:[r,i,a],ordinal:[a]},ss:l,ssy:l,st:l,su:u,sv:c,sw:l,syr:l,ta:l,te:l,teo:l,th:u,ti:l,tig:l,tk:{cardinal:[r,a],ordinal:[i,a]},tl:c,tn:l,to:u,tpi:u,tr:l,ts:l,tzm:l,ug:l,uk:{cardinal:[r,i,s,a],ordinal:[i,a]},und:u,ur:l,uz:l,ve:l,vec:{cardinal:[r,s,a],ordinal:[s,a]},vi:{cardinal:[a],ordinal:[r,a]},vo:l,vun:l,wa:l,wae:l,wo:u,xh:l,xog:l,yi:l,yo:u,yue:u,zh:u,zu:l})})(ta);var Bu=Qi(ta.exports),tb=Ki({__proto__:null,default:Bu},[ta.exports]),na={exports:{}};(function(e,t){var n=function(s,a){return"other"},r=function(s,a){return s==="other"&&a==="one"?"one":"other"},o=function(s,a){return a||"other"};(function(i,s){Object.defineProperty(s,"__esModule",{value:!0}),e.exports=s})(Zi,{af:n,ak:r,am:o,an:n,ar:function(s,a){return a==="few"?"few":a==="many"?"many":s==="zero"&&a==="one"||s==="zero"&&a==="two"?"zero":"other"},as:o,az:o,be:o,bg:n,bn:o,bs:o,ca:n,cs:o,cy:o,da:o,de:o,el:o,en:n,es:n,et:n,eu:n,fa:r,fi:n,fil:o,fr:o,ga:o,gl:o,gsw:o,gu:o,he:n,hi:o,hr:o,hu:o,hy:o,ia:n,id:n,io:n,is:o,it:o,ja:n,ka:function(s,a){return s||"other"},kk:o,km:n,kn:o,ko:n,ky:o,lij:o,lo:n,lt:o,lv:function(s,a){return a==="one"?"one":"other"},mk:n,ml:o,mn:o,mr:o,ms:n,my:n,nb:n,ne:o,nl:o,no:n,or:r,pa:o,pcm:n,pl:o,ps:o,pt:o,ro:function(s,a){return a==="few"||a==="one"?"few":"other"},ru:o,sc:o,scn:o,sd:r,si:function(s,a){return s==="one"&&a==="one"?"one":"other"},sk:o,sl:function(s,a){return a==="few"||a==="one"?"few":a==="two"?"two":"other"},sq:o,sr:o,sv:n,sw:o,ta:o,te:o,th:n,tk:o,tr:o,ug:o,uk:o,ur:n,uz:o,vi:n,yue:n,zh:n,zu:o})})(na);var $u=Qi(na.exports),nb=Ki({__proto__:null,default:$u},[na.exports]),rb=Fu||eb,ob=Bu||tb,ib=$u||nb,ra=function(t){return t==="pt-PT"?"pt_PT":t},ab=function(t){return rb[ra(t)]},sb=function(t,n){return ob[ra(t)][n?"ordinal":"cardinal"]},cb=function(t){return ib[ra(t)]},lb=Qh.default(Intl.NumberFormat,ab,sb,cb);Lu.exports=lb});var Uu=zi(Gu=>{"use strict";var ub=Pu();function pb(e){return e&&typeof e=="object"&&"default"in e?e:{default:e}}var Qt=pb(ub);typeof Intl>"u"?(typeof global<"u"?global.Intl={PluralRules:Qt.default}:typeof window<"u"?window.Intl={PluralRules:Qt.default}:Gu.Intl={PluralRules:Qt.default},Qt.default.polyfill=!0):!Intl.PluralRules||!Intl.PluralRules.prototype.selectRange?(Intl.PluralRules=Qt.default,Qt.default.polyfill=!0):(oa=["en","es","ru","zh"],qu=Intl.PluralRules.supportedLocalesOf(oa),qu.length<oa.length&&(Intl.PluralRules=Qt.default,Qt.default.polyfill=!0));var oa,qu});var ju=zi(en=>{"use strict";var zu=en&&en.__awaiter||function(e,t,n,r){function o(i){return i instanceof n?i:new n(function(s){s(i)})}return new(n||(n=Promise))(function(i,s){function a(u){try{c(r.next(u))}catch(p){s(p)}}function l(u){try{c(r.throw(u))}catch(p){s(p)}}function c(u){u.done?i(u.value):o(u.value).then(a,l)}c((r=r.apply(e,t||[])).next())})},Wu=en&&en.__generator||function(e,t){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,o,i,s;return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(c){return function(u){return l([c,u])}}function l(c){if(r)throw new TypeError("Generator is already executing.");for(;s&&(s=0,c[0]&&(n=0)),n;)try{if(r=1,o&&(i=c[0]&2?o.return:c[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,c[1])).done)return i;switch(o=0,i&&(c=[c[0]&2,i.value]),c[0]){case 0:case 1:i=c;break;case 4:return n.label++,{value:c[1],done:!1};case 5:n.label++,o=c[1],c=[0];continue;case 7:c=n.ops.pop(),n.trys.pop();continue;default:if(i=n.trys,!(i=i.length>0&&i[i.length-1])&&(c[0]===6||c[0]===2)){n=0;continue}if(c[0]===3&&(!i||c[1]>i[0]&&c[1]<i[3])){n.label=c[1];break}if(c[0]===6&&n.label<i[1]){n.label=i[1],i=c;break}if(i&&n.label<i[2]){n.label=i[2],n.ops.push(c);break}i[2]&&n.ops.pop(),n.trys.pop();continue}c=t.call(e,n)}catch(u){c=[6,u],o=0}finally{r=i=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}};Object.defineProperty(en,"__esModule",{value:!0});en.postProto=void 0;function db(e,t,n,r){var o=r.alertOnError,i=o===void 0?!0:o;return zu(this,void 0,void 0,function(){var s,a,l,c;return Wu(this,function(u){switch(u.label){case 0:return u.trys.push([0,2,,3]),s=t.toBinary(),a="/_anki/".concat(e),[4,mb(a,s)];case 1:return l=u.sent(),[2,n.fromBinary(l)];case 2:throw c=u.sent(),i&&!(c instanceof Error&&c.message==="500: Interrupted")&&alert(c),c;case 3:return[2]}})})}en.postProto=db;function mb(e,t){return zu(this,void 0,void 0,function(){var n,r,o,i,s;return Wu(this,function(a){switch(a.label){case 0:return[4,fetch(e,{method:"POST",headers:{"Content-Type":"application/binary"},body:t})];case 1:if(n=a.sent(),n.ok)return[3,6];r="something went wrong",a.label=2;case 2:return a.trys.push([2,4,,5]),[4,n.text()];case 3:return r=a.sent(),[3,5];case 4:return o=a.sent(),[3,5];case 5:throw new Error("".concat(n.status,": ").concat(r));case 6:return[4,n.blob()];case 7:return i=a.sent(),[4,new Response(i).arrayBuffer()];case 8:return s=a.sent(),[2,new Uint8Array(s)]}})})}});var m_={};Ac(m_,{graphComponents:()=>d_,setupGraphs:()=>sh});var Wi={};function F(e,t={}){var n;return(n=Wi.getMessage(e,t))!=null?n:`missing key: ${e}`}var X={};X.ABOUT="about";X.ACTIONS="actions";X.ADDING="adding";X.ADDONS="addons";X.BROWSING="browsing";X.CARD_STATS="card_stats";X.CARD_TEMPLATE_RENDERING="card_template_rendering";X.CARD_TEMPLATES="card_templates";X.CHANGE_NOTETYPE="change_notetype";X.CUSTOM_STUDY="custom_study";X.DATABASE_CHECK="database_check";X.DECK_CONFIG="deck_config";X.DECKS="decks";X.EDITING="editing";X.EMPTY_CARDS="empty_cards";X.ERRORS="errors";X.EXPORTING="exporting";X.FIELDS="fields";X.FINDREPLACE="findreplace";X.HELP="help";X.IMPORTING="importing";X.KEYBOARD="keyboard";X.MEDIA="media";X.MEDIA_CHECK="media_check";X.NETWORK="network";X.NOTETYPES="notetypes";X.PREFERENCES="preferences";X.PROFILES="profiles";X.QT_ACCEL="qt_accel";X.QT_MISC="qt_misc";X.SCHEDULING="scheduling";X.SEARCH="search";X.STATISTICS="statistics";X.STUDYING="studying";X.SYNC="sync";X.UNDO="undo";function Oc(e){return F("scheduling-time-span-days",e)}function Fc(e){return F("scheduling-time-span-hours",e)}function Bc(e){return F("scheduling-time-span-minutes",e)}function $c(e){return F("scheduling-time-span-months",e)}function Lc(e){return F("scheduling-time-span-seconds",e)}function Pc(e){return F("scheduling-time-span-years",e)}function qc(){return F("statistics-added-subtitle")}function Gc(){return F("statistics-added-title")}function Uc(e){return F("statistics-amount-of-total-with-percentage",e)}function zc(){return F("statistics-answer-buttons-button-number")}function Wc(){return F("statistics-answer-buttons-button-pressed")}function jc(){return F("statistics-answer-buttons-subtitle")}function Hc(){return F("statistics-answer-buttons-title")}function co(){return F("statistics-average")}function Vc(e){return F("statistics-average-answer-time",{"average-seconds":e.averageSeconds,"cards-per-minute":e.cardsPerMinute})}function Yc(){return F("statistics-average-answer-time-label")}function Jc(){return F("statistics-average-difficulty")}function Xc(){return F("statistics-average-ease")}function Kc(){return F("statistics-average-for-days-studied")}function Zc(){return F("statistics-average-interval")}function Qc(){return F("statistics-average-over-period")}function el(){return F("statistics-average-retrievability")}function tl(){return F("statistics-average-stability")}function nl(){return F("statistics-backlog-checkbox")}function rl(){return F("statistics-calendar-title")}function ol(){return F("statistics-card-difficulty-subtitle2")}function il(){return F("statistics-card-difficulty-title")}function al(e){return F("statistics-card-difficulty-tooltip",e)}function sl(){return F("statistics-card-ease-subtitle")}function cl(){return F("statistics-card-ease-title")}function ll(e){return F("statistics-card-ease-tooltip",e)}function ul(){return F("statistics-card-retrievability-title")}function pl(){return F("statistics-card-stability-subtitle")}function dl(){return F("statistics-card-stability-title")}function lo(e){return F("statistics-cards",e)}function ml(e){return F("statistics-cards-due",e)}function fl(e){return F("statistics-cards-per-day",e)}function gl(){return F("statistics-counts-buried-cards")}function hl(){return F("statistics-counts-filtered-cards")}function Ln(){return F("statistics-counts-learning-cards")}function Pn(){return F("statistics-counts-mature-cards")}function bl(){return F("statistics-counts-new-cards")}function uo(){return F("statistics-counts-relearning-cards")}function xl(){return F("statistics-counts-separate-suspended-buried-cards")}function yl(){return F("statistics-counts-suspended-cards")}function kl(){return F("statistics-counts-title")}function wl(){return F("statistics-counts-total-cards")}function qn(){return F("statistics-counts-young-cards")}function _l(e){return F("statistics-days-ago-range",e)}function vl(e){return F("statistics-days-ago-single",e)}function Tl(){return F("statistics-days-studied")}function Cl(){return F("statistics-due-tomorrow")}function Sl(e){return F("statistics-elapsed-time-days",e)}function Nl(e){return F("statistics-elapsed-time-hours",e)}function Rl(e){return F("statistics-elapsed-time-minutes",e)}function El(e){return F("statistics-elapsed-time-months",e)}function Al(e){return F("statistics-elapsed-time-seconds",e)}function Dl(e){return F("statistics-elapsed-time-years",e)}function Il(){return F("statistics-future-due-subtitle")}function Ml(){return F("statistics-future-due-title")}function Ol(e){return F("statistics-hours-correct",e)}function Fl(e){return F("statistics-hours-correct-reviews",e)}function Bl(e){return F("statistics-hours-range",e)}function $l(e){return F("statistics-hours-reviews",e)}function Ll(){return F("statistics-hours-subtitle")}function Pl(){return F("statistics-hours-title")}function ql(e){return F("statistics-in-days-range",e)}function Gl(e){return F("statistics-in-days-single",e)}function Ul(e){return F("statistics-intervals-day-range",e)}function zl(e){return F("statistics-intervals-day-single",e)}function Wl(){return F("statistics-intervals-subtitle")}function jl(){return F("statistics-intervals-title")}function ji(e){return F("statistics-minutes-per-day",e)}function Hl(){return F("statistics-no-data")}function Vl(){return F("statistics-range-1-year-history")}function Yl(){return F("statistics-range-all-history")}function Gn(){return F("statistics-range-all-time")}function Jl(){return F("statistics-range-collection")}function Xl(){return F("statistics-range-deck")}function Kl(){return F("statistics-range-search")}function Zl(){return F("statistics-retrievability-subtitle")}function Ql(e){return F("statistics-retrievability-tooltip",e)}function Xt(e){return F("statistics-reviews",e)}function eu(){return F("statistics-reviews-count-subtitle")}function hr(e){return F("statistics-reviews-per-day",e)}function tu(){return F("statistics-reviews-time-checkbox")}function nu(){return F("statistics-reviews-time-subtitle")}function ru(){return F("statistics-reviews-title")}function Kt(){return F("statistics-running-total")}function ou(e){return F("statistics-stability-day-range",e)}function iu(e){return F("statistics-stability-day-single",e)}function au(e){return F("statistics-studied-today",{unit:e.unit,"secs-per-card":e.secsPerCard,amount:e.amount,cards:e.cards})}function su(){return F("statistics-today-again-count")}function cu(e){return F("statistics-today-correct-mature",e)}function lu(){return F("statistics-today-no-cards")}function uu(){return F("statistics-today-no-mature-cards")}function pu(){return F("statistics-today-title")}function du(e){return F("statistics-today-type-counts",e)}function Un(){return F("statistics-total")}var Zt=class{constructor(t){this.value=t}valueOf(){return this.value}},se=class extends Zt{constructor(t="???"){super(t)}toString(t){return`{${this.value}}`}},Ie=class extends Zt{constructor(t,n={}){super(t),this.opts=n}toString(t){try{return t.memoizeIntlObject(Intl.NumberFormat,this.opts).format(this.value)}catch(n){return t.reportError(n),this.value.toString(10)}}},mt=class extends Zt{constructor(t,n={}){super(t),this.opts=n}toString(t){try{return t.memoizeIntlObject(Intl.DateTimeFormat,this.opts).format(this.value)}catch(n){return t.reportError(n),new Date(this.value).toISOString()}}};var mu=100,bh="\u2068",xh="\u2069";function yh(e,t,n){if(n===t||n instanceof Ie&&t instanceof Ie&&n.value===t.value)return!0;if(t instanceof Ie&&typeof n=="string"){let r=e.memoizeIntlObject(Intl.PluralRules,t.opts).select(t.value);if(n===r)return!0}return!1}function fu(e,t,n){return t[n]?zn(e,t[n].value):(e.reportError(new RangeError("No default")),new se)}function Hi(e,t){let n=[],r=Object.create(null);for(let o of t)o.type==="narg"?r[o.name]=br(e,o.value):n.push(br(e,o));return{positional:n,named:r}}function br(e,t){switch(t.type){case"str":return t.value;case"num":return new Ie(t.value,{minimumFractionDigits:t.precision});case"var":return kh(e,t);case"mesg":return wh(e,t);case"term":return _h(e,t);case"func":return vh(e,t);case"select":return Th(e,t);default:return new se}}function kh(e,{name:t}){let n;if(e.params)if(Object.prototype.hasOwnProperty.call(e.params,t))n=e.params[t];else return new se(`$${t}`);else if(e.args&&Object.prototype.hasOwnProperty.call(e.args,t))n=e.args[t];else return e.reportError(new ReferenceError(`Unknown variable: $${t}`)),new se(`$${t}`);if(n instanceof Zt)return n;switch(typeof n){case"string":return n;case"number":return new Ie(n);case"object":if(n instanceof Date)return new mt(n.getTime());default:return e.reportError(new TypeError(`Variable type not supported: $${t}, ${typeof n}`)),new se(`$${t}`)}}function wh(e,{name:t,attr:n}){let r=e.bundle._messages.get(t);if(!r)return e.reportError(new ReferenceError(`Unknown message: ${t}`)),new se(t);if(n){let o=r.attributes[n];return o?zn(e,o):(e.reportError(new ReferenceError(`Unknown attribute: ${n}`)),new se(`${t}.${n}`))}return r.value?zn(e,r.value):(e.reportError(new ReferenceError(`No value: ${t}`)),new se(t))}function _h(e,{name:t,attr:n,args:r}){let o=`-${t}`,i=e.bundle._terms.get(o);if(!i)return e.reportError(new ReferenceError(`Unknown term: ${o}`)),new se(o);if(n){let a=i.attributes[n];if(a){e.params=Hi(e,r).named;let l=zn(e,a);return e.params=null,l}return e.reportError(new ReferenceError(`Unknown attribute: ${n}`)),new se(`${o}.${n}`)}e.params=Hi(e,r).named;let s=zn(e,i.value);return e.params=null,s}function vh(e,{name:t,args:n}){let r=e.bundle._functions[t];if(!r)return e.reportError(new ReferenceError(`Unknown function: ${t}()`)),new se(`${t}()`);if(typeof r!="function")return e.reportError(new TypeError(`Function ${t}() is not callable`)),new se(`${t}()`);try{let o=Hi(e,n);return r(o.positional,o.named)}catch(o){return e.reportError(o),new se(`${t}()`)}}function Th(e,{selector:t,variants:n,star:r}){let o=br(e,t);if(o instanceof se)return fu(e,n,r);for(let i of n){let s=br(e,i.key);if(yh(e,o,s))return zn(e,i.value)}return fu(e,n,r)}function Vi(e,t){if(e.dirty.has(t))return e.reportError(new RangeError("Cyclic reference")),new se;e.dirty.add(t);let n=[],r=e.bundle._useIsolating&&t.length>1;for(let o of t){if(typeof o=="string"){n.push(e.bundle._transform(o));continue}if(e.placeables++,e.placeables>mu)throw e.dirty.delete(t),new RangeError(`Too many placeables expanded: ${e.placeables}, max allowed is ${mu}`);r&&n.push(bh),n.push(br(e,o).toString(e)),r&&n.push(xh)}return e.dirty.delete(t),n.join("")}function zn(e,t){return typeof t=="string"?e.bundle._transform(t):Vi(e,t)}var po=class{constructor(t,n,r){this.dirty=new WeakSet,this.params=null,this.placeables=0,this.bundle=t,this.errors=n,this.args=r}reportError(t){if(!this.errors||!(t instanceof Error))throw t;this.errors.push(t)}memoizeIntlObject(t,n){let r=this.bundle._intls.get(t);r||(r={},this.bundle._intls.set(t,r));let o=JSON.stringify(n);return r[o]||(r[o]=new t(this.bundle.locales,n)),r[o]}};function mo(e,t){let n=Object.create(null);for(let[r,o]of Object.entries(e))t.includes(r)&&(n[r]=o.valueOf());return n}var gu=["unitDisplay","currencyDisplay","useGrouping","minimumIntegerDigits","minimumFractionDigits","maximumFractionDigits","minimumSignificantDigits","maximumSignificantDigits"];function bu(e,t){let n=e[0];if(n instanceof se)return new se(`NUMBER(${n.valueOf()})`);if(n instanceof Ie)return new Ie(n.valueOf(),{...n.opts,...mo(t,gu)});if(n instanceof mt)return new Ie(n.valueOf(),{...mo(t,gu)});throw new TypeError("Invalid argument to NUMBER")}var hu=["dateStyle","timeStyle","fractionalSecondDigits","dayPeriod","hour12","weekday","era","year","month","day","hour","minute","second","timeZoneName"];function xu(e,t){let n=e[0];if(n instanceof se)return new se(`DATETIME(${n.valueOf()})`);if(n instanceof mt)return new mt(n.valueOf(),{...n.opts,...mo(t,hu)});if(n instanceof Ie)return new mt(n.valueOf(),{...mo(t,hu)});throw new TypeError("Invalid argument to DATETIME")}var yu=new Map;function ku(e){let t=Array.isArray(e)?e.join(" "):e,n=yu.get(t);return n===void 0&&(n=new Map,yu.set(t,n)),n}var xr=class{constructor(t,{functions:n,useIsolating:r=!0,transform:o=i=>i}={}){this._terms=new Map,this._messages=new Map,this.locales=Array.isArray(t)?t:[t],this._functions={NUMBER:bu,DATETIME:xu,...n},this._useIsolating=r,this._transform=o,this._intls=ku(t)}hasMessage(t){return this._messages.has(t)}getMessage(t){return this._messages.get(t)}addResource(t,{allowOverrides:n=!1}={}){let r=[];for(let o=0;o<t.body.length;o++){let i=t.body[o];if(i.id.startsWith("-")){if(n===!1&&this._terms.has(i.id)){r.push(new Error(`Attempt to override an existing term: "${i.id}"`));continue}this._terms.set(i.id,i)}else{if(n===!1&&this._messages.has(i.id)){r.push(new Error(`Attempt to override an existing message: "${i.id}"`));continue}this._messages.set(i.id,i)}}return r}formatPattern(t,n=null,r=null){if(typeof t=="string")return this._transform(t);let o=new po(this,r,n);try{return Vi(o,t).toString(o)}catch(i){if(o.errors&&i instanceof Error)return o.errors.push(i),new se().toString(o);throw i}}};var Yi=/^(-?[a-zA-Z][\w-]*) *= */gm,wu=/\.([a-zA-Z][\w-]*) *= */y,Ch=/\*?\[/y,Ji=/(-?[0-9]+(?:\.([0-9]+))?)/y,Sh=/([a-zA-Z][\w-]*)/y,_u=/([$-])?([a-zA-Z][\w-]*)(?:\.([a-zA-Z][\w-]*))?/y,Nh=/^[A-Z][A-Z0-9_-]*$/,fo=/([^{}\n\r]+)/y,Rh=/([^\\"\n\r]*)/y,vu=/\\([\\"])/y,Tu=/\\u([a-fA-F0-9]{4})|\\U([a-fA-F0-9]{6})/y,Eh=/^\n+/,Cu=/ +$/,Ah=/ *\r?\n/g,Dh=/( *)$/,Ih=/{\s*/y,Su=/\s*}/y,Mh=/\[\s*/y,Oh=/\s*] */y,Fh=/\s*\(\s*/y,Bh=/\s*->\s*/y,$h=/\s*:\s*/y,Lh=/\s*,?\s*/y,Ph=/\s+/y,yr=class{constructor(t){this.body=[],Yi.lastIndex=0;let n=0;for(;;){let y=Yi.exec(t);if(y===null)break;n=Yi.lastIndex;try{this.body.push(l(y[1]))}catch(w){if(w instanceof SyntaxError)continue;throw w}}function r(y){return y.lastIndex=n,y.test(t)}function o(y,w){if(t[n]===y)return n++,!0;if(w)throw new w(`Expected ${y}`);return!1}function i(y,w){if(r(y))return n=y.lastIndex,!0;if(w)throw new w(`Expected ${y.toString()}`);return!1}function s(y){y.lastIndex=n;let w=y.exec(t);if(w===null)throw new SyntaxError(`Expected ${y.toString()}`);return n=y.lastIndex,w}function a(y){return s(y)[1]}function l(y){let w=u(),M=c();if(w===null&&Object.keys(M).length===0)throw new SyntaxError("Expected message value or attributes");return{id:y,value:w,attributes:M}}function c(){let y=Object.create(null);for(;r(wu);){let w=a(wu),M=u();if(M===null)throw new SyntaxError("Expected attribute value");y[w]=M}return y}function u(){let y;if(r(fo)&&(y=a(fo)),t[n]==="{"||t[n]==="}")return p(y?[y]:[],1/0);let w=$();return w?y?p([y,w],w.length):(w.value=T(w.value,Eh),p([w],w.length)):y?T(y,Cu):null}function p(y=[],w){for(;;){if(r(fo)){y.push(a(fo));continue}if(t[n]==="{"){y.push(d());continue}if(t[n]==="}")throw new SyntaxError("Unbalanced closing brace");let V=$();if(V){y.push(V),w=Math.min(w,V.length);continue}break}let M=y.length-1,j=y[M];typeof j=="string"&&(y[M]=T(j,Cu));let O=[];for(let V of y)V instanceof go&&(V=V.value.slice(0,V.value.length-w)),V&&O.push(V);return O}function d(){i(Ih,SyntaxError);let y=m();if(i(Su))return y;if(i(Bh)){let w=h();return i(Su,SyntaxError),{type:"select",selector:y,...w}}throw new SyntaxError("Unclosed placeable")}function m(){if(t[n]==="{")return d();if(r(_u)){let[,y,w,M=null]=s(_u);if(y==="$")return{type:"var",name:w};if(i(Fh)){let j=f();if(y==="-")return{type:"term",name:w,attr:M,args:j};if(Nh.test(w))return{type:"func",name:w,args:j};throw new SyntaxError("Function names must be all upper-case")}return y==="-"?{type:"term",name:w,attr:M,args:[]}:{type:"mesg",name:w,attr:M}}return b()}function f(){let y=[];for(;;){switch(t[n]){case")":return n++,y;case void 0:throw new SyntaxError("Unclosed argument list")}y.push(g()),i(Lh)}}function g(){let y=m();return y.type!=="mesg"?y:i($h)?{type:"narg",name:y.name,value:b()}:y}function h(){let y=[],w=0,M;for(;r(Ch);){o("*")&&(M=w);let j=x(),O=u();if(O===null)throw new SyntaxError("Expected variant value");y[w++]={key:j,value:O}}if(w===0)return null;if(M===void 0)throw new SyntaxError("Expected default variant");return{variants:y,star:M}}function x(){i(Mh,SyntaxError);let y;return r(Ji)?y=k():y={type:"str",value:a(Sh)},i(Oh,SyntaxError),y}function b(){if(r(Ji))return k();if(t[n]==='"')return I();throw new SyntaxError("Invalid expression")}function k(){let[,y,w=""]=s(Ji),M=w.length;return{type:"num",value:parseFloat(y),precision:M}}function I(){o('"',SyntaxError);let y="";for(;;){if(y+=a(Rh),t[n]==="\\"){y+=N();continue}if(o('"'))return{type:"str",value:y};throw new SyntaxError("Unclosed string literal")}}function N(){if(r(vu))return a(vu);if(r(Tu)){let[,y,w]=s(Tu),M=parseInt(y||w,16);return M<=55295||57344<=M?String.fromCodePoint(M):"\uFFFD"}throw new SyntaxError("Unknown escape sequence")}function $(){let y=n;switch(i(Ph),t[n]){case".":case"[":case"*":case"}":case void 0:return!1;case"{":return D(t.slice(y,n))}return t[n-1]===" "?D(t.slice(y,n)):!1}function T(y,w){return y.replace(w,"")}function D(y){let w=y.replace(Ah,`
`),M=Dh.exec(y)[1].length;return new go(w,M)}}},go=class{constructor(t,n){this.value=t,this.length=n}};var Xi=[];function Nu(e){Xi=e}function kr(){return Xi[0].locales[0]}function qh(e){return new Ie(e,{maximumFractionDigits:2})}function Gh(e){let t=Object.entries(e).map(([r,o])=>[r,typeof o=="number"?qh(o):o]),n={};for(let[r,o]of t)n[r]=o;return n}function Ru(e,t={}){for(let n of Xi){let r=n.getMessage(e);if(r&&r.value)return n.formatPattern(r.value,Gh(t))}return null}var oN=Ic(Uu());var Sr=Ic(ju());function me(e,t){if(!e)throw new Error(t)}var fb=34028234663852886e22,gb=-34028234663852886e22,hb=4294967295,bb=2147483647,xb=-2147483648;function Wn(e){if(typeof e!="number")throw new Error("invalid int 32: "+typeof e);if(!Number.isInteger(e)||e>bb||e<xb)throw new Error("invalid int 32: "+e)}function vr(e){if(typeof e!="number")throw new Error("invalid uint 32: "+typeof e);if(!Number.isInteger(e)||e>hb||e<0)throw new Error("invalid uint 32: "+e)}function bo(e){if(typeof e!="number")throw new Error("invalid float 32: "+typeof e);if(Number.isFinite(e)&&(e>fb||e<gb))throw new Error("invalid float 32: "+e)}var Hu=Symbol("@bufbuild/protobuf/enum-type");function Vu(e){let t=e[Hu];return me(t,"missing enum type on enum object"),t}function ia(e,t,n,r){e[Hu]=aa(t,n.map(o=>({no:o.no,name:o.name,localName:e[o.no]})),r)}function aa(e,t,n){let r=Object.create(null),o=Object.create(null),i=[];for(let s of t){let a=Ju(s);i.push(a),r[s.name]=a,o[s.no]=a}return{typeName:e,values:i,findName(s){return r[s]},findNumber(s){return o[s]}}}function Yu(e,t,n){let r={};for(let o of t){let i=Ju(o);r[i.localName]=i.no,r[i.no]=i.localName}return ia(r,e,t,n),r}function Ju(e){return"localName"in e?e:Object.assign(Object.assign({},e),{localName:e.name})}var Ze=class{equals(t){return this.getType().runtime.util.equals(this.getType(),this,t)}clone(){return this.getType().runtime.util.clone(this)}fromBinary(t,n){let r=this.getType(),o=r.runtime.bin,i=o.makeReadOptions(n);return o.readMessage(this,i.readerFactory(t),t.byteLength,i),this}fromJson(t,n){let r=this.getType(),o=r.runtime.json,i=o.makeReadOptions(n);return o.readMessage(r,t,i,this),this}fromJsonString(t,n){let r;try{r=JSON.parse(t)}catch(o){throw new Error(`cannot decode ${this.getType().typeName} from JSON: ${o instanceof Error?o.message:String(o)}`)}return this.fromJson(r,n)}toBinary(t){let n=this.getType(),r=n.runtime.bin,o=r.makeWriteOptions(t),i=o.writerFactory();return r.writeMessage(this,i,o),i.finish()}toJson(t){let n=this.getType(),r=n.runtime.json,o=r.makeWriteOptions(t);return r.writeMessage(this,o)}toJsonString(t){var n;let r=this.toJson(t);return JSON.stringify(r,null,(n=t==null?void 0:t.prettySpaces)!==null&&n!==void 0?n:0)}toJSON(){return this.toJson({emitDefaultValues:!0})}getType(){return Object.getPrototypeOf(this).constructor}};function Xu(e,t,n,r){var o;let i=(o=r==null?void 0:r.localName)!==null&&o!==void 0?o:t.substring(t.lastIndexOf(".")+1),s={[i]:function(a){e.util.initFields(this),e.util.initPartial(a,this)}}[i];return Object.setPrototypeOf(s.prototype,new Ze),Object.assign(s,{runtime:e,typeName:t,fields:e.util.newFieldList(n),fromBinary(a,l){return new s().fromBinary(a,l)},fromJson(a,l){return new s().fromJson(a,l)},fromJsonString(a,l){return new s().fromJsonString(a,l)},equals(a,l){return e.util.equals(s,a,l)}}),s}var E;(function(e){e[e.DOUBLE=1]="DOUBLE",e[e.FLOAT=2]="FLOAT",e[e.INT64=3]="INT64",e[e.UINT64=4]="UINT64",e[e.INT32=5]="INT32",e[e.FIXED64=6]="FIXED64",e[e.FIXED32=7]="FIXED32",e[e.BOOL=8]="BOOL",e[e.STRING=9]="STRING",e[e.BYTES=12]="BYTES",e[e.UINT32=13]="UINT32",e[e.SFIXED32=15]="SFIXED32",e[e.SFIXED64=16]="SFIXED64",e[e.SINT32=17]="SINT32",e[e.SINT64=18]="SINT64"})(E||(E={}));var ft;(function(e){e[e.BIGINT=0]="BIGINT",e[e.STRING=1]="STRING"})(ft||(ft={}));function Zu(){let e=0,t=0;for(let r=0;r<28;r+=7){let o=this.buf[this.pos++];if(e|=(o&127)<<r,!(o&128))return this.assertBounds(),[e,t]}let n=this.buf[this.pos++];if(e|=(n&15)<<28,t=(n&112)>>4,!(n&128))return this.assertBounds(),[e,t];for(let r=3;r<=31;r+=7){let o=this.buf[this.pos++];if(t|=(o&127)<<r,!(o&128))return this.assertBounds(),[e,t]}throw new Error("invalid varint")}function yo(e,t,n){for(let i=0;i<28;i=i+7){let s=e>>>i,a=!(!(s>>>7)&&t==0),l=(a?s|128:s)&255;if(n.push(l),!a)return}let r=e>>>28&15|(t&7)<<4,o=!!(t>>3);if(n.push((o?r|128:r)&255),!!o){for(let i=3;i<31;i=i+7){let s=t>>>i,a=!!(s>>>7),l=(a?s|128:s)&255;if(n.push(l),!a)return}n.push(t>>>31&1)}}var xo=4294967296;function sa(e){let t=e[0]==="-";t&&(e=e.slice(1));let n=1e6,r=0,o=0;function i(s,a){let l=Number(e.slice(s,a));o*=n,r=r*n+l,r>=xo&&(o=o+(r/xo|0),r=r%xo)}return i(-24,-18),i(-18,-12),i(-12,-6),i(-6),t?ep(r,o):la(r,o)}function Qu(e,t){let n=la(e,t),r=n.hi&2147483648;r&&(n=ep(n.lo,n.hi));let o=ca(n.lo,n.hi);return r?"-"+o:o}function ca(e,t){if({lo:e,hi:t}=yb(e,t),t<=2097151)return String(xo*t+e);let n=e&16777215,r=(e>>>24|t<<8)&16777215,o=t>>16&65535,i=n+r*6777216+o*6710656,s=r+o*8147497,a=o*2,l=1e7;return i>=l&&(s+=Math.floor(i/l),i%=l),s>=l&&(a+=Math.floor(s/l),s%=l),a.toString()+Ku(s)+Ku(i)}function yb(e,t){return{lo:e>>>0,hi:t>>>0}}function la(e,t){return{lo:e|0,hi:t|0}}function ep(e,t){return t=~t,e?e=~e+1:t+=1,la(e,t)}var Ku=e=>{let t=String(e);return"0000000".slice(t.length)+t};function ua(e,t){if(e>=0){for(;e>127;)t.push(e&127|128),e=e>>>7;t.push(e)}else{for(let n=0;n<9;n++)t.push(e&127|128),e=e>>7;t.push(1)}}function tp(){let e=this.buf[this.pos++],t=e&127;if(!(e&128))return this.assertBounds(),t;if(e=this.buf[this.pos++],t|=(e&127)<<7,!(e&128))return this.assertBounds(),t;if(e=this.buf[this.pos++],t|=(e&127)<<14,!(e&128))return this.assertBounds(),t;if(e=this.buf[this.pos++],t|=(e&127)<<21,!(e&128))return this.assertBounds(),t;e=this.buf[this.pos++],t|=(e&15)<<28;for(let n=5;e&128&&n<10;n++)e=this.buf[this.pos++];if(e&128)throw new Error("invalid varint");return this.assertBounds(),t>>>0}function kb(){let e=new DataView(new ArrayBuffer(8));if(typeof BigInt=="function"&&typeof e.getBigInt64=="function"&&typeof e.getBigUint64=="function"&&typeof e.setBigInt64=="function"&&typeof e.setBigUint64=="function"&&(typeof process!="object"||typeof process.env!="object"||process.env.BUF_BIGINT_DISABLE!=="1")){let o=BigInt("-9223372036854775808"),i=BigInt("9223372036854775807"),s=BigInt("0"),a=BigInt("18446744073709551615");return{zero:BigInt(0),supported:!0,parse(l){let c=typeof l=="bigint"?l:BigInt(l);if(c>i||c<o)throw new Error(`int64 invalid: ${l}`);return c},uParse(l){let c=typeof l=="bigint"?l:BigInt(l);if(c>a||c<s)throw new Error(`uint64 invalid: ${l}`);return c},enc(l){return e.setBigInt64(0,this.parse(l),!0),{lo:e.getInt32(0,!0),hi:e.getInt32(4,!0)}},uEnc(l){return e.setBigInt64(0,this.uParse(l),!0),{lo:e.getInt32(0,!0),hi:e.getInt32(4,!0)}},dec(l,c){return e.setInt32(0,l,!0),e.setInt32(4,c,!0),e.getBigInt64(0,!0)},uDec(l,c){return e.setInt32(0,l,!0),e.setInt32(4,c,!0),e.getBigUint64(0,!0)}}}let n=o=>me(/^-?[0-9]+$/.test(o),`int64 invalid: ${o}`),r=o=>me(/^[0-9]+$/.test(o),`uint64 invalid: ${o}`);return{zero:"0",supported:!1,parse(o){return typeof o!="string"&&(o=o.toString()),n(o),o},uParse(o){return typeof o!="string"&&(o=o.toString()),r(o),o},enc(o){return typeof o!="string"&&(o=o.toString()),n(o),sa(o)},uEnc(o){return typeof o!="string"&&(o=o.toString()),r(o),sa(o)},dec(o,i){return Qu(o,i)},uDec(o,i){return ca(o,i)}}}var Te=kb();var ie;(function(e){e[e.Varint=0]="Varint",e[e.Bit64=1]="Bit64",e[e.LengthDelimited=2]="LengthDelimited",e[e.StartGroup=3]="StartGroup",e[e.EndGroup=4]="EndGroup",e[e.Bit32=5]="Bit32"})(ie||(ie={}));var ko=class{constructor(t){this.stack=[],this.textEncoder=t!=null?t:new TextEncoder,this.chunks=[],this.buf=[]}finish(){this.chunks.push(new Uint8Array(this.buf));let t=0;for(let o=0;o<this.chunks.length;o++)t+=this.chunks[o].length;let n=new Uint8Array(t),r=0;for(let o=0;o<this.chunks.length;o++)n.set(this.chunks[o],r),r+=this.chunks[o].length;return this.chunks=[],n}fork(){return this.stack.push({chunks:this.chunks,buf:this.buf}),this.chunks=[],this.buf=[],this}join(){let t=this.finish(),n=this.stack.pop();if(!n)throw new Error("invalid state, fork stack empty");return this.chunks=n.chunks,this.buf=n.buf,this.uint32(t.byteLength),this.raw(t)}tag(t,n){return this.uint32((t<<3|n)>>>0)}raw(t){return this.buf.length&&(this.chunks.push(new Uint8Array(this.buf)),this.buf=[]),this.chunks.push(t),this}uint32(t){for(vr(t);t>127;)this.buf.push(t&127|128),t=t>>>7;return this.buf.push(t),this}int32(t){return Wn(t),ua(t,this.buf),this}bool(t){return this.buf.push(t?1:0),this}bytes(t){return this.uint32(t.byteLength),this.raw(t)}string(t){let n=this.textEncoder.encode(t);return this.uint32(n.byteLength),this.raw(n)}float(t){bo(t);let n=new Uint8Array(4);return new DataView(n.buffer).setFloat32(0,t,!0),this.raw(n)}double(t){let n=new Uint8Array(8);return new DataView(n.buffer).setFloat64(0,t,!0),this.raw(n)}fixed32(t){vr(t);let n=new Uint8Array(4);return new DataView(n.buffer).setUint32(0,t,!0),this.raw(n)}sfixed32(t){Wn(t);let n=new Uint8Array(4);return new DataView(n.buffer).setInt32(0,t,!0),this.raw(n)}sint32(t){return Wn(t),t=(t<<1^t>>31)>>>0,ua(t,this.buf),this}sfixed64(t){let n=new Uint8Array(8),r=new DataView(n.buffer),o=Te.enc(t);return r.setInt32(0,o.lo,!0),r.setInt32(4,o.hi,!0),this.raw(n)}fixed64(t){let n=new Uint8Array(8),r=new DataView(n.buffer),o=Te.uEnc(t);return r.setInt32(0,o.lo,!0),r.setInt32(4,o.hi,!0),this.raw(n)}int64(t){let n=Te.enc(t);return yo(n.lo,n.hi,this.buf),this}sint64(t){let n=Te.enc(t),r=n.hi>>31,o=n.lo<<1^r,i=(n.hi<<1|n.lo>>>31)^r;return yo(o,i,this.buf),this}uint64(t){let n=Te.uEnc(t);return yo(n.lo,n.hi,this.buf),this}},wo=class{constructor(t,n){this.varint64=Zu,this.uint32=tp,this.buf=t,this.len=t.length,this.pos=0,this.view=new DataView(t.buffer,t.byteOffset,t.byteLength),this.textDecoder=n!=null?n:new TextDecoder}tag(){let t=this.uint32(),n=t>>>3,r=t&7;if(n<=0||r<0||r>5)throw new Error("illegal tag: field no "+n+" wire type "+r);return[n,r]}skip(t){let n=this.pos;switch(t){case ie.Varint:for(;this.buf[this.pos++]&128;);break;case ie.Bit64:this.pos+=4;case ie.Bit32:this.pos+=4;break;case ie.LengthDelimited:let r=this.uint32();this.pos+=r;break;case ie.StartGroup:let o;for(;(o=this.tag()[1])!==ie.EndGroup;)this.skip(o);break;default:throw new Error("cant skip wire type "+t)}return this.assertBounds(),this.buf.subarray(n,this.pos)}assertBounds(){if(this.pos>this.len)throw new RangeError("premature EOF")}int32(){return this.uint32()|0}sint32(){let t=this.uint32();return t>>>1^-(t&1)}int64(){return Te.dec(...this.varint64())}uint64(){return Te.uDec(...this.varint64())}sint64(){let[t,n]=this.varint64(),r=-(t&1);return t=(t>>>1|(n&1)<<31)^r,n=n>>>1^r,Te.dec(t,n)}bool(){let[t,n]=this.varint64();return t!==0||n!==0}fixed32(){return this.view.getUint32((this.pos+=4)-4,!0)}sfixed32(){return this.view.getInt32((this.pos+=4)-4,!0)}fixed64(){return Te.uDec(this.sfixed32(),this.sfixed32())}sfixed64(){return Te.dec(this.sfixed32(),this.sfixed32())}float(){return this.view.getFloat32((this.pos+=4)-4,!0)}double(){return this.view.getFloat64((this.pos+=8)-8,!0)}bytes(){let t=this.uint32(),n=this.pos;return this.pos+=t,this.assertBounds(),this.buf.subarray(n,n+t)}string(){return this.textDecoder.decode(this.bytes())}};function At(e,t,n){if(t===n)return!0;if(e==E.BYTES){if(!(t instanceof Uint8Array)||!(n instanceof Uint8Array)||t.length!==n.length)return!1;for(let r=0;r<t.length;r++)if(t[r]!==n[r])return!1;return!0}switch(e){case E.UINT64:case E.FIXED64:case E.INT64:case E.SFIXED64:case E.SINT64:return t==n}return!1}function hn(e,t){switch(e){case E.BOOL:return!1;case E.UINT64:case E.FIXED64:case E.INT64:case E.SFIXED64:case E.SINT64:return t==0?Te.zero:"0";case E.DOUBLE:case E.FLOAT:return 0;case E.BYTES:return new Uint8Array(0);case E.STRING:return"";default:return 0}}function pa(e,t){let n=t===void 0,r=ie.Varint,o=t===0;switch(e){case E.STRING:o=n||!t.length,r=ie.LengthDelimited;break;case E.BOOL:o=t===!1;break;case E.DOUBLE:r=ie.Bit64;break;case E.FLOAT:r=ie.Bit32;break;case E.INT64:o=n||t==0;break;case E.UINT64:o=n||t==0;break;case E.FIXED64:o=n||t==0,r=ie.Bit64;break;case E.BYTES:o=n||!t.byteLength,r=ie.LengthDelimited;break;case E.FIXED32:r=ie.Bit32;break;case E.SFIXED32:r=ie.Bit32;break;case E.SFIXED64:o=n||t==0,r=ie.Bit64;break;case E.SINT64:o=n||t==0;break}let i=E[e].toLowerCase();return[r,i,n||o]}function np(e,t,n,r){let o;return{typeName:t,extendee:n,get field(){if(!o){let i=typeof r=="function"?r():r;i.name=t.split(".").pop(),i.jsonName=`[${t}]`,o=e.util.newFieldList([i]).list()[0]}return o},runtime:e}}function _o(e){let t=e.field.localName,n=Object.create(null);return n[t]=wb(e),[n,()=>n[t]]}function wb(e){let t=e.field;if(t.repeated)return[];if(t.default!==void 0)return t.default;switch(t.kind){case"enum":return t.T.values[0].no;case"scalar":return hn(t.T,t.L);case"message":let n=t.T,r=new n;return n.fieldWrapper?n.fieldWrapper.unwrapField(r):r;case"map":throw"map fields are not allowed to be extensions"}}function rp(e,t){if(!t.repeated&&(t.kind=="enum"||t.kind=="scalar")){for(let n=e.length-1;n>=0;--n)if(e[n].no==t.no)return[e[n]];return[]}return e.filter(n=>n.no===t.no)}function op(e,t,n,r){return{syntax:e,json:t,bin:n,util:r,makeMessageType(o,i,s){return Xu(this,o,i,s)},makeEnum:Yu,makeEnumType:aa,getEnumType:Vu,makeExtension(o,i,s){return np(this,o,i,s)}}}function vo(e,t){return t instanceof Ze||!e.fieldWrapper?t:e.fieldWrapper.wrapField(t)}var fv={"google.protobuf.DoubleValue":E.DOUBLE,"google.protobuf.FloatValue":E.FLOAT,"google.protobuf.Int64Value":E.INT64,"google.protobuf.UInt64Value":E.UINT64,"google.protobuf.Int32Value":E.INT32,"google.protobuf.UInt32Value":E.UINT32,"google.protobuf.BoolValue":E.BOOL,"google.protobuf.StringValue":E.STRING,"google.protobuf.BytesValue":E.BYTES};var jn=Symbol("@bufbuild/protobuf/unknown-fields"),ip={readUnknownFields:!0,readerFactory:e=>new wo(e)},ap={writeUnknownFields:!0,writerFactory:()=>new ko};function _b(e){return e?Object.assign(Object.assign({},ip),e):ip}function vb(e){return e?Object.assign(Object.assign({},ap),e):ap}function cp(){return{makeReadOptions:_b,makeWriteOptions:vb,listUnknownFields(e){var t;return(t=e[jn])!==null&&t!==void 0?t:[]},discardUnknownFields(e){delete e[jn]},writeUnknownFields(e,t){let r=e[jn];if(r)for(let o of r)t.tag(o.no,o.wireType).raw(o.data)},onUnknownField(e,t,n,r){let o=e;Array.isArray(o[jn])||(o[jn]=[]),o[jn].push({no:t,wireType:n,data:r})},readMessage(e,t,n,r,o){let i=e.getType(),s=o?t.len:t.pos+n,a,l;for(;t.pos<s&&([a,l]=t.tag(),l!=ie.EndGroup);){let c=i.fields.find(a);if(!c){let u=t.skip(l);r.readUnknownFields&&this.onUnknownField(e,a,l,u);continue}sp(e,t,c,l,r)}if(o&&(l!=ie.EndGroup||a!==n))throw new Error("invalid end group tag")},readField:sp}}function sp(e,t,n,r,o){let{repeated:i,localName:s}=n;switch(n.oneof&&(e=e[n.oneof.localName],e.case!=s&&delete e.value,e.case=s,s="value"),n.kind){case"scalar":case"enum":let a=n.kind=="enum"?E.INT32:n.T,l=Co;if(n.kind=="scalar"&&n.L>0&&(l=Cb),i){let d=e[s];if(r==ie.LengthDelimited&&a!=E.STRING&&a!=E.BYTES){let f=t.uint32()+t.pos;for(;t.pos<f;)d.push(l(t,a))}else d.push(l(t,a))}else e[s]=l(t,a);break;case"message":let c=n.T;i?e[s].push(To(t,new c,o,n)):e[s]instanceof Ze?To(t,e[s],o,n):(e[s]=To(t,new c,o,n),c.fieldWrapper&&!n.oneof&&!n.repeated&&(e[s]=c.fieldWrapper.unwrapField(e[s])));break;case"map":let[u,p]=Tb(n,t,o);e[s][u]=p;break}}function To(e,t,n,r){let o=t.getType().runtime.bin,i=r==null?void 0:r.delimited;return o.readMessage(t,e,i?r==null?void 0:r.no:e.uint32(),n,i),t}function Tb(e,t,n){let r=t.uint32(),o=t.pos+r,i,s;for(;t.pos<o;){let[a]=t.tag();switch(a){case 1:i=Co(t,e.K);break;case 2:switch(e.V.kind){case"scalar":s=Co(t,e.V.T);break;case"enum":s=t.int32();break;case"message":s=To(t,new e.V.T,n,void 0);break}break}}if(i===void 0){let a=hn(e.K,ft.BIGINT);i=e.K==E.BOOL?a.toString():a}if(typeof i!="string"&&typeof i!="number"&&(i=i.toString()),s===void 0)switch(e.V.kind){case"scalar":s=hn(e.V.T,ft.BIGINT);break;case"enum":s=0;break;case"message":s=new e.V.T;break}return[i,s]}function Cb(e,t){let n=Co(e,t);return typeof n=="bigint"?n.toString():n}function Co(e,t){switch(t){case E.STRING:return e.string();case E.BOOL:return e.bool();case E.DOUBLE:return e.double();case E.FLOAT:return e.float();case E.INT32:return e.int32();case E.INT64:return e.int64();case E.UINT64:return e.uint64();case E.FIXED64:return e.fixed64();case E.BYTES:return e.bytes();case E.FIXED32:return e.fixed32();case E.SFIXED32:return e.sfixed32();case E.SFIXED64:return e.sfixed64();case E.SINT64:return e.sint64();case E.UINT32:return e.uint32();case E.SINT32:return e.sint32()}}function lp(e,t,n,r,o){e.tag(n.no,ie.LengthDelimited),e.fork();let i=r;switch(n.K){case E.INT32:case E.FIXED32:case E.UINT32:case E.SFIXED32:case E.SINT32:i=Number.parseInt(r);break;case E.BOOL:me(r=="true"||r=="false"),i=r=="true";break}switch(Hn(e,n.K,1,i,!0),n.V.kind){case"scalar":Hn(e,n.V.T,2,o,!0);break;case"enum":Hn(e,E.INT32,2,o,!0);break;case"message":e.tag(2,ie.LengthDelimited).bytes(o.toBinary(t));break}e.join()}function da(e,t,n,r){let o=vo(n.T,r);n!=null&&n.delimited?e.tag(n.no,ie.StartGroup).raw(o.toBinary(t)).tag(n.no,ie.EndGroup):e.tag(n.no,ie.LengthDelimited).bytes(o.toBinary(t))}function Hn(e,t,n,r,o){let[i,s,a]=pa(t,r);(!a||o)&&e.tag(n,i)[s](r)}function up(e,t,n,r){if(!r.length)return;e.tag(n,ie.LengthDelimited).fork();let[,o]=pa(t);for(let i=0;i<r.length;i++)e[o](r[i]);e.join()}function dp(){return Object.assign(Object.assign({},cp()),{writeField:pp,writeMessage(e,t,n){let r=e.getType();for(let o of r.fields.byNumber()){let i,s=o.localName;if(o.oneof){let a=e[o.oneof.localName];if(a.case!==s)continue;i=a.value}else i=e[s];pp(o,i,t,n)}return n.writeUnknownFields&&this.writeUnknownFields(e,t),t}})}function pp(e,t,n,r){let o=e.repeated;switch(e.kind){case"scalar":case"enum":let i=e.kind=="enum"?E.INT32:e.T;if(o)if(e.packed)up(n,i,e.no,t);else for(let s of t)Hn(n,i,e.no,s,!0);else t!==void 0&&Hn(n,i,e.no,t,!!e.oneof||e.opt);break;case"message":if(o)for(let s of t)da(n,r,e,s);else t!==void 0&&da(n,r,e,t);break;case"map":for(let[s,a]of Object.entries(t))lp(n,r,e,s,a);break}}var Dt="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split(""),So=[];for(let e=0;e<Dt.length;e++)So[Dt[e].charCodeAt(0)]=e;So["-".charCodeAt(0)]=Dt.indexOf("+");So["_".charCodeAt(0)]=Dt.indexOf("/");var ma={dec(e){let t=e.length*3/4;e[e.length-2]=="="?t-=2:e[e.length-1]=="="&&(t-=1);let n=new Uint8Array(t),r=0,o=0,i,s=0;for(let a=0;a<e.length;a++){if(i=So[e.charCodeAt(a)],i===void 0)switch(e[a]){case"=":o=0;case`
`:case"\r":case"	":case" ":continue;default:throw Error("invalid base64 string.")}switch(o){case 0:s=i,o=1;break;case 1:n[r++]=s<<2|(i&48)>>4,s=i,o=2;break;case 2:n[r++]=(s&15)<<4|(i&60)>>2,s=i,o=3;break;case 3:n[r++]=(s&3)<<6|i,o=0;break}}if(o==1)throw Error("invalid base64 string.");return n.subarray(0,r)},enc(e){let t="",n=0,r,o=0;for(let i=0;i<e.length;i++)switch(r=e[i],n){case 0:t+=Dt[r>>2],o=(r&3)<<4,n=1;break;case 1:t+=Dt[o|r>>4],o=(r&15)<<2,n=2;break;case 2:t+=Dt[o|r>>6],t+=Dt[r&63],n=0;break}return n&&(t+=Dt[o],t+="=",n==1&&(t+="=")),t}};function mp(e,t,n){gp(t,e);let r=t.runtime.bin.makeReadOptions(n),o=rp(e.getType().runtime.bin.listUnknownFields(e),t.field),[i,s]=_o(t);for(let a of o)t.runtime.bin.readField(i,r.readerFactory(a.data),t.field,a.wireType,r);return s()}function fp(e,t,n,r){gp(t,e);let o=t.runtime.bin.makeReadOptions(r),i=t.runtime.bin.makeWriteOptions(r);if(fa(e,t)){let c=e.getType().runtime.bin.listUnknownFields(e).filter(u=>u.no!=t.field.no);e.getType().runtime.bin.discardUnknownFields(e);for(let u of c)e.getType().runtime.bin.onUnknownField(e,u.no,u.wireType,u.data)}let s=i.writerFactory(),a=t.field;!a.opt&&!a.repeated&&(a.kind=="enum"||a.kind=="scalar")&&(a=Object.assign(Object.assign({},t.field),{opt:!0})),t.runtime.bin.writeField(a,n,s,i);let l=o.readerFactory(s.finish());for(;l.pos<l.len;){let[c,u]=l.tag(),p=l.skip(u);e.getType().runtime.bin.onUnknownField(e,c,u,p)}}function fa(e,t){let n=e.getType();return t.extendee.typeName===n.typeName&&!!n.runtime.bin.listUnknownFields(e).find(r=>r.no==t.field.no)}function gp(e,t){me(e.extendee.typeName==t.getType().typeName,`extension ${e.typeName} can only be applied to message ${e.extendee.typeName}`)}var hp={ignoreUnknownFields:!1},bp={emitDefaultValues:!1,enumAsInteger:!1,useProtoFieldName:!1,prettySpaces:0};function Sb(e){return e?Object.assign(Object.assign({},hp),e):hp}function Nb(e){return e?Object.assign(Object.assign({},bp),e):bp}function kp(e,t){let n=t(Rb,yp);return{makeReadOptions:Sb,makeWriteOptions:Nb,readMessage(r,o,i,s){if(o==null||Array.isArray(o)||typeof o!="object")throw new Error(`cannot decode message ${r.typeName} from JSON: ${gt(o)}`);s=s!=null?s:new r;let a=new Map,l=i.typeRegistry;for(let[c,u]of Object.entries(o)){let p=r.fields.findJsonName(c);if(p){if(p.oneof){if(u===null&&p.kind=="scalar")continue;let d=a.get(p.oneof);if(d!==void 0)throw new Error(`cannot decode message ${r.typeName} from JSON: multiple keys for oneof "${p.oneof.name}" present: "${d}", "${c}"`);a.set(p.oneof,c)}xp(s,u,p,i,r,e)}else{let d=!1;if(l!=null&&l.findExtension&&c.startsWith("[")&&c.endsWith("]")){let m=l.findExtension(c.substring(1,c.length-1));if(m&&m.extendee.typeName==r.typeName){d=!0;let[f,g]=_o(m);xp(f,u,m.field,i,m,!0),fp(s,m,g(),i)}}if(!d&&!i.ignoreUnknownFields)throw new Error(`cannot decode message ${r.typeName} from JSON: key "${c}" is unknown`)}}return s},writeMessage(r,o){let i=r.getType(),s={},a;try{for(let c of i.fields.byMember()){let u;if(c.kind=="oneof"){let p=r[c.localName];if(p.value===void 0)continue;if(a=c.findField(p.case),!a)throw"oneof case not found: "+p.case;u=n(a,p.value,o)}else a=c,u=n(a,r[a.localName],o);u!==void 0&&(s[o.useProtoFieldName?a.name:a.jsonName]=u)}let l=o.typeRegistry;if(l!=null&&l.findExtensionFor)for(let c of i.runtime.bin.listUnknownFields(r)){let u=l.findExtensionFor(i.typeName,c.no);if(u&&fa(r,u)){let p=mp(r,u,o),d=n(u.field,p,o);d!==void 0&&(s[u.field.jsonName]=d)}}}catch(l){let c=a?`cannot encode field ${i.typeName}.${a.name} to JSON`:`cannot encode message ${i.typeName} to JSON`,u=l instanceof Error?l.message:String(l);throw new Error(c+(u.length>0?`: ${u}`:""))}return s},readScalar:(r,o,i)=>Tr(r,o,i,e),writeScalar:yp,debug:gt}}function gt(e){if(e===null)return"null";switch(typeof e){case"object":return Array.isArray(e)?"array":"object";case"string":return e.length>100?"string":`"${e.split('"').join('\\"')}"`;default:return String(e)}}function xp(e,t,n,r,o,i){let s=n.localName;if(n.oneof){if(t===null&&n.kind=="scalar")return;e=e[n.oneof.localName]={case:s},s="value"}if(n.repeated){if(t===null)return;if(!Array.isArray(t))throw new Error(`cannot decode field ${o.typeName}.${n.name} from JSON: ${gt(t)}`);let a=e[s];for(let l of t){if(l===null)throw new Error(`cannot decode field ${o.typeName}.${n.name} from JSON: ${gt(l)}`);let c;switch(n.kind){case"message":c=n.T.fromJson(l,r);break;case"enum":if(c=ga(n.T,l,r.ignoreUnknownFields,!0),c===void 0)continue;break;case"scalar":try{c=Tr(n.T,l,n.L,!0)}catch(u){let p=`cannot decode field ${o.typeName}.${n.name} from JSON: ${gt(l)}`;throw u instanceof Error&&u.message.length>0&&(p+=`: ${u.message}`),new Error(p)}break}a.push(c)}}else if(n.kind=="map"){if(t===null)return;if(typeof t!="object"||Array.isArray(t))throw new Error(`cannot decode field ${o.typeName}.${n.name} from JSON: ${gt(t)}`);let a=e[s];for(let[l,c]of Object.entries(t)){if(c===null)throw new Error(`cannot decode field ${o.typeName}.${n.name} from JSON: map value null`);let u;switch(n.V.kind){case"message":u=n.V.T.fromJson(c,r);break;case"enum":if(u=ga(n.V.T,c,r.ignoreUnknownFields,!0),u===void 0)continue;break;case"scalar":try{u=Tr(n.V.T,c,ft.BIGINT,!0)}catch(p){let d=`cannot decode map value for field ${o.typeName}.${n.name} from JSON: ${gt(t)}`;throw p instanceof Error&&p.message.length>0&&(d+=`: ${p.message}`),new Error(d)}break}try{a[Tr(n.K,n.K==E.BOOL?l=="true"?!0:l=="false"?!1:l:l,ft.BIGINT,!0).toString()]=u}catch(p){let d=`cannot decode map key for field ${o.typeName}.${n.name} from JSON: ${gt(t)}`;throw p instanceof Error&&p.message.length>0&&(d+=`: ${p.message}`),new Error(d)}}}else switch(n.kind){case"message":let a=n.T;if(t===null&&a.typeName!="google.protobuf.Value"){if(n.oneof)throw new Error(`cannot decode field ${o.typeName}.${n.name} from JSON: null is invalid for oneof field`);return}e[s]instanceof Ze?e[s].fromJson(t,r):(e[s]=a.fromJson(t,r),a.fieldWrapper&&!n.oneof&&(e[s]=a.fieldWrapper.unwrapField(e[s])));break;case"enum":let l=ga(n.T,t,r.ignoreUnknownFields,i);l!==void 0&&(e[s]=l);break;case"scalar":try{e[s]=Tr(n.T,t,n.L,i)}catch(c){let u=`cannot decode field ${o.typeName}.${n.name} from JSON: ${gt(t)}`;throw c instanceof Error&&c.message.length>0&&(u+=`: ${c.message}`),new Error(u)}break}}function Tr(e,t,n,r){switch(e){case E.DOUBLE:case E.FLOAT:if(t===null)return r?0:void 0;if(t==="NaN")return Number.NaN;if(t==="Infinity")return Number.POSITIVE_INFINITY;if(t==="-Infinity")return Number.NEGATIVE_INFINITY;if(t===""||typeof t=="string"&&t.trim().length!==t.length||typeof t!="string"&&typeof t!="number")break;let o=Number(t);if(Number.isNaN(o)||!Number.isFinite(o))break;return e==E.FLOAT&&bo(o),o;case E.INT32:case E.FIXED32:case E.SFIXED32:case E.SINT32:case E.UINT32:if(t===null)return r?0:void 0;let i;if(typeof t=="number"?i=t:typeof t=="string"&&t.length>0&&t.trim().length===t.length&&(i=Number(t)),i===void 0)break;return e==E.UINT32?vr(i):Wn(i),i;case E.INT64:case E.SFIXED64:case E.SINT64:if(t===null)return r?Te.zero:void 0;if(typeof t!="number"&&typeof t!="string")break;let s=Te.parse(t);return n?s.toString():s;case E.FIXED64:case E.UINT64:if(t===null)return r?Te.zero:void 0;if(typeof t!="number"&&typeof t!="string")break;let a=Te.uParse(t);return n?a.toString():a;case E.BOOL:if(t===null)return r?!1:void 0;if(typeof t!="boolean")break;return t;case E.STRING:if(t===null)return r?"":void 0;if(typeof t!="string")break;try{encodeURIComponent(t)}catch{throw new Error("invalid UTF8")}return t;case E.BYTES:if(t===null)return r?new Uint8Array(0):void 0;if(t==="")return new Uint8Array(0);if(typeof t!="string")break;return ma.dec(t)}throw new Error}function ga(e,t,n,r){if(t===null)return r?e.values[0].no:void 0;switch(typeof t){case"number":if(Number.isInteger(t))return t;break;case"string":let o=e.findName(t);if(o||n)return o==null?void 0:o.no;break}throw new Error(`cannot decode enum ${e.typeName} from JSON: ${gt(t)}`)}function Rb(e,t,n,r){var o;if(t===void 0)return t;if(!n&&e.values[0].no===t)return;if(r)return t;if(e.typeName=="google.protobuf.NullValue")return null;let i=e.findNumber(t);return(o=i==null?void 0:i.name)!==null&&o!==void 0?o:t}function yp(e,t,n){if(t!==void 0)switch(e){case E.INT32:case E.SFIXED32:case E.SINT32:case E.FIXED32:case E.UINT32:return me(typeof t=="number"),t!=0||n?t:void 0;case E.FLOAT:case E.DOUBLE:return me(typeof t=="number"),Number.isNaN(t)?"NaN":t===Number.POSITIVE_INFINITY?"Infinity":t===Number.NEGATIVE_INFINITY?"-Infinity":t!==0||n?t:void 0;case E.STRING:return me(typeof t=="string"),t.length>0||n?t:void 0;case E.BOOL:return me(typeof t=="boolean"),t||n?t:void 0;case E.UINT64:case E.FIXED64:case E.INT64:case E.SFIXED64:case E.SINT64:return me(typeof t=="bigint"||typeof t=="string"||typeof t=="number"),n||t!=0?t.toString(10):void 0;case E.BYTES:return me(t instanceof Uint8Array),n||t.byteLength>0?ma.enc(t):void 0}}function wp(){return kp(!0,(e,t)=>function(r,o,i){if(r.kind=="map"){let s={};switch(r.V.kind){case"scalar":for(let[l,c]of Object.entries(o)){let u=t(r.V.T,c,!0);me(u!==void 0),s[l.toString()]=u}break;case"message":for(let[l,c]of Object.entries(o))s[l.toString()]=c.toJson(i);break;case"enum":let a=r.V.T;for(let[l,c]of Object.entries(o)){me(c===void 0||typeof c=="number");let u=e(a,c,!0,i.enumAsInteger);me(u!==void 0),s[l.toString()]=u}break}return i.emitDefaultValues||Object.keys(s).length>0?s:void 0}else if(r.repeated){let s=[];switch(r.kind){case"scalar":for(let a=0;a<o.length;a++)s.push(t(r.T,o[a],!0));break;case"enum":for(let a=0;a<o.length;a++)s.push(e(r.T,o[a],!0,i.enumAsInteger));break;case"message":for(let a=0;a<o.length;a++)s.push(o[a].toJson(i));break}return i.emitDefaultValues||s.length>0?s:void 0}else{if(o===void 0)return;switch(r.kind){case"scalar":return t(r.T,o,!!r.oneof||r.opt||i.emitDefaultValues);case"enum":return e(r.T,o,!!r.oneof||r.opt||i.emitDefaultValues,i.enumAsInteger);case"message":return vo(r.T,o).toJson(i)}}})}function _p(){return{setEnumType:ia,initPartial(e,t){if(e===void 0)return;let n=t.getType();for(let r of n.fields.byMember()){let o=r.localName,i=t,s=e;if(s[o]!==void 0)switch(r.kind){case"oneof":let a=s[o].case;if(a===void 0)continue;let l=r.findField(a),c=s[o].value;l&&l.kind=="message"&&!(c instanceof l.T)?c=new l.T(c):l&&l.kind==="scalar"&&l.T===E.BYTES&&(c=Cr(c)),i[o]={case:a,value:c};break;case"scalar":case"enum":let u=s[o];r.T===E.BYTES&&(u=r.repeated?u.map(Cr):Cr(u)),i[o]=u;break;case"map":switch(r.V.kind){case"scalar":case"enum":if(r.V.T===E.BYTES)for(let[m,f]of Object.entries(s[o]))i[o][m]=Cr(f);else Object.assign(i[o],s[o]);break;case"message":let d=r.V.T;for(let m of Object.keys(s[o])){let f=s[o][m];d.fieldWrapper||(f=new d(f)),i[o][m]=f}break}break;case"message":let p=r.T;if(r.repeated)i[o]=s[o].map(d=>d instanceof p?d:new p(d));else if(s[o]!==void 0){let d=s[o];p.fieldWrapper?p.typeName==="google.protobuf.BytesValue"?i[o]=Cr(d):i[o]=d:i[o]=d instanceof p?d:new p(d)}break}}},equals(e,t,n){return t===n?!0:!t||!n?!1:e.fields.byMember().every(r=>{let o=t[r.localName],i=n[r.localName];if(r.repeated){if(o.length!==i.length)return!1;switch(r.kind){case"message":return o.every((s,a)=>r.T.equals(s,i[a]));case"scalar":return o.every((s,a)=>At(r.T,s,i[a]));case"enum":return o.every((s,a)=>At(E.INT32,s,i[a]))}throw new Error(`repeated cannot contain ${r.kind}`)}switch(r.kind){case"message":return r.T.equals(o,i);case"enum":return At(E.INT32,o,i);case"scalar":return At(r.T,o,i);case"oneof":if(o.case!==i.case)return!1;let s=r.findField(o.case);if(s===void 0)return!0;switch(s.kind){case"message":return s.T.equals(o.value,i.value);case"enum":return At(E.INT32,o.value,i.value);case"scalar":return At(s.T,o.value,i.value)}throw new Error(`oneof cannot contain ${s.kind}`);case"map":let a=Object.keys(o).concat(Object.keys(i));switch(r.V.kind){case"message":let l=r.V.T;return a.every(u=>l.equals(o[u],i[u]));case"enum":return a.every(u=>At(E.INT32,o[u],i[u]));case"scalar":let c=r.V.T;return a.every(u=>At(c,o[u],i[u]))}break}})},clone(e){let t=e.getType(),n=new t,r=n;for(let o of t.fields.byMember()){let i=e[o.localName],s;if(o.repeated)s=i.map(No);else if(o.kind=="map"){s=r[o.localName];for(let[a,l]of Object.entries(i))s[a]=No(l)}else o.kind=="oneof"?s=o.findField(i.case)?{case:i.case,value:No(i.value)}:{case:void 0}:s=No(i);r[o.localName]=s}return n}}}function No(e){if(e===void 0)return e;if(e instanceof Ze)return e.clone();if(e instanceof Uint8Array){let t=new Uint8Array(e.byteLength);return t.set(e),t}return e}function Cr(e){return e instanceof Uint8Array?e:new Uint8Array(e)}var Ro=class{constructor(t,n){this._fields=t,this._normalizer=n}findJsonName(t){if(!this.jsonNames){let n={};for(let r of this.list())n[r.jsonName]=n[r.name]=r;this.jsonNames=n}return this.jsonNames[t]}find(t){if(!this.numbers){let n={};for(let r of this.list())n[r.no]=r;this.numbers=n}return this.numbers[t]}list(){return this.all||(this.all=this._normalizer(this._fields)),this.all}byNumber(){return this.numbersAsc||(this.numbersAsc=this.list().concat().sort((t,n)=>t.no-n.no)),this.numbersAsc}byMember(){if(!this.members){this.members=[];let t=this.members,n;for(let r of this.list())r.oneof?r.oneof!==n&&(n=r.oneof,t.push(n)):t.push(r)}return this.members}};function ha(e,t){let n=Cp(e);return t?n:Ib(Db(n))}function vp(e){return ha(e,!1)}var Tp=Cp;function Cp(e){let t=!1,n=[];for(let r=0;r<e.length;r++){let o=e.charAt(r);switch(o){case"_":t=!0;break;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":n.push(o),t=!1;break;default:t&&(t=!1,o=o.toUpperCase()),n.push(o);break}}return n.join("")}var Eb=new Set(["constructor","toString","toJSON","valueOf"]),Ab=new Set(["getType","clone","equals","fromBinary","fromJson","fromJsonString","toBinary","toJson","toJsonString","toObject"]),Sp=e=>`${e}$`,Db=e=>Ab.has(e)?Sp(e):e,Ib=e=>Eb.has(e)?Sp(e):e;var Eo=class{constructor(t){this.kind="oneof",this.repeated=!1,this.packed=!1,this.opt=!1,this.default=void 0,this.fields=[],this.name=t,this.localName=vp(t)}addField(t){me(t.oneof===this,`field ${t.name} not one of ${this.name}`),this.fields.push(t)}findField(t){if(!this._lookup){this._lookup=Object.create(null);for(let n=0;n<this.fields.length;n++)this._lookup[this.fields[n].localName]=this.fields[n]}return this._lookup[t]}};var ce=op("proto3",wp(),dp(),Object.assign(Object.assign({},_p()),{newFieldList(e){return new Ro(e,Mb)},initFields(e){for(let t of e.getType().fields.byMember()){if(t.opt)continue;let n=t.localName,r=e;if(t.repeated){r[n]=[];continue}switch(t.kind){case"oneof":r[n]={case:void 0};break;case"enum":r[n]=0;break;case"map":r[n]={};break;case"scalar":r[n]=hn(t.T,t.L);break;case"message":break}}}}));function Mb(e){var t,n,r,o;let i=[],s;for(let a of typeof e=="function"?e():e){let l=a;if(l.localName=ha(a.name,a.oneof!==void 0),l.jsonName=(t=a.jsonName)!==null&&t!==void 0?t:Tp(a.name),l.repeated=(n=a.repeated)!==null&&n!==void 0?n:!1,a.kind=="scalar"&&(l.L=(r=a.L)!==null&&r!==void 0?r:ft.BIGINT),a.oneof!==void 0){let c=typeof a.oneof=="string"?a.oneof:a.oneof.name;(!s||s.name!=c)&&(s=new Eo(c)),l.oneof=s,s.addField(l)}a.kind=="message"&&(l.delimited=!1),l.packed=(o=a.packed)!==null&&o!==void 0?o:a.kind=="enum"||a.kind=="scalar"&&a.T!=E.BYTES&&a.T!=E.STRING,i.push(l)}return i}var Vn=ce.makeMessageType("",[]);var Np=ce.makeMessageType("",()=>[{no:1,name:"json",kind:"scalar",T:12}]);var Ep=ce.makeMessageType("",()=>[{no:1,name:"modules",kind:"scalar",T:9,repeated:!0}]);var Op=ce.makeMessageType("",()=>[{no:1,name:"search",kind:"scalar",T:9},{no:2,name:"days",kind:"scalar",T:13}]),Fp=ce.makeMessageType("",()=>[{no:1,name:"buttons",kind:"message",T:fx},{no:2,name:"card_counts",kind:"message",T:gx},{no:3,name:"hours",kind:"message",T:dx},{no:4,name:"today",kind:"message",T:px},{no:5,name:"eases",kind:"message",T:Dp},{no:11,name:"difficulty",kind:"message",T:Dp},{no:6,name:"intervals",kind:"message",T:Ap},{no:7,name:"future_due",kind:"message",T:ux},{no:8,name:"added",kind:"message",T:cx},{no:9,name:"reviews",kind:"message",T:mx},{no:10,name:"rollover_hour",kind:"scalar",T:13},{no:12,name:"retrievability",kind:"message",T:lx},{no:13,name:"fsrs",kind:"scalar",T:8},{no:14,name:"stability",kind:"message",T:Ap}]),cx=ce.makeMessageType("",()=>[{no:1,name:"added",kind:"map",K:5,V:{kind:"scalar",T:13}}],{localName:"GraphsResponse_Added"}),Ap=ce.makeMessageType("",()=>[{no:1,name:"intervals",kind:"map",K:13,V:{kind:"scalar",T:13}}],{localName:"GraphsResponse_Intervals"}),Dp=ce.makeMessageType("",()=>[{no:1,name:"eases",kind:"map",K:13,V:{kind:"scalar",T:13}}],{localName:"GraphsResponse_Eases"}),lx=ce.makeMessageType("",()=>[{no:1,name:"retrievability",kind:"map",K:13,V:{kind:"scalar",T:13}}],{localName:"GraphsResponse_Retrievability"}),ux=ce.makeMessageType("",()=>[{no:1,name:"future_due",kind:"map",K:5,V:{kind:"scalar",T:13}},{no:2,name:"have_backlog",kind:"scalar",T:8}],{localName:"GraphsResponse_FutureDue"}),px=ce.makeMessageType("",()=>[{no:1,name:"answer_count",kind:"scalar",T:13},{no:2,name:"answer_millis",kind:"scalar",T:13},{no:3,name:"correct_count",kind:"scalar",T:13},{no:4,name:"mature_correct",kind:"scalar",T:13},{no:5,name:"mature_count",kind:"scalar",T:13},{no:6,name:"learn_count",kind:"scalar",T:13},{no:7,name:"review_count",kind:"scalar",T:13},{no:8,name:"relearn_count",kind:"scalar",T:13},{no:9,name:"early_review_count",kind:"scalar",T:13}],{localName:"GraphsResponse_Today"}),dx=ce.makeMessageType("",()=>[{no:1,name:"one_month",kind:"message",T:Ao,repeated:!0},{no:2,name:"three_months",kind:"message",T:Ao,repeated:!0},{no:3,name:"one_year",kind:"message",T:Ao,repeated:!0},{no:4,name:"all_time",kind:"message",T:Ao,repeated:!0}],{localName:"GraphsResponse_Hours"}),Ao=ce.makeMessageType("",()=>[{no:1,name:"total",kind:"scalar",T:13},{no:2,name:"correct",kind:"scalar",T:13}],{localName:"GraphsResponse_Hours_Hour"}),mx=ce.makeMessageType("",()=>[{no:1,name:"count",kind:"map",K:5,V:{kind:"message",T:Ip}},{no:2,name:"time",kind:"map",K:5,V:{kind:"message",T:Ip}}],{localName:"GraphsResponse_ReviewCountsAndTimes"}),Ip=ce.makeMessageType("",()=>[{no:1,name:"learn",kind:"scalar",T:13},{no:2,name:"relearn",kind:"scalar",T:13},{no:3,name:"young",kind:"scalar",T:13},{no:4,name:"mature",kind:"scalar",T:13},{no:5,name:"filtered",kind:"scalar",T:13}],{localName:"GraphsResponse_ReviewCountsAndTimes_Reviews"}),fx=ce.makeMessageType("",()=>[{no:1,name:"one_month",kind:"message",T:Do},{no:2,name:"three_months",kind:"message",T:Do},{no:3,name:"one_year",kind:"message",T:Do},{no:4,name:"all_time",kind:"message",T:Do}],{localName:"GraphsResponse_Buttons"}),Do=ce.makeMessageType("",()=>[{no:1,name:"learning",kind:"scalar",T:13,repeated:!0},{no:2,name:"young",kind:"scalar",T:13,repeated:!0},{no:3,name:"mature",kind:"scalar",T:13,repeated:!0}],{localName:"GraphsResponse_Buttons_ButtonCounts"}),gx=ce.makeMessageType("",()=>[{no:1,name:"including_inactive",kind:"message",T:Mp},{no:2,name:"excluding_inactive",kind:"message",T:Mp}],{localName:"GraphsResponse_CardCounts"}),Mp=ce.makeMessageType("",()=>[{no:1,name:"newCards",kind:"scalar",T:13},{no:2,name:"learn",kind:"scalar",T:13},{no:3,name:"relearn",kind:"scalar",T:13},{no:4,name:"young",kind:"scalar",T:13},{no:5,name:"mature",kind:"scalar",T:13},{no:6,name:"suspended",kind:"scalar",T:13},{no:7,name:"buried",kind:"scalar",T:13}],{localName:"GraphsResponse_CardCounts_Counts"}),ba=ce.makeMessageType("",()=>[{no:1,name:"calendar_first_day_of_week",kind:"enum",T:ce.getEnumType(It)},{no:2,name:"card_counts_separate_inactive",kind:"scalar",T:8},{no:3,name:"browser_links_supported",kind:"scalar",T:8},{no:4,name:"future_due_show_backlog",kind:"scalar",T:8}]),It=ce.makeEnum("",[{no:0,name:"SUNDAY"},{no:1,name:"MONDAY"},{no:5,name:"FRIDAY"},{no:6,name:"SATURDAY"}]);async function Bp(e,t={}){return await(0,Sr.postProto)("i18nResources",new Ep(e),Np,t)}async function $p(e,t={}){return await(0,Sr.postProto)("graphs",new Op(e),Fp,t)}async function Lp(e,t={}){return await(0,Sr.postProto)("getGraphPreferences",new Vn(e),ba,t)}async function Pp(e,t={}){return await(0,Sr.postProto)("setGraphPreferences",new ba(e),Vn,t)}function xa(){let e=kr();return e.startsWith("ar")||e.startsWith("he")||e.startsWith("fa")?"rtl":"ltr"}function qp(e){let t=kr(),n=new Date,r=-n.getDay()+e;return new Date(n.getTime()+r*864e5).toLocaleDateString(t,{weekday:"narrow"})}var ya=[];function Gp(e,t){return e.toLocaleDateString(ya,t)}function te(e,t=2){let n=Math.pow(10,t);return(Math.round(e*n)/n).toLocaleString(ya)}async function Up(e){let t=await Bp(e),n=JSON.parse(new TextDecoder().decode(t.json)),r=[];for(let o in n.resources){let i=n.resources[o],s=n.langs[o],a=new xr([s,"en-US"]),l=new yr(i);a.addResource(l),r.push(a)}Nu(r),ya=n.langs,document.dir=xa()}Wi.getMessage=Ru;function zp(){let e=window.location.hash=="#night";return e&&(document.documentElement.className="night-mode",document.documentElement.dataset.bsTheme="dark"),e}function U(){}function xx(e,t){for(let n in t)e[n]=t[n];return e}function Wp(e){return!!e&&(typeof e=="object"||typeof e=="function")&&typeof e.then=="function"}function ka(e){return e()}function Io(){return Object.create(null)}function fe(e){e.forEach(ka)}function Nr(e){return typeof e=="function"}function H(e,t){return e!=e?t==t:e!==t||e&&typeof e=="object"||typeof e=="function"}function jp(e){return Object.keys(e).length===0}function ae(e,...t){if(e==null){for(let r of t)r(void 0);return U}let n=e.subscribe(...t);return n.unsubscribe?()=>n.unsubscribe():n}function wa(e){let t;return ae(e,n=>t=n)(),t}function Rr(e,t,n){e.$$.on_destroy.push(ae(t,n))}function Mt(e,t,n,r){if(e){let o=Hp(e,t,n,r);return e[0](o)}}function Hp(e,t,n,r){return e[1]&&r?xx(n.ctx.slice(),e[1](r(t))):n.ctx}function Ot(e,t,n,r){if(e[2]&&r){let o=e[2](r(n));if(t.dirty===void 0)return o;if(typeof o=="object"){let i=[],s=Math.max(t.dirty.length,o.length);for(let a=0;a<s;a+=1)i[a]=t.dirty[a]|o[a];return i}return t.dirty|o}return t.dirty}function Ft(e,t,n,r,o,i){if(o){let s=Hp(t,n,r,i);e.p(s,o)}}function Bt(e){if(e.ctx.length>32){let t=[],n=e.ctx.length/32;for(let r=0;r<n;r++)t[r]=-1;return t}return-1}function tn(e,t,n){return e.set(n),t}var _a=typeof window<"u"?window:typeof globalThis<"u"?globalThis:global;var Mo=class e{constructor(t){ve(this,"_listeners","WeakMap"in _a?new WeakMap:void 0);ve(this,"_observer");ve(this,"options");this.options=t}observe(t,n){return this._listeners.set(t,n),this._getObserver().observe(t,this.options),()=>{this._listeners.delete(t),this._observer.unobserve(t)}}_getObserver(){var t;return(t=this._observer)!=null?t:this._observer=new ResizeObserver(n=>{var r;for(let o of n)e.entries.set(o.target,o),(r=this._listeners.get(o.target))==null||r(o)})}};Mo.entries="WeakMap"in _a?new WeakMap:void 0;var Vp=!1;function Yp(){Vp=!0}function Jp(){Vp=!1}function _(e,t){e.appendChild(t)}function C(e,t,n){e.insertBefore(t,n||null)}function v(e){e.parentNode&&e.parentNode.removeChild(e)}function ht(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function B(e){return document.createElement(e)}function ne(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function J(e){return document.createTextNode(e)}function L(){return J(" ")}function xe(){return J("")}function Q(e,t,n,r){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n,r)}function R(e,t,n){n==null?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function bt(e){let t;return{p(...n){t=n,t.forEach(r=>e.push(r))},r(){t.forEach(n=>e.splice(e.indexOf(n),1))}}}function Xp(e){return Array.from(e.childNodes)}function Re(e,t){t=""+t,e.data!==t&&(e.data=t)}function ge(e,t){e.value=t==null?"":t}function Me(e,t,n,r){n==null?e.style.removeProperty(t):e.style.setProperty(t,n,r?"important":"")}function it(e,t,n){e.classList.toggle(t,!!n)}function Oo(e,t,{bubbles:n=!1,cancelable:r=!1}={}){return new CustomEvent(e,{detail:t,bubbles:n,cancelable:r})}function Kp(e){let t={};return e.childNodes.forEach(n=>{t[n.slot||"default"]=!0}),t}function Er(e,t){return new e(t)}var nn;function Je(e){nn=e}function va(){if(!nn)throw new Error("Function called outside component initialization");return nn}function ye(){let e=va();return(t,n,{cancelable:r=!1}={})=>{let o=e.$$.callbacks[t];if(o){let i=Oo(t,n,{cancelable:r});return o.slice().forEach(s=>{s.call(e,i)}),!i.defaultPrevented}return!0}}var bn=[];var pe=[],Jn=[],Ca=[],Zp=Promise.resolve(),Sa=!1;function Na(){Sa||(Sa=!0,Zp.then(Dr))}function Ra(){return Na(),Zp}function Ar(e){Jn.push(e)}function xt(e){Ca.push(e)}var Ta=new Set,Yn=0;function Dr(){if(Yn!==0)return;let e=nn;do{try{for(;Yn<bn.length;){let t=bn[Yn];Yn++,Je(t),Sx(t.$$)}}catch(t){throw bn.length=0,Yn=0,t}for(Je(null),bn.length=0,Yn=0;pe.length;)pe.pop()();for(let t=0;t<Jn.length;t+=1){let n=Jn[t];Ta.has(n)||(Ta.add(n),n())}Jn.length=0}while(bn.length);for(;Ca.length;)Ca.pop()();Sa=!1,Ta.clear(),Je(e)}function Sx(e){if(e.fragment!==null){e.update(),fe(e.before_update);let t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(Ar)}}function Qp(e){let t=[],n=[];Jn.forEach(r=>e.indexOf(r)===-1?t.push(r):n.push(r)),n.forEach(r=>r()),Jn=t}var Fo=new Set,xn;function Ce(){xn={r:0,c:[],p:xn}}function Se(){xn.r||fe(xn.c),xn=xn.p}function S(e,t){e&&e.i&&(Fo.delete(e),e.i(t))}function A(e,t,n,r){if(e&&e.o){if(Fo.has(e))return;Fo.add(e),xn.c.push(()=>{Fo.delete(e),r&&(n&&e.d(1),r())}),e.o(t)}else r&&r()}function ed(e,t){let n=t.token={};function r(o,i,s,a){if(t.token!==n)return;t.resolved=a;let l=t.ctx;s!==void 0&&(l=l.slice(),l[s]=a);let c=o&&(t.current=o)(l),u=!1;t.block&&(t.blocks?t.blocks.forEach((p,d)=>{d!==i&&p&&(Ce(),A(p,1,1,()=>{t.blocks[d]===p&&(t.blocks[d]=null)}),Se())}):t.block.d(1),c.c(),S(c,1),c.m(t.mount(),t.anchor),u=!0),t.block=c,t.blocks&&(t.blocks[i]=c),u&&Dr()}if(Wp(e)){let o=va();if(e.then(i=>{Je(o),r(t.then,1,t.value,i),Je(null)},i=>{if(Je(o),r(t.catch,2,t.error,i),Je(null),!t.hasCatch)throw i}),t.current!==t.pending)return r(t.pending,0),!0}else{if(t.current!==t.then)return r(t.then,1,t.value,e),!0;t.resolved=e}}function td(e,t,n){let r=t.slice(),{resolved:o}=e;e.current===e.then&&(r[e.value]=o),e.current===e.catch&&(r[e.error]=o),e.block.p(r,n)}function Oe(e){return(e==null?void 0:e.length)!==void 0?e:Array.from(e)}var Nx=["allowfullscreen","allowpaymentrequest","async","autofocus","autoplay","checked","controls","default","defer","disabled","formnovalidate","hidden","inert","ismap","loop","multiple","muted","nomodule","novalidate","open","playsinline","readonly","required","reversed","selected"],Rx=new Set([...Nx]);function yt(e,t,n){let r=e.$$.props[t];r!==void 0&&(e.$$.bound[r]=n,n(e.$$.ctx[r]))}function G(e){e&&e.c()}function P(e,t,n){let{fragment:r,after_update:o}=e.$$;r&&r.m(t,n),Ar(()=>{let i=e.$$.on_mount.map(ka).filter(Nr);e.$$.on_destroy?e.$$.on_destroy.push(...i):fe(i),e.$$.on_mount=[]}),o.forEach(Ar)}function q(e,t){let n=e.$$;n.fragment!==null&&(Qp(n.after_update),fe(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function Ax(e,t){e.$$.dirty[0]===-1&&(bn.push(e),Na(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function Y(e,t,n,r,o,i,s=null,a=[-1]){let l=nn;Je(e);let c=e.$$={fragment:null,ctx:[],props:i,update:U,not_equal:o,bound:Io(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(l?l.$$.context:[])),callbacks:Io(),dirty:a,skip_bound:!1,root:t.target||l.$$.root};s&&s(c.root);let u=!1;if(c.ctx=n?n(e,t.props||{},(p,d,...m)=>{let f=m.length?m[0]:d;return c.ctx&&o(c.ctx[p],c.ctx[p]=f)&&(!c.skip_bound&&c.bound[p]&&c.bound[p](f),u&&Ax(e,p)),d}):[],c.update(),u=!0,fe(c.before_update),c.fragment=r?r(c.ctx):!1,t.target){if(t.hydrate){Yp();let p=Xp(t.target);c.fragment&&c.fragment.l(p),p.forEach(v)}else c.fragment&&c.fragment.c();t.intro&&S(e.$$.fragment),P(e,t.target,t.anchor),Jp(),Dr()}Je(l)}var Dx;typeof HTMLElement=="function"&&(Dx=class extends HTMLElement{constructor(t,n,r){super();ve(this,"$$ctor");ve(this,"$$s");ve(this,"$$c");ve(this,"$$cn",!1);ve(this,"$$d",{});ve(this,"$$r",!1);ve(this,"$$p_d",{});ve(this,"$$l",{});ve(this,"$$l_u",new Map);this.$$ctor=t,this.$$s=n,r&&this.attachShadow({mode:"open"})}addEventListener(t,n,r){if(this.$$l[t]=this.$$l[t]||[],this.$$l[t].push(n),this.$$c){let o=this.$$c.$on(t,n);this.$$l_u.set(n,o)}super.addEventListener(t,n,r)}removeEventListener(t,n,r){if(super.removeEventListener(t,n,r),this.$$c){let o=this.$$l_u.get(n);o&&(o(),this.$$l_u.delete(n))}}async connectedCallback(){if(this.$$cn=!0,!this.$$c){let t=function(i){return()=>{let s;return{c:function(){s=B("slot"),i!=="default"&&R(s,"name",i)},m:function(c,u){C(c,s,u)},d:function(c){c&&v(s)}}}};if(await Promise.resolve(),!this.$$cn||this.$$c)return;let n={},r=Kp(this);for(let i of this.$$s)i in r&&(n[i]=[t(i)]);for(let i of this.attributes){let s=this.$$g_p(i.name);s in this.$$d||(this.$$d[s]=Ea(s,i.value,this.$$p_d,"toProp"))}for(let i in this.$$p_d)!(i in this.$$d)&&this[i]!==void 0&&(this.$$d[i]=this[i],delete this[i]);this.$$c=new this.$$ctor({target:this.shadowRoot||this,props:{...this.$$d,$$slots:n,$$scope:{ctx:[]}}});let o=()=>{this.$$r=!0;for(let i in this.$$p_d)if(this.$$d[i]=this.$$c.$$.ctx[this.$$c.$$.props[i]],this.$$p_d[i].reflect){let s=Ea(i,this.$$d[i],this.$$p_d,"toAttribute");s==null?this.removeAttribute(this.$$p_d[i].attribute||i):this.setAttribute(this.$$p_d[i].attribute||i,s)}this.$$r=!1};this.$$c.$$.after_update.push(o),o();for(let i in this.$$l)for(let s of this.$$l[i]){let a=this.$$c.$on(i,s);this.$$l_u.set(s,a)}this.$$l={}}}attributeChangedCallback(t,n,r){var o;this.$$r||(t=this.$$g_p(t),this.$$d[t]=Ea(t,r,this.$$p_d,"toProp"),(o=this.$$c)==null||o.$set({[t]:this.$$d[t]}))}disconnectedCallback(){this.$$cn=!1,Promise.resolve().then(()=>{this.$$cn||(this.$$c.$destroy(),this.$$c=void 0)})}$$g_p(t){return Object.keys(this.$$p_d).find(n=>this.$$p_d[n].attribute===t||!this.$$p_d[n].attribute&&n.toLowerCase()===t)||t}});function Ea(e,t,n,r){var i;let o=(i=n[e])==null?void 0:i.type;if(t=o==="Boolean"&&typeof t!="boolean"?t!=null:t,!r||!n[e])return t;if(r==="toAttribute")switch(o){case"Object":case"Array":return t==null?null:JSON.stringify(t);case"Boolean":return t?"":null;case"Number":return t==null?null:t;default:return t}else switch(o){case"Object":case"Array":return t&&JSON.parse(t);case"Boolean":return t;case"Number":return t!=null?+t:t;default:return t}}var W=class{constructor(){ve(this,"$$");ve(this,"$$set")}$destroy(){q(this,1),this.$destroy=U}$on(t,n){if(!Nr(n))return U;let r=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return r.push(n),()=>{let o=r.indexOf(n);o!==-1&&r.splice(o,1)}}$set(t){this.$$set&&!jp(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}};var nd="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(nd);var Ir={},Aa=()=>!1;function Ix(e,t){Ir[e]=t}function Mr(e,t,n){let r=n?new Proxy(t,{set:Aa,defineProperty:Aa,deleteProperty:Aa,get:(o,i)=>(i in n&&console.log(`anki: ${i} is deprecated: ${n[i]}`),o[i])}):t;Ix(e,r)}function rd(e){if(e in Ir)return Ir[e];throw new Error(`Cannot require "${e}" at runtime.`)}function Mx(){return Object.keys(Ir)}function Ox(...e){for(let t of e)if(!(t in Ir))return!1;return!0}Object.assign(window,{require:rd});Mr("anki/packages",{require:rd,listPackages:Mx,hasPackages:Ox});function Da(e,t){window.bridgeCommand(e,t)}Mr("anki/bridgecommand",{bridgeCommand:Da});var Xn=[];function od(e,t){return{subscribe:Kn(e,t).subscribe}}function Kn(e,t=U){let n,r=new Set;function o(a){if(H(e,a)&&(e=a,n)){let l=!Xn.length;for(let c of r)c[1](),Xn.push(c,e);if(l){for(let c=0;c<Xn.length;c+=2)Xn[c][0](Xn[c+1]);Xn.length=0}}}function i(a){o(a(e))}function s(a,l=U){let c=[a,l];return r.add(c),r.size===1&&(n=t(o,i)||U),a(e),()=>{r.delete(c),r.size===0&&n&&(n(),n=null)}}return{set:o,update:i,subscribe:s}}function id(){return{isDark:document.documentElement.classList.contains("night-mode")}}var ad=null,Zn=od(id(),e=>{ad=e});wa(Zn);var Fx=new MutationObserver((e,t)=>{ad(id())});Fx.observe(document.documentElement,{attributeFilter:["class"]});Mr("anki/theme",{pageTheme:Zn});async function sd(e,t){let n=await e(),{subscribe:r,set:o}=Kn(n);function i(a){n=a,o(a),t(a)}function s(a){i(a(n))}return{subscribe:r,set:i,update:s}}function kt(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Ia(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Bo(e){let t,n,r;e.length!==2?(t=kt,n=(a,l)=>kt(e(a),l),r=(a,l)=>e(a)-l):(t=e===kt||e===Ia?e:Bx,n=e,r=e);function o(a,l,c=0,u=a.length){if(c<u){if(t(l,l)!==0)return u;do{let p=c+u>>>1;n(a[p],l)<0?c=p+1:u=p}while(c<u)}return c}function i(a,l,c=0,u=a.length){if(c<u){if(t(l,l)!==0)return u;do{let p=c+u>>>1;n(a[p],l)<=0?c=p+1:u=p}while(c<u)}return c}function s(a,l,c=0,u=a.length){let p=o(a,l,c,u-1);return p>c&&r(a[p-1],l)>-r(a[p],l)?p-1:p}return{left:o,center:s,right:i}}function Bx(){return 0}function $o(e){return e===null?NaN:+e}function*cd(e,t){if(t===void 0)for(let n of e)n!=null&&(n=+n)>=n&&(yield n);else{let n=-1;for(let r of e)(r=t(r,++n,e))!=null&&(r=+r)>=r&&(yield r)}}var ld=Bo(kt),ud=ld.right,$x=ld.left,Lx=Bo($o).center,Or=ud;function Ma(e,t){let n=0;if(t===void 0)for(let r of e)r!=null&&(r=+r)>=r&&++n;else{let r=-1;for(let o of e)(o=t(o,++r,e))!=null&&(o=+o)>=o&&++n}return n}function rn(e,t){var n=0,r=0;return Float64Array.from(e,t===void 0?o=>n+=+o||0:o=>n+=+t(o,r++,e)||0)}function Qe(e,t){let n,r;if(t===void 0)for(let o of e)o!=null&&(n===void 0?o>=o&&(n=r=o):(n>o&&(n=o),r<o&&(r=o)));else{let o=-1;for(let i of e)(i=t(i,++o,e))!=null&&(n===void 0?i>=i&&(n=r=i):(n>i&&(n=i),r<i&&(r=i)))}return[n,r]}var Qn=class extends Map{constructor(t,n=Gx){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(let[r,o]of t)this.set(r,o)}get(t){return super.get(pd(this,t))}has(t){return super.has(pd(this,t))}set(t,n){return super.set(Px(this,t),n)}delete(t){return super.delete(qx(this,t))}};function pd({_intern:e,_key:t},n){let r=t(n);return e.has(r)?e.get(r):n}function Px({_intern:e,_key:t},n){let r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function qx({_intern:e,_key:t},n){let r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function Gx(e){return e!==null&&typeof e=="object"?e.valueOf():e}function Oa(e){return e}function dd(e=kt){if(e===kt)return Fa;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,n)=>{let r=e(t,n);return r||r===0?r:(e(n,n)===0)-(e(t,t)===0)}}function Fa(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}var md=Array.prototype,fd=md.slice,C5=md.map;function Fr(e){return()=>e}var Ux=Math.sqrt(50),zx=Math.sqrt(10),Wx=Math.sqrt(2);function Lo(e,t,n){let r=(t-e)/Math.max(0,n),o=Math.floor(Math.log10(r)),i=r/Math.pow(10,o),s=i>=Ux?10:i>=zx?5:i>=Wx?2:1,a,l,c;return o<0?(c=Math.pow(10,-o)/s,a=Math.round(e*c),l=Math.round(t*c),a/c<e&&++a,l/c>t&&--l,c=-c):(c=Math.pow(10,o)*s,a=Math.round(e/c),l=Math.round(t/c),a*c<e&&++a,l*c>t&&--l),l<a&&.5<=n&&n<2?Lo(e,t,n*2):[a,l,c]}function er(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];let r=t<e,[o,i,s]=r?Lo(t,e,n):Lo(e,t,n);if(!(i>=o))return[];let a=i-o+1,l=new Array(a);if(r)if(s<0)for(let c=0;c<a;++c)l[c]=(i-c)/-s;else for(let c=0;c<a;++c)l[c]=(i-c)*s;else if(s<0)for(let c=0;c<a;++c)l[c]=(o+c)/-s;else for(let c=0;c<a;++c)l[c]=(o+c)*s;return l}function wt(e,t,n){return t=+t,e=+e,n=+n,Lo(e,t,n)[2]}function Ba(e,t,n){t=+t,e=+e,n=+n;let r=t<e,o=r?wt(t,e,n):wt(e,t,n);return(r?-1:1)*(o<0?1/-o:o)}function $a(e,t,n){let r;for(;;){let o=wt(e,t,n);if(o===r||o===0||!isFinite(o))return[e,t];o>0?(e=Math.floor(e/o)*o,t=Math.ceil(t/o)*o):o<0&&(e=Math.ceil(e*o)/o,t=Math.floor(t*o)/o),r=o}}function La(e){return Math.max(1,Math.ceil(Math.log(Ma(e))/Math.LN2)+1)}function Ne(){var e=Oa,t=Qe,n=La;function r(o){Array.isArray(o)||(o=Array.from(o));var i,s=o.length,a,l,c=new Array(s);for(i=0;i<s;++i)c[i]=e(o[i],i,o);var u=t(c),p=u[0],d=u[1],m=n(c,p,d);if(!Array.isArray(m)){let k=d,I=+m;if(t===Qe&&([p,d]=$a(p,d,I)),m=er(p,d,I),m[0]<=p&&(l=wt(p,d,I)),m[m.length-1]>=d)if(k>=d&&t===Qe){let N=wt(p,d,I);isFinite(N)&&(N>0?d=(Math.floor(d/N)+1)*N:N<0&&(d=(Math.ceil(d*-N)+1)/-N))}else m.pop()}for(var f=m.length,g=0,h=f;m[g]<=p;)++g;for(;m[h-1]>d;)--h;(g||h<f)&&(m=m.slice(g,h),f=h-g);var x=new Array(f+1),b;for(i=0;i<=f;++i)b=x[i]=[],b.x0=i>0?m[i-1]:p,b.x1=i<f?m[i]:d;if(isFinite(l)){if(l>0)for(i=0;i<s;++i)(a=c[i])!=null&&p<=a&&a<=d&&x[Math.min(f,Math.floor((a-p)/l))].push(o[i]);else if(l<0){for(i=0;i<s;++i)if((a=c[i])!=null&&p<=a&&a<=d){let k=Math.floor((p-a)*l);x[Math.min(f,k+(m[k]<=a))].push(o[i])}}}else for(i=0;i<s;++i)(a=c[i])!=null&&p<=a&&a<=d&&x[Or(m,a,0,f)].push(o[i]);return x}return r.value=function(o){return arguments.length?(e=typeof o=="function"?o:Fr(o),r):e},r.domain=function(o){return arguments.length?(t=typeof o=="function"?o:Fr([o[0],o[1]]),r):t},r.thresholds=function(o){return arguments.length?(n=typeof o=="function"?o:Fr(Array.isArray(o)?fd.call(o):o),r):n},r}function $t(e,t){let n;if(t===void 0)for(let r of e)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let o of e)(o=t(o,++r,e))!=null&&(n<o||n===void 0&&o>=o)&&(n=o)}return n}function Lt(e,t){let n;if(t===void 0)for(let r of e)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let o of e)(o=t(o,++r,e))!=null&&(n>o||n===void 0&&o>=o)&&(n=o)}return n}function Po(e,t,n=0,r=1/0,o){if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(e.length-1,r)),!(n<=t&&t<=r))return e;for(o=o===void 0?Fa:dd(o);r>n;){if(r-n>600){let l=r-n+1,c=t-n+1,u=Math.log(l),p=.5*Math.exp(2*u/3),d=.5*Math.sqrt(u*p*(l-p)/l)*(c-l/2<0?-1:1),m=Math.max(n,Math.floor(t-c*p/l+d)),f=Math.min(r,Math.floor(t+(l-c)*p/l+d));Po(e,t,m,f,o)}let i=e[t],s=n,a=r;for(Br(e,n,t),o(e[r],i)>0&&Br(e,n,r);s<a;){for(Br(e,s,a),++s,--a;o(e[s],i)<0;)++s;for(;o(e[a],i)>0;)--a}o(e[n],i)===0?Br(e,n,a):(++a,Br(e,a,r)),a<=t&&(n=a+1),t<=a&&(r=a-1)}return e}function Br(e,t,n){let r=e[t];e[t]=e[n],e[n]=r}function $r(e,t,n){if(e=Float64Array.from(cd(e,n)),!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return Lt(e);if(t>=1)return $t(e);var r,o=(r-1)*t,i=Math.floor(o),s=$t(Po(e,i).subarray(0,i+1)),a=Lt(e.subarray(i+1));return s+(a-s)*(o-i)}}function qo(e,t){let n=0,r=0;if(t===void 0)for(let o of e)o!=null&&(o=+o)>=o&&(++n,r+=o);else{let o=-1;for(let i of e)(i=t(i,++o,e))!=null&&(i=+i)>=i&&(++n,r+=i)}if(n)return r/n}function Go(e,t,n){e=+e,t=+t,n=(o=arguments.length)<2?(t=e,e=0,1):o<3?1:+n;for(var r=-1,o=Math.max(0,Math.ceil((t-e)/n))|0,i=new Array(o);++r<o;)i[r]=e+r*n;return i}function ee(e,t){let n=0;if(t===void 0)for(let r of e)(r=+r)&&(n+=r);else{let r=-1;for(let o of e)(o=+t(o,++r,e))&&(n+=o)}return n}function gd(e){return e}var Pa=1,Uo=2,qa=3,Lr=4,hd=1e-6;function jx(e){return"translate("+e+",0)"}function Hx(e){return"translate(0,"+e+")"}function Vx(e){return t=>+e(t)}function Yx(e,t){return t=Math.max(0,e.bandwidth()-t*2)/2,e.round()&&(t=Math.round(t)),n=>+e(n)+t}function Jx(){return!this.__axis}function Ga(e,t){var n=[],r=null,o=null,i=6,s=6,a=3,l=typeof window<"u"&&window.devicePixelRatio>1?0:.5,c=e===Pa||e===Lr?-1:1,u=e===Lr||e===Uo?"x":"y",p=e===Pa||e===qa?jx:Hx;function d(m){var f=r==null?t.ticks?t.ticks.apply(t,n):t.domain():r,g=o==null?t.tickFormat?t.tickFormat.apply(t,n):gd:o,h=Math.max(i,0)+a,x=t.range(),b=+x[0]+l,k=+x[x.length-1]+l,I=(t.bandwidth?Yx:Vx)(t.copy(),l),N=m.selection?m.selection():m,$=N.selectAll(".domain").data([null]),T=N.selectAll(".tick").data(f,t).order(),D=T.exit(),y=T.enter().append("g").attr("class","tick"),w=T.select("line"),M=T.select("text");$=$.merge($.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),T=T.merge(y),w=w.merge(y.append("line").attr("stroke","currentColor").attr(u+"2",c*i)),M=M.merge(y.append("text").attr("fill","currentColor").attr(u,c*h).attr("dy",e===Pa?"0em":e===qa?"0.71em":"0.32em")),m!==N&&($=$.transition(m),T=T.transition(m),w=w.transition(m),M=M.transition(m),D=D.transition(m).attr("opacity",hd).attr("transform",function(j){return isFinite(j=I(j))?p(j+l):this.getAttribute("transform")}),y.attr("opacity",hd).attr("transform",function(j){var O=this.parentNode.__axis;return p((O&&isFinite(O=O(j))?O:I(j))+l)})),D.remove(),$.attr("d",e===Lr||e===Uo?s?"M"+c*s+","+b+"H"+l+"V"+k+"H"+c*s:"M"+l+","+b+"V"+k:s?"M"+b+","+c*s+"V"+l+"H"+k+"V"+c*s:"M"+b+","+l+"H"+k),T.attr("opacity",1).attr("transform",function(j){return p(I(j)+l)}),w.attr(u+"2",c*i),M.attr(u,c*h).text(g),N.filter(Jx).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",e===Uo?"start":e===Lr?"end":"middle"),N.each(function(){this.__axis=I})}return d.scale=function(m){return arguments.length?(t=m,d):t},d.ticks=function(){return n=Array.from(arguments),d},d.tickArguments=function(m){return arguments.length?(n=m==null?[]:Array.from(m),d):n.slice()},d.tickValues=function(m){return arguments.length?(r=m==null?null:Array.from(m),d):r&&r.slice()},d.tickFormat=function(m){return arguments.length?(o=m,d):o},d.tickSize=function(m){return arguments.length?(i=s=+m,d):i},d.tickSizeInner=function(m){return arguments.length?(i=+m,d):i},d.tickSizeOuter=function(m){return arguments.length?(s=+m,d):s},d.tickPadding=function(m){return arguments.length?(a=+m,d):a},d.offset=function(m){return arguments.length?(l=+m,d):l},d}function yn(e){return Ga(Uo,e)}function Pt(e){return Ga(qa,e)}function qt(e){return Ga(Lr,e)}var Xx={value:()=>{}};function xd(){for(var e=0,t=arguments.length,n={},r;e<t;++e){if(!(r=arguments[e]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new zo(n)}function zo(e){this._=e}function Kx(e,t){return e.trim().split(/^|\s+/).map(function(n){var r="",o=n.indexOf(".");if(o>=0&&(r=n.slice(o+1),n=n.slice(0,o)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}zo.prototype=xd.prototype={constructor:zo,on:function(e,t){var n=this._,r=Kx(e+"",n),o,i=-1,s=r.length;if(arguments.length<2){for(;++i<s;)if((o=(e=r[i]).type)&&(o=Zx(n[o],e.name)))return o;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++i<s;)if(o=(e=r[i]).type)n[o]=bd(n[o],e.name,t);else if(t==null)for(o in n)n[o]=bd(n[o],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new zo(e)},call:function(e,t){if((o=arguments.length-2)>0)for(var n=new Array(o),r=0,o,i;r<o;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(i=this._[e],r=0,o=i.length;r<o;++r)i[r].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],o=0,i=r.length;o<i;++o)r[o].value.apply(t,n)}};function Zx(e,t){for(var n=0,r=e.length,o;n<r;++n)if((o=e[n]).name===t)return o.value}function bd(e,t,n){for(var r=0,o=e.length;r<o;++r)if(e[r].name===t){e[r]=Xx,e=e.slice(0,r).concat(e.slice(r+1));break}return n!=null&&e.push({name:t,value:n}),e}var Ua=xd;var Wo="http://www.w3.org/1999/xhtml",za={svg:"http://www.w3.org/2000/svg",xhtml:Wo,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Gt(e){var t=e+="",n=t.indexOf(":");return n>=0&&(t=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),za.hasOwnProperty(t)?{space:za[t],local:e}:e}function Qx(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===Wo&&t.documentElement.namespaceURI===Wo?t.createElement(e):t.createElementNS(n,e)}}function ey(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function jo(e){var t=Gt(e);return(t.local?ey:Qx)(t)}function ty(){}function kn(e){return e==null?ty:function(){return this.querySelector(e)}}function yd(e){typeof e!="function"&&(e=kn(e));for(var t=this._groups,n=t.length,r=new Array(n),o=0;o<n;++o)for(var i=t[o],s=i.length,a=r[o]=new Array(s),l,c,u=0;u<s;++u)(l=i[u])&&(c=e.call(l,l.__data__,u,i))&&("__data__"in l&&(c.__data__=l.__data__),a[u]=c);return new he(r,this._parents)}function Wa(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function ny(){return[]}function Pr(e){return e==null?ny:function(){return this.querySelectorAll(e)}}function ry(e){return function(){return Wa(e.apply(this,arguments))}}function kd(e){typeof e=="function"?e=ry(e):e=Pr(e);for(var t=this._groups,n=t.length,r=[],o=[],i=0;i<n;++i)for(var s=t[i],a=s.length,l,c=0;c<a;++c)(l=s[c])&&(r.push(e.call(l,l.__data__,c,s)),o.push(l));return new he(r,o)}function qr(e){return function(){return this.matches(e)}}function Ho(e){return function(t){return t.matches(e)}}var oy=Array.prototype.find;function iy(e){return function(){return oy.call(this.children,e)}}function ay(){return this.firstElementChild}function wd(e){return this.select(e==null?ay:iy(typeof e=="function"?e:Ho(e)))}var sy=Array.prototype.filter;function cy(){return Array.from(this.children)}function ly(e){return function(){return sy.call(this.children,e)}}function _d(e){return this.selectAll(e==null?cy:ly(typeof e=="function"?e:Ho(e)))}function vd(e){typeof e!="function"&&(e=qr(e));for(var t=this._groups,n=t.length,r=new Array(n),o=0;o<n;++o)for(var i=t[o],s=i.length,a=r[o]=[],l,c=0;c<s;++c)(l=i[c])&&e.call(l,l.__data__,c,i)&&a.push(l);return new he(r,this._parents)}function Vo(e){return new Array(e.length)}function Td(){return new he(this._enter||this._groups.map(Vo),this._parents)}function Gr(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}Gr.prototype={constructor:Gr,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function Cd(e){return function(){return e}}function uy(e,t,n,r,o,i){for(var s=0,a,l=t.length,c=i.length;s<c;++s)(a=t[s])?(a.__data__=i[s],r[s]=a):n[s]=new Gr(e,i[s]);for(;s<l;++s)(a=t[s])&&(o[s]=a)}function py(e,t,n,r,o,i,s){var a,l,c=new Map,u=t.length,p=i.length,d=new Array(u),m;for(a=0;a<u;++a)(l=t[a])&&(d[a]=m=s.call(l,l.__data__,a,t)+"",c.has(m)?o[a]=l:c.set(m,l));for(a=0;a<p;++a)m=s.call(e,i[a],a,i)+"",(l=c.get(m))?(r[a]=l,l.__data__=i[a],c.delete(m)):n[a]=new Gr(e,i[a]);for(a=0;a<u;++a)(l=t[a])&&c.get(d[a])===l&&(o[a]=l)}function dy(e){return e.__data__}function Sd(e,t){if(!arguments.length)return Array.from(this,dy);var n=t?py:uy,r=this._parents,o=this._groups;typeof e!="function"&&(e=Cd(e));for(var i=o.length,s=new Array(i),a=new Array(i),l=new Array(i),c=0;c<i;++c){var u=r[c],p=o[c],d=p.length,m=my(e.call(u,u&&u.__data__,c,r)),f=m.length,g=a[c]=new Array(f),h=s[c]=new Array(f),x=l[c]=new Array(d);n(u,p,g,h,x,m,t);for(var b=0,k=0,I,N;b<f;++b)if(I=g[b]){for(b>=k&&(k=b+1);!(N=h[k])&&++k<f;);I._next=N||null}}return s=new he(s,r),s._enter=a,s._exit=l,s}function my(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function Nd(){return new he(this._exit||this._groups.map(Vo),this._parents)}function Rd(e,t,n){var r=this.enter(),o=this,i=this.exit();return typeof e=="function"?(r=e(r),r&&(r=r.selection())):r=r.append(e+""),t!=null&&(o=t(o),o&&(o=o.selection())),n==null?i.remove():n(i),r&&o?r.merge(o).order():o}function Ed(e){for(var t=e.selection?e.selection():e,n=this._groups,r=t._groups,o=n.length,i=r.length,s=Math.min(o,i),a=new Array(o),l=0;l<s;++l)for(var c=n[l],u=r[l],p=c.length,d=a[l]=new Array(p),m,f=0;f<p;++f)(m=c[f]||u[f])&&(d[f]=m);for(;l<o;++l)a[l]=n[l];return new he(a,this._parents)}function Ad(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r=e[t],o=r.length-1,i=r[o],s;--o>=0;)(s=r[o])&&(i&&s.compareDocumentPosition(i)^4&&i.parentNode.insertBefore(s,i),i=s);return this}function Dd(e){e||(e=fy);function t(p,d){return p&&d?e(p.__data__,d.__data__):!p-!d}for(var n=this._groups,r=n.length,o=new Array(r),i=0;i<r;++i){for(var s=n[i],a=s.length,l=o[i]=new Array(a),c,u=0;u<a;++u)(c=s[u])&&(l[u]=c);l.sort(t)}return new he(o,this._parents).order()}function fy(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function Id(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function Md(){return Array.from(this)}function Od(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],o=0,i=r.length;o<i;++o){var s=r[o];if(s)return s}return null}function Fd(){let e=0;for(let t of this)++e;return e}function Bd(){return!this.node()}function $d(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var o=t[n],i=0,s=o.length,a;i<s;++i)(a=o[i])&&e.call(a,a.__data__,i,o);return this}function gy(e){return function(){this.removeAttribute(e)}}function hy(e){return function(){this.removeAttributeNS(e.space,e.local)}}function by(e,t){return function(){this.setAttribute(e,t)}}function xy(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function yy(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function ky(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function Ld(e,t){var n=Gt(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((t==null?n.local?hy:gy:typeof t=="function"?n.local?ky:yy:n.local?xy:by)(n,t))}function Yo(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function wy(e){return function(){this.style.removeProperty(e)}}function _y(e,t,n){return function(){this.style.setProperty(e,t,n)}}function vy(e,t,n){return function(){var r=t.apply(this,arguments);r==null?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}function Pd(e,t,n){return arguments.length>1?this.each((t==null?wy:typeof t=="function"?vy:_y)(e,t,n==null?"":n)):on(this.node(),e)}function on(e,t){return e.style.getPropertyValue(t)||Yo(e).getComputedStyle(e,null).getPropertyValue(t)}function Ty(e){return function(){delete this[e]}}function Cy(e,t){return function(){this[e]=t}}function Sy(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function qd(e,t){return arguments.length>1?this.each((t==null?Ty:typeof t=="function"?Sy:Cy)(e,t)):this.node()[e]}function Gd(e){return e.trim().split(/^|\s+/)}function ja(e){return e.classList||new Ud(e)}function Ud(e){this._node=e,this._names=Gd(e.getAttribute("class")||"")}Ud.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function zd(e,t){for(var n=ja(e),r=-1,o=t.length;++r<o;)n.add(t[r])}function Wd(e,t){for(var n=ja(e),r=-1,o=t.length;++r<o;)n.remove(t[r])}function Ny(e){return function(){zd(this,e)}}function Ry(e){return function(){Wd(this,e)}}function Ey(e,t){return function(){(t.apply(this,arguments)?zd:Wd)(this,e)}}function jd(e,t){var n=Gd(e+"");if(arguments.length<2){for(var r=ja(this.node()),o=-1,i=n.length;++o<i;)if(!r.contains(n[o]))return!1;return!0}return this.each((typeof t=="function"?Ey:t?Ny:Ry)(n,t))}function Ay(){this.textContent=""}function Dy(e){return function(){this.textContent=e}}function Iy(e){return function(){var t=e.apply(this,arguments);this.textContent=t==null?"":t}}function Hd(e){return arguments.length?this.each(e==null?Ay:(typeof e=="function"?Iy:Dy)(e)):this.node().textContent}function My(){this.innerHTML=""}function Oy(e){return function(){this.innerHTML=e}}function Fy(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t==null?"":t}}function Vd(e){return arguments.length?this.each(e==null?My:(typeof e=="function"?Fy:Oy)(e)):this.node().innerHTML}function By(){this.nextSibling&&this.parentNode.appendChild(this)}function Yd(){return this.each(By)}function $y(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Jd(){return this.each($y)}function Xd(e){var t=typeof e=="function"?e:jo(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function Ly(){return null}function Kd(e,t){var n=typeof e=="function"?e:jo(e),r=t==null?Ly:typeof t=="function"?t:kn(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function Py(){var e=this.parentNode;e&&e.removeChild(this)}function Zd(){return this.each(Py)}function qy(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function Gy(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function Qd(e){return this.select(e?Gy:qy)}function em(e){return arguments.length?this.property("__data__",e):this.node().__data__}function Uy(e){return function(t){e.call(this,t,this.__data__)}}function zy(e){return e.trim().split(/^|\s+/).map(function(t){var n="",r=t.indexOf(".");return r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),{type:t,name:n}})}function Wy(e){return function(){var t=this.__on;if(t){for(var n=0,r=-1,o=t.length,i;n<o;++n)i=t[n],(!e.type||i.type===e.type)&&i.name===e.name?this.removeEventListener(i.type,i.listener,i.options):t[++r]=i;++r?t.length=r:delete this.__on}}}function jy(e,t,n){return function(){var r=this.__on,o,i=Uy(t);if(r){for(var s=0,a=r.length;s<a;++s)if((o=r[s]).type===e.type&&o.name===e.name){this.removeEventListener(o.type,o.listener,o.options),this.addEventListener(o.type,o.listener=i,o.options=n),o.value=t;return}}this.addEventListener(e.type,i,n),o={type:e.type,name:e.name,value:t,listener:i,options:n},r?r.push(o):this.__on=[o]}}function tm(e,t,n){var r=zy(e+""),o,i=r.length,s;if(arguments.length<2){var a=this.node().__on;if(a){for(var l=0,c=a.length,u;l<c;++l)for(o=0,u=a[l];o<i;++o)if((s=r[o]).type===u.type&&s.name===u.name)return u.value}return}for(a=t?jy:Wy,o=0;o<i;++o)this.each(a(r[o],t,n));return this}function nm(e,t,n){var r=Yo(e),o=r.CustomEvent;typeof o=="function"?o=new o(t,n):(o=r.document.createEvent("Event"),n?(o.initEvent(t,n.bubbles,n.cancelable),o.detail=n.detail):o.initEvent(t,!1,!1)),e.dispatchEvent(o)}function Hy(e,t){return function(){return nm(this,e,t)}}function Vy(e,t){return function(){return nm(this,e,t.apply(this,arguments))}}function rm(e,t){return this.each((typeof t=="function"?Vy:Hy)(e,t))}function*om(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],o=0,i=r.length,s;o<i;++o)(s=r[o])&&(yield s)}var Ha=[null];function he(e,t){this._groups=e,this._parents=t}function im(){return new he([[document.documentElement]],Ha)}function Yy(){return this}he.prototype=im.prototype={constructor:he,select:yd,selectAll:kd,selectChild:wd,selectChildren:_d,filter:vd,data:Sd,enter:Td,exit:Nd,join:Rd,merge:Ed,selection:Yy,order:Ad,sort:Dd,call:Id,nodes:Md,node:Od,size:Fd,empty:Bd,each:$d,attr:Ld,style:Pd,property:qd,classed:jd,text:Hd,html:Vd,raise:Yd,lower:Jd,append:Xd,insert:Kd,remove:Zd,clone:Qd,datum:em,on:tm,dispatch:rm,[Symbol.iterator]:om};var Ut=im;function Xe(e){return typeof e=="string"?new he([[document.querySelector(e)]],[document.documentElement]):new he([[e]],Ha)}function am(e){let t;for(;t=e.sourceEvent;)e=t;return e}function at(e,t){if(e=am(e),t===void 0&&(t=e.currentTarget),t){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,r=r.matrixTransform(t.getScreenCTM().inverse()),[r.x,r.y]}if(t.getBoundingClientRect){var o=t.getBoundingClientRect();return[e.clientX-o.left-t.clientLeft,e.clientY-o.top-t.clientTop]}}return[e.pageX,e.pageY]}function Jo(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function Va(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function Wr(){}var Ur=.7,Zo=1/Ur,tr="\\s*([+-]?\\d+)\\s*",zr="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",_t="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Jy=/^#([0-9a-f]{3,8})$/,Xy=new RegExp(`^rgb\\(${tr},${tr},${tr}\\)$`),Ky=new RegExp(`^rgb\\(${_t},${_t},${_t}\\)$`),Zy=new RegExp(`^rgba\\(${tr},${tr},${tr},${zr}\\)$`),Qy=new RegExp(`^rgba\\(${_t},${_t},${_t},${zr}\\)$`),ek=new RegExp(`^hsl\\(${zr},${_t},${_t}\\)$`),tk=new RegExp(`^hsla\\(${zr},${_t},${_t},${zr}\\)$`),sm={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Jo(Wr,ct,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:cm,formatHex:cm,formatHex8:nk,formatHsl:rk,formatRgb:lm,toString:lm});function cm(){return this.rgb().formatHex()}function nk(){return this.rgb().formatHex8()}function rk(){return gm(this).formatHsl()}function lm(){return this.rgb().formatRgb()}function ct(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=Jy.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?um(t):n===3?new ze(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?Xo(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?Xo(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=Xy.exec(e))?new ze(t[1],t[2],t[3],1):(t=Ky.exec(e))?new ze(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=Zy.exec(e))?Xo(t[1],t[2],t[3],t[4]):(t=Qy.exec(e))?Xo(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=ek.exec(e))?mm(t[1],t[2]/100,t[3]/100,1):(t=tk.exec(e))?mm(t[1],t[2]/100,t[3]/100,t[4]):sm.hasOwnProperty(e)?um(sm[e]):e==="transparent"?new ze(NaN,NaN,NaN,0):null}function um(e){return new ze(e>>16&255,e>>8&255,e&255,1)}function Xo(e,t,n,r){return r<=0&&(e=t=n=NaN),new ze(e,t,n,r)}function ok(e){return e instanceof Wr||(e=ct(e)),e?(e=e.rgb(),new ze(e.r,e.g,e.b,e.opacity)):new ze}function nr(e,t,n,r){return arguments.length===1?ok(e):new ze(e,t,n,r==null?1:r)}function ze(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}Jo(ze,nr,Va(Wr,{brighter(e){return e=e==null?Zo:Math.pow(Zo,e),new ze(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Ur:Math.pow(Ur,e),new ze(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new ze(_n(this.r),_n(this.g),_n(this.b),Qo(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:pm,formatHex:pm,formatHex8:ik,formatRgb:dm,toString:dm}));function pm(){return`#${wn(this.r)}${wn(this.g)}${wn(this.b)}`}function ik(){return`#${wn(this.r)}${wn(this.g)}${wn(this.b)}${wn((isNaN(this.opacity)?1:this.opacity)*255)}`}function dm(){let e=Qo(this.opacity);return`${e===1?"rgb(":"rgba("}${_n(this.r)}, ${_n(this.g)}, ${_n(this.b)}${e===1?")":`, ${e})`}`}function Qo(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function _n(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function wn(e){return e=_n(e),(e<16?"0":"")+e.toString(16)}function mm(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new st(e,t,n,r)}function gm(e){if(e instanceof st)return new st(e.h,e.s,e.l,e.opacity);if(e instanceof Wr||(e=ct(e)),!e)return new st;if(e instanceof st)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,o=Math.min(t,n,r),i=Math.max(t,n,r),s=NaN,a=i-o,l=(i+o)/2;return a?(t===i?s=(n-r)/a+(n<r)*6:n===i?s=(r-t)/a+2:s=(t-n)/a+4,a/=l<.5?i+o:2-i-o,s*=60):a=l>0&&l<1?0:s,new st(s,a,l,e.opacity)}function hm(e,t,n,r){return arguments.length===1?gm(e):new st(e,t,n,r==null?1:r)}function st(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}Jo(st,hm,Va(Wr,{brighter(e){return e=e==null?Zo:Math.pow(Zo,e),new st(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Ur:Math.pow(Ur,e),new st(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,o=2*n-r;return new ze(Ya(e>=240?e-240:e+120,o,r),Ya(e,o,r),Ya(e<120?e+240:e-120,o,r),this.opacity)},clamp(){return new st(fm(this.h),Ko(this.s),Ko(this.l),Qo(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){let e=Qo(this.opacity);return`${e===1?"hsl(":"hsla("}${fm(this.h)}, ${Ko(this.s)*100}%, ${Ko(this.l)*100}%${e===1?")":`, ${e})`}`}}));function fm(e){return e=(e||0)%360,e<0?e+360:e}function Ko(e){return Math.max(0,Math.min(1,e||0))}function Ya(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}function Ja(e,t,n,r,o){var i=e*e,s=i*e;return((1-3*e+3*i-s)*t+(4-6*i+3*s)*n+(1+3*e+3*i-3*s)*r+s*o)/6}function bm(e){var t=e.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,t-1):Math.floor(n*t),o=e[r],i=e[r+1],s=r>0?e[r-1]:2*o-i,a=r<t-1?e[r+2]:2*i-o;return Ja((n-r/t)*t,s,o,i,a)}}function xm(e){var t=e.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*t),o=e[(r+t-1)%t],i=e[r%t],s=e[(r+1)%t],a=e[(r+2)%t];return Ja((n-r/t)*t,o,i,s,a)}}var jr=e=>()=>e;function ak(e,t){return function(n){return e+n*t}}function sk(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function ym(e){return(e=+e)==1?ei:function(t,n){return n-t?sk(t,n,e):jr(isNaN(t)?n:t)}}function ei(e,t){var n=t-e;return n?ak(e,n):jr(isNaN(e)?t:e)}var vn=function e(t){var n=ym(t);function r(o,i){var s=n((o=nr(o)).r,(i=nr(i)).r),a=n(o.g,i.g),l=n(o.b,i.b),c=ei(o.opacity,i.opacity);return function(u){return o.r=s(u),o.g=a(u),o.b=l(u),o.opacity=c(u),o+""}}return r.gamma=e,r}(1);function km(e){return function(t){var n=t.length,r=new Array(n),o=new Array(n),i=new Array(n),s,a;for(s=0;s<n;++s)a=nr(t[s]),r[s]=a.r||0,o[s]=a.g||0,i[s]=a.b||0;return r=e(r),o=e(o),i=e(i),a.opacity=1,function(l){return a.r=r(l),a.g=o(l),a.b=i(l),a+""}}}var Xa=km(bm),ck=km(xm);function wm(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),o;return function(i){for(o=0;o<n;++o)r[o]=e[o]*(1-i)+t[o]*i;return r}}function _m(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function vm(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,o=new Array(r),i=new Array(n),s;for(s=0;s<r;++s)o[s]=lt(e[s],t[s]);for(;s<n;++s)i[s]=t[s];return function(a){for(s=0;s<r;++s)i[s]=o[s](a);return i}}function Tm(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function Ee(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function Cm(e,t){var n={},r={},o;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(o in t)o in e?n[o]=lt(e[o],t[o]):r[o]=t[o];return function(i){for(o in n)r[o]=n[o](i);return r}}var Za=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Ka=new RegExp(Za.source,"g");function lk(e){return function(){return e}}function uk(e){return function(t){return e(t)+""}}function Hr(e,t){var n=Za.lastIndex=Ka.lastIndex=0,r,o,i,s=-1,a=[],l=[];for(e=e+"",t=t+"";(r=Za.exec(e))&&(o=Ka.exec(t));)(i=o.index)>n&&(i=t.slice(n,i),a[s]?a[s]+=i:a[++s]=i),(r=r[0])===(o=o[0])?a[s]?a[s]+=o:a[++s]=o:(a[++s]=null,l.push({i:s,x:Ee(r,o)})),n=Ka.lastIndex;return n<t.length&&(i=t.slice(n),a[s]?a[s]+=i:a[++s]=i),a.length<2?l[0]?uk(l[0].x):lk(t):(t=l.length,function(c){for(var u=0,p;u<t;++u)a[(p=l[u]).i]=p.x(c);return a.join("")})}function lt(e,t){var n=typeof t,r;return t==null||n==="boolean"?jr(t):(n==="number"?Ee:n==="string"?(r=ct(t))?(t=r,vn):Hr:t instanceof ct?vn:t instanceof Date?Tm:_m(t)?wm:Array.isArray(t)?vm:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?Cm:Ee)(e,t)}function Vr(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}var Sm=180/Math.PI,ti={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Qa(e,t,n,r,o,i){var s,a,l;return(s=Math.sqrt(e*e+t*t))&&(e/=s,t/=s),(l=e*n+t*r)&&(n-=e*l,r-=t*l),(a=Math.sqrt(n*n+r*r))&&(n/=a,r/=a,l/=a),e*r<t*n&&(e=-e,t=-t,l=-l,s=-s),{translateX:o,translateY:i,rotate:Math.atan2(t,e)*Sm,skewX:Math.atan(l)*Sm,scaleX:s,scaleY:a}}var ni;function Nm(e){let t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?ti:Qa(t.a,t.b,t.c,t.d,t.e,t.f)}function Rm(e){return e==null?ti:(ni||(ni=document.createElementNS("http://www.w3.org/2000/svg","g")),ni.setAttribute("transform",e),(e=ni.transform.baseVal.consolidate())?(e=e.matrix,Qa(e.a,e.b,e.c,e.d,e.e,e.f)):ti)}function Em(e,t,n,r){function o(c){return c.length?c.pop()+" ":""}function i(c,u,p,d,m,f){if(c!==p||u!==d){var g=m.push("translate(",null,t,null,n);f.push({i:g-4,x:Ee(c,p)},{i:g-2,x:Ee(u,d)})}else(p||d)&&m.push("translate("+p+t+d+n)}function s(c,u,p,d){c!==u?(c-u>180?u+=360:u-c>180&&(c+=360),d.push({i:p.push(o(p)+"rotate(",null,r)-2,x:Ee(c,u)})):u&&p.push(o(p)+"rotate("+u+r)}function a(c,u,p,d){c!==u?d.push({i:p.push(o(p)+"skewX(",null,r)-2,x:Ee(c,u)}):u&&p.push(o(p)+"skewX("+u+r)}function l(c,u,p,d,m,f){if(c!==p||u!==d){var g=m.push(o(m)+"scale(",null,",",null,")");f.push({i:g-4,x:Ee(c,p)},{i:g-2,x:Ee(u,d)})}else(p!==1||d!==1)&&m.push(o(m)+"scale("+p+","+d+")")}return function(c,u){var p=[],d=[];return c=e(c),u=e(u),i(c.translateX,c.translateY,u.translateX,u.translateY,p,d),s(c.rotate,u.rotate,p,d),a(c.skewX,u.skewX,p,d),l(c.scaleX,c.scaleY,u.scaleX,u.scaleY,p,d),c=u=null,function(m){for(var f=-1,g=d.length,h;++f<g;)p[(h=d[f]).i]=h.x(m);return p.join("")}}}var es=Em(Nm,"px, ","px)","deg)"),ts=Em(Rm,", ",")",")");var rr=0,Jr=0,Yr=0,Dm=1e3,ri,Xr,oi=0,Tn=0,ii=0,Kr=typeof performance=="object"&&performance.now?performance:Date,Im=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function Qr(){return Tn||(Im(pk),Tn=Kr.now()+ii)}function pk(){Tn=0}function Zr(){this._call=this._time=this._next=null}Zr.prototype=ai.prototype={constructor:Zr,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?Qr():+n)+(t==null?0:+t),!this._next&&Xr!==this&&(Xr?Xr._next=this:ri=this,Xr=this),this._call=e,this._time=n,ns()},stop:function(){this._call&&(this._call=null,this._time=1/0,ns())}};function ai(e,t,n){var r=new Zr;return r.restart(e,t,n),r}function Mm(){Qr(),++rr;for(var e=ri,t;e;)(t=Tn-e._time)>=0&&e._call.call(void 0,t),e=e._next;--rr}function Am(){Tn=(oi=Kr.now())+ii,rr=Jr=0;try{Mm()}finally{rr=0,mk(),Tn=0}}function dk(){var e=Kr.now(),t=e-oi;t>Dm&&(ii-=t,oi=e)}function mk(){for(var e,t=ri,n,r=1/0;t;)t._call?(r>t._time&&(r=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:ri=n);Xr=e,ns(r)}function ns(e){if(!rr){Jr&&(Jr=clearTimeout(Jr));var t=e-Tn;t>24?(e<1/0&&(Jr=setTimeout(Am,e-Kr.now()-ii)),Yr&&(Yr=clearInterval(Yr))):(Yr||(oi=Kr.now(),Yr=setInterval(dk,Dm)),rr=1,Im(Am))}}function si(e,t,n){var r=new Zr;return t=t==null?0:+t,r.restart(o=>{r.stop(),e(o+t)},t,n),r}var fk=Ua("start","end","cancel","interrupt"),gk=[],Bm=0,Om=1,li=2,ci=3,Fm=4,ui=5,eo=6;function an(e,t,n,r,o,i){var s=e.__transition;if(!s)e.__transition={};else if(n in s)return;hk(e,n,{name:t,index:r,group:o,on:fk,tween:gk,time:i.time,delay:i.delay,duration:i.duration,ease:i.ease,timer:null,state:Bm})}function to(e,t){var n=ke(e,t);if(n.state>Bm)throw new Error("too late; already scheduled");return n}function Ae(e,t){var n=ke(e,t);if(n.state>ci)throw new Error("too late; already running");return n}function ke(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function hk(e,t,n){var r=e.__transition,o;r[t]=n,n.timer=ai(i,0,n.time);function i(c){n.state=Om,n.timer.restart(s,n.delay,n.time),n.delay<=c&&s(c-n.delay)}function s(c){var u,p,d,m;if(n.state!==Om)return l();for(u in r)if(m=r[u],m.name===n.name){if(m.state===ci)return si(s);m.state===Fm?(m.state=eo,m.timer.stop(),m.on.call("interrupt",e,e.__data__,m.index,m.group),delete r[u]):+u<t&&(m.state=eo,m.timer.stop(),m.on.call("cancel",e,e.__data__,m.index,m.group),delete r[u])}if(si(function(){n.state===ci&&(n.state=Fm,n.timer.restart(a,n.delay,n.time),a(c))}),n.state=li,n.on.call("start",e,e.__data__,n.index,n.group),n.state===li){for(n.state=ci,o=new Array(d=n.tween.length),u=0,p=-1;u<d;++u)(m=n.tween[u].value.call(e,e.__data__,n.index,n.group))&&(o[++p]=m);o.length=p+1}}function a(c){for(var u=c<n.duration?n.ease.call(null,c/n.duration):(n.timer.restart(l),n.state=ui,1),p=-1,d=o.length;++p<d;)o[p].call(e,u);n.state===ui&&(n.on.call("end",e,e.__data__,n.index,n.group),l())}function l(){n.state=eo,n.timer.stop(),delete r[t];for(var c in r)return;delete e.__transition}}function pi(e,t){var n=e.__transition,r,o,i=!0,s;if(n){t=t==null?null:t+"";for(s in n){if((r=n[s]).name!==t){i=!1;continue}o=r.state>li&&r.state<ui,r.state=eo,r.timer.stop(),r.on.call(o?"interrupt":"cancel",e,e.__data__,r.index,r.group),delete n[s]}i&&delete e.__transition}}function $m(e){return this.each(function(){pi(this,e)})}function bk(e,t){var n,r;return function(){var o=Ae(this,e),i=o.tween;if(i!==n){r=n=i;for(var s=0,a=r.length;s<a;++s)if(r[s].name===t){r=r.slice(),r.splice(s,1);break}}o.tween=r}}function xk(e,t,n){var r,o;if(typeof n!="function")throw new Error;return function(){var i=Ae(this,e),s=i.tween;if(s!==r){o=(r=s).slice();for(var a={name:t,value:n},l=0,c=o.length;l<c;++l)if(o[l].name===t){o[l]=a;break}l===c&&o.push(a)}i.tween=o}}function Lm(e,t){var n=this._id;if(e+="",arguments.length<2){for(var r=ke(this.node(),n).tween,o=0,i=r.length,s;o<i;++o)if((s=r[o]).name===e)return s.value;return null}return this.each((t==null?bk:xk)(n,e,t))}function or(e,t,n){var r=e._id;return e.each(function(){var o=Ae(this,r);(o.value||(o.value={}))[t]=n.apply(this,arguments)}),function(o){return ke(o,r).value[t]}}function di(e,t){var n;return(typeof t=="number"?Ee:t instanceof ct?vn:(n=ct(t))?(t=n,vn):Hr)(e,t)}function yk(e){return function(){this.removeAttribute(e)}}function kk(e){return function(){this.removeAttributeNS(e.space,e.local)}}function wk(e,t,n){var r,o=n+"",i;return function(){var s=this.getAttribute(e);return s===o?null:s===r?i:i=t(r=s,n)}}function _k(e,t,n){var r,o=n+"",i;return function(){var s=this.getAttributeNS(e.space,e.local);return s===o?null:s===r?i:i=t(r=s,n)}}function vk(e,t,n){var r,o,i;return function(){var s,a=n(this),l;return a==null?void this.removeAttribute(e):(s=this.getAttribute(e),l=a+"",s===l?null:s===r&&l===o?i:(o=l,i=t(r=s,a)))}}function Tk(e,t,n){var r,o,i;return function(){var s,a=n(this),l;return a==null?void this.removeAttributeNS(e.space,e.local):(s=this.getAttributeNS(e.space,e.local),l=a+"",s===l?null:s===r&&l===o?i:(o=l,i=t(r=s,a)))}}function Pm(e,t){var n=Gt(e),r=n==="transform"?ts:di;return this.attrTween(e,typeof t=="function"?(n.local?Tk:vk)(n,r,or(this,"attr."+e,t)):t==null?(n.local?kk:yk)(n):(n.local?_k:wk)(n,r,t))}function Ck(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function Sk(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function Nk(e,t){var n,r;function o(){var i=t.apply(this,arguments);return i!==r&&(n=(r=i)&&Sk(e,i)),n}return o._value=t,o}function Rk(e,t){var n,r;function o(){var i=t.apply(this,arguments);return i!==r&&(n=(r=i)&&Ck(e,i)),n}return o._value=t,o}function qm(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;var r=Gt(e);return this.tween(n,(r.local?Nk:Rk)(r,t))}function Ek(e,t){return function(){to(this,e).delay=+t.apply(this,arguments)}}function Ak(e,t){return t=+t,function(){to(this,e).delay=t}}function Gm(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?Ek:Ak)(t,e)):ke(this.node(),t).delay}function Dk(e,t){return function(){Ae(this,e).duration=+t.apply(this,arguments)}}function Ik(e,t){return t=+t,function(){Ae(this,e).duration=t}}function Um(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?Dk:Ik)(t,e)):ke(this.node(),t).duration}function Mk(e,t){if(typeof t!="function")throw new Error;return function(){Ae(this,e).ease=t}}function zm(e){var t=this._id;return arguments.length?this.each(Mk(t,e)):ke(this.node(),t).ease}function Ok(e,t){return function(){var n=t.apply(this,arguments);if(typeof n!="function")throw new Error;Ae(this,e).ease=n}}function Wm(e){if(typeof e!="function")throw new Error;return this.each(Ok(this._id,e))}function jm(e){typeof e!="function"&&(e=qr(e));for(var t=this._groups,n=t.length,r=new Array(n),o=0;o<n;++o)for(var i=t[o],s=i.length,a=r[o]=[],l,c=0;c<s;++c)(l=i[c])&&e.call(l,l.__data__,c,i)&&a.push(l);return new Le(r,this._parents,this._name,this._id)}function Hm(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,r=t.length,o=n.length,i=Math.min(r,o),s=new Array(r),a=0;a<i;++a)for(var l=t[a],c=n[a],u=l.length,p=s[a]=new Array(u),d,m=0;m<u;++m)(d=l[m]||c[m])&&(p[m]=d);for(;a<r;++a)s[a]=t[a];return new Le(s,this._parents,this._name,this._id)}function Fk(e){return(e+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||t==="start"})}function Bk(e,t,n){var r,o,i=Fk(t)?to:Ae;return function(){var s=i(this,e),a=s.on;a!==r&&(o=(r=a).copy()).on(t,n),s.on=o}}function Vm(e,t){var n=this._id;return arguments.length<2?ke(this.node(),n).on.on(e):this.each(Bk(n,e,t))}function $k(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}function Ym(){return this.on("end.remove",$k(this._id))}function Jm(e){var t=this._name,n=this._id;typeof e!="function"&&(e=kn(e));for(var r=this._groups,o=r.length,i=new Array(o),s=0;s<o;++s)for(var a=r[s],l=a.length,c=i[s]=new Array(l),u,p,d=0;d<l;++d)(u=a[d])&&(p=e.call(u,u.__data__,d,a))&&("__data__"in u&&(p.__data__=u.__data__),c[d]=p,an(c[d],t,n,d,c,ke(u,n)));return new Le(i,this._parents,t,n)}function Xm(e){var t=this._name,n=this._id;typeof e!="function"&&(e=Pr(e));for(var r=this._groups,o=r.length,i=[],s=[],a=0;a<o;++a)for(var l=r[a],c=l.length,u,p=0;p<c;++p)if(u=l[p]){for(var d=e.call(u,u.__data__,p,l),m,f=ke(u,n),g=0,h=d.length;g<h;++g)(m=d[g])&&an(m,t,n,g,d,f);i.push(d),s.push(u)}return new Le(i,s,t,n)}var Lk=Ut.prototype.constructor;function Km(){return new Lk(this._groups,this._parents)}function Pk(e,t){var n,r,o;return function(){var i=on(this,e),s=(this.style.removeProperty(e),on(this,e));return i===s?null:i===n&&s===r?o:o=t(n=i,r=s)}}function Zm(e){return function(){this.style.removeProperty(e)}}function qk(e,t,n){var r,o=n+"",i;return function(){var s=on(this,e);return s===o?null:s===r?i:i=t(r=s,n)}}function Gk(e,t,n){var r,o,i;return function(){var s=on(this,e),a=n(this),l=a+"";return a==null&&(l=a=(this.style.removeProperty(e),on(this,e))),s===l?null:s===r&&l===o?i:(o=l,i=t(r=s,a))}}function Uk(e,t){var n,r,o,i="style."+t,s="end."+i,a;return function(){var l=Ae(this,e),c=l.on,u=l.value[i]==null?a||(a=Zm(t)):void 0;(c!==n||o!==u)&&(r=(n=c).copy()).on(s,o=u),l.on=r}}function Qm(e,t,n){var r=(e+="")=="transform"?es:di;return t==null?this.styleTween(e,Pk(e,r)).on("end.style."+e,Zm(e)):typeof t=="function"?this.styleTween(e,Gk(e,r,or(this,"style."+e,t))).each(Uk(this._id,e)):this.styleTween(e,qk(e,r,t),n).on("end.style."+e,null)}function zk(e,t,n){return function(r){this.style.setProperty(e,t.call(this,r),n)}}function Wk(e,t,n){var r,o;function i(){var s=t.apply(this,arguments);return s!==o&&(r=(o=s)&&zk(e,s,n)),r}return i._value=t,i}function ef(e,t,n){var r="style."+(e+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;return this.tween(r,Wk(e,t,n==null?"":n))}function jk(e){return function(){this.textContent=e}}function Hk(e){return function(){var t=e(this);this.textContent=t==null?"":t}}function tf(e){return this.tween("text",typeof e=="function"?Hk(or(this,"text",e)):jk(e==null?"":e+""))}function Vk(e){return function(t){this.textContent=e.call(this,t)}}function Yk(e){var t,n;function r(){var o=e.apply(this,arguments);return o!==n&&(t=(n=o)&&Vk(o)),t}return r._value=e,r}function nf(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,Yk(e))}function rf(){for(var e=this._name,t=this._id,n=mi(),r=this._groups,o=r.length,i=0;i<o;++i)for(var s=r[i],a=s.length,l,c=0;c<a;++c)if(l=s[c]){var u=ke(l,t);an(l,e,n,c,s,{time:u.time+u.delay+u.duration,delay:0,duration:u.duration,ease:u.ease})}return new Le(r,this._parents,e,n)}function of(){var e,t,n=this,r=n._id,o=n.size();return new Promise(function(i,s){var a={value:s},l={value:function(){--o===0&&i()}};n.each(function(){var c=Ae(this,r),u=c.on;u!==e&&(t=(e=u).copy(),t._.cancel.push(a),t._.interrupt.push(a),t._.end.push(l)),c.on=t}),o===0&&i()})}var Jk=0;function Le(e,t,n,r){this._groups=e,this._parents=t,this._name=n,this._id=r}function af(e){return Ut().transition(e)}function mi(){return++Jk}var zt=Ut.prototype;Le.prototype=af.prototype={constructor:Le,select:Jm,selectAll:Xm,selectChild:zt.selectChild,selectChildren:zt.selectChildren,filter:jm,merge:Hm,selection:Km,transition:rf,call:zt.call,nodes:zt.nodes,node:zt.node,size:zt.size,empty:zt.empty,each:zt.each,on:Vm,attr:Pm,attrTween:qm,style:Qm,styleTween:ef,text:tf,textTween:nf,remove:Ym,tween:Lm,delay:Gm,duration:Um,ease:zm,easeVarying:Wm,end:of,[Symbol.iterator]:zt[Symbol.iterator]};function fi(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var Xk={time:null,delay:0,duration:250,ease:fi};function Kk(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}function sf(e){var t,n;e instanceof Le?(t=e._id,e=e._name):(t=mi(),(n=Xk).time=Qr(),e=e==null?null:e+"");for(var r=this._groups,o=r.length,i=0;i<o;++i)for(var s=r[i],a=s.length,l,c=0;c<a;++c)(l=s[c])&&an(l,e,t,c,s,n||Kk(l,t));return new Le(r,this._parents,e,t)}Ut.prototype.interrupt=$m;Ut.prototype.transition=sf;var{abs:LM,max:PM,min:qM}=Math;function cf(e){return[+e[0],+e[1]]}function Zk(e){return[cf(e[0]),cf(e[1])]}var GM={name:"x",handles:["w","e"].map(rs),input:function(e,t){return e==null?null:[[+e[0],t[0][1]],[+e[1],t[1][1]]]},output:function(e){return e&&[e[0][0],e[1][0]]}},UM={name:"y",handles:["n","s"].map(rs),input:function(e,t){return e==null?null:[[t[0][0],+e[0]],[t[1][0],+e[1]]]},output:function(e){return e&&[e[0][1],e[1][1]]}},zM={name:"xy",handles:["n","w","e","s","nw","ne","sw","se"].map(rs),input:function(e){return e==null?null:Zk(e)},output:function(e){return e}};function rs(e){return{type:e}}var os=Math.PI,is=2*os,Cn=1e-6,Qk=is-Cn;function lf(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function e0(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return lf;let n=10**t;return function(r){this._+=r[0];for(let o=1,i=r.length;o<i;++o)this._+=Math.round(arguments[o]*n)/n+r[o]}}var Sn=class{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?lf:e0(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,r,o){this._append`Q${+t},${+n},${this._x1=+r},${this._y1=+o}`}bezierCurveTo(t,n,r,o,i,s){this._append`C${+t},${+n},${+r},${+o},${this._x1=+i},${this._y1=+s}`}arcTo(t,n,r,o,i){if(t=+t,n=+n,r=+r,o=+o,i=+i,i<0)throw new Error(`negative radius: ${i}`);let s=this._x1,a=this._y1,l=r-t,c=o-n,u=s-t,p=a-n,d=u*u+p*p;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(d>Cn)if(!(Math.abs(p*l-c*u)>Cn)||!i)this._append`L${this._x1=t},${this._y1=n}`;else{let m=r-s,f=o-a,g=l*l+c*c,h=m*m+f*f,x=Math.sqrt(g),b=Math.sqrt(d),k=i*Math.tan((os-Math.acos((g+d-h)/(2*x*b)))/2),I=k/b,N=k/x;Math.abs(I-1)>Cn&&this._append`L${t+I*u},${n+I*p}`,this._append`A${i},${i},0,0,${+(p*m>u*f)},${this._x1=t+N*l},${this._y1=n+N*c}`}}arc(t,n,r,o,i,s){if(t=+t,n=+n,r=+r,s=!!s,r<0)throw new Error(`negative radius: ${r}`);let a=r*Math.cos(o),l=r*Math.sin(o),c=t+a,u=n+l,p=1^s,d=s?o-i:i-o;this._x1===null?this._append`M${c},${u}`:(Math.abs(this._x1-c)>Cn||Math.abs(this._y1-u)>Cn)&&this._append`L${c},${u}`,r&&(d<0&&(d=d%is+is),d>Qk?this._append`A${r},${r},0,1,${p},${t-a},${n-l}A${r},${r},0,1,${p},${this._x1=c},${this._y1=u}`:d>Cn&&this._append`A${r},${r},0,${+(d>=os)},${p},${this._x1=t+r*Math.cos(i)},${this._y1=n+r*Math.sin(i)}`)}rect(t,n,r,o){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${r=+r}v${+o}h${-r}Z`}toString(){return this._}};function uf(){return new Sn}uf.prototype=Sn.prototype;function pf(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Nn(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function vt(e){return e=Nn(Math.abs(e)),e?e[1]:NaN}function df(e,t){return function(n,r){for(var o=n.length,i=[],s=0,a=e[0],l=0;o>0&&a>0&&(l+a+1>r&&(a=Math.max(1,r-l)),i.push(n.substring(o-=a,o+a)),!((l+=a+1)>r));)a=e[s=(s+1)%e.length];return i.reverse().join(t)}}function mf(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var t0=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function sn(e){if(!(t=t0.exec(e)))throw new Error("invalid format: "+e);var t;return new gi({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}sn.prototype=gi.prototype;function gi(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}gi.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function ff(e){e:for(var t=e.length,n=1,r=-1,o;n<t;++n)switch(e[n]){case".":r=o=n;break;case"0":r===0&&(r=n),o=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(o+1):e}var as;function gf(e,t){var n=Nn(e,t);if(!n)return e+"";var r=n[0],o=n[1],i=o-(as=Math.max(-8,Math.min(8,Math.floor(o/3)))*3)+1,s=r.length;return i===s?r:i>s?r+new Array(i-s+1).join("0"):i>0?r.slice(0,i)+"."+r.slice(i):"0."+new Array(1-i).join("0")+Nn(e,Math.max(0,t+i-1))[0]}function ss(e,t){var n=Nn(e,t);if(!n)return e+"";var r=n[0],o=n[1];return o<0?"0."+new Array(-o).join("0")+r:r.length>o+1?r.slice(0,o+1)+"."+r.slice(o+1):r+new Array(o-r.length+2).join("0")}var cs={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:pf,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>ss(e*100,t),r:ss,s:gf,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function ls(e){return e}var hf=Array.prototype.map,bf=["y","z","a","f","p","n","\xB5","m","","k","M","G","T","P","E","Z","Y"];function xf(e){var t=e.grouping===void 0||e.thousands===void 0?ls:df(hf.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",o=e.decimal===void 0?".":e.decimal+"",i=e.numerals===void 0?ls:mf(hf.call(e.numerals,String)),s=e.percent===void 0?"%":e.percent+"",a=e.minus===void 0?"\u2212":e.minus+"",l=e.nan===void 0?"NaN":e.nan+"";function c(p){p=sn(p);var d=p.fill,m=p.align,f=p.sign,g=p.symbol,h=p.zero,x=p.width,b=p.comma,k=p.precision,I=p.trim,N=p.type;N==="n"?(b=!0,N="g"):cs[N]||(k===void 0&&(k=12),I=!0,N="g"),(h||d==="0"&&m==="=")&&(h=!0,d="0",m="=");var $=g==="$"?n:g==="#"&&/[boxX]/.test(N)?"0"+N.toLowerCase():"",T=g==="$"?r:/[%p]/.test(N)?s:"",D=cs[N],y=/[defgprs%]/.test(N);k=k===void 0?6:/[gprs]/.test(N)?Math.max(1,Math.min(21,k)):Math.max(0,Math.min(20,k));function w(M){var j=$,O=T,V,Ue,Ke;if(N==="c")O=D(M)+O,M="";else{M=+M;var Ve=M<0||1/M<0;if(M=isNaN(M)?l:D(Math.abs(M),k),I&&(M=ff(M)),Ve&&+M==0&&f!=="+"&&(Ve=!1),j=(Ve?f==="("?f:a:f==="-"||f==="("?"":f)+j,O=(N==="s"?bf[8+as/3]:"")+O+(Ve&&f==="("?")":""),y){for(V=-1,Ue=M.length;++V<Ue;)if(Ke=M.charCodeAt(V),48>Ke||Ke>57){O=(Ke===46?o+M.slice(V+1):M.slice(V))+O,M=M.slice(0,V);break}}}b&&!h&&(M=t(M,1/0));var $e=j.length+M.length+O.length,_e=$e<x?new Array(x-$e+1).join(d):"";switch(b&&h&&(M=t(_e+M,_e.length?x-O.length:1/0),_e=""),m){case"<":M=j+M+O+_e;break;case"=":M=j+_e+M+O;break;case"^":M=_e.slice(0,$e=_e.length>>1)+j+M+O+_e.slice($e);break;default:M=_e+j+M+O;break}return i(M)}return w.toString=function(){return p+""},w}function u(p,d){var m=c((p=sn(p),p.type="f",p)),f=Math.max(-8,Math.min(8,Math.floor(vt(d)/3)))*3,g=Math.pow(10,-f),h=bf[8+f/3];return function(x){return m(g*x)+h}}return{format:c,formatPrefix:u}}var hi,bi,xi;us({thousands:",",grouping:[3],currency:["$",""]});function us(e){return hi=xf(e),bi=hi.format,xi=hi.formatPrefix,hi}function ps(e){return Math.max(0,-vt(Math.abs(e)))}function ds(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(vt(t)/3)))*3-vt(Math.abs(e)))}function ms(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,vt(t)-vt(e))+1}function ir(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function fs(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}var yf=Symbol("implicit");function yi(){var e=new Qn,t=[],n=[],r=yf;function o(i){let s=e.get(i);if(s===void 0){if(r!==yf)return r;e.set(i,s=t.push(i)-1)}return n[s%n.length]}return o.domain=function(i){if(!arguments.length)return t.slice();t=[],e=new Qn;for(let s of i)e.has(s)||e.set(s,t.push(s)-1);return o},o.range=function(i){return arguments.length?(n=Array.from(i),o):n.slice()},o.unknown=function(i){return arguments.length?(r=i,o):r},o.copy=function(){return yi(t,n).unknown(r)},ir.apply(o,arguments),o}function cn(){var e=yi().unknown(void 0),t=e.domain,n=e.range,r=0,o=1,i,s,a=!1,l=0,c=0,u=.5;delete e.unknown;function p(){var d=t().length,m=o<r,f=m?o:r,g=m?r:o;i=(g-f)/Math.max(1,d-l+c*2),a&&(i=Math.floor(i)),f+=(g-f-i*(d-l))*u,s=i*(1-l),a&&(f=Math.round(f),s=Math.round(s));var h=Go(d).map(function(x){return f+i*x});return n(m?h.reverse():h)}return e.domain=function(d){return arguments.length?(t(d),p()):t()},e.range=function(d){return arguments.length?([r,o]=d,r=+r,o=+o,p()):[r,o]},e.rangeRound=function(d){return[r,o]=d,r=+r,o=+o,a=!0,p()},e.bandwidth=function(){return s},e.step=function(){return i},e.round=function(d){return arguments.length?(a=!!d,p()):a},e.padding=function(d){return arguments.length?(l=Math.min(1,c=+d),p()):l},e.paddingInner=function(d){return arguments.length?(l=Math.min(1,d),p()):l},e.paddingOuter=function(d){return arguments.length?(c=+d,p()):c},e.align=function(d){return arguments.length?(u=Math.max(0,Math.min(1,d)),p()):u},e.copy=function(){return cn(t(),[r,o]).round(a).paddingInner(l).paddingOuter(c).align(u)},ir.apply(p(),arguments)}function gs(e){return function(){return e}}function hs(e){return+e}var kf=[0,1];function We(e){return e}function bs(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:gs(isNaN(t)?NaN:.5)}function n0(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function r0(e,t,n){var r=e[0],o=e[1],i=t[0],s=t[1];return o<r?(r=bs(o,r),i=n(s,i)):(r=bs(r,o),i=n(i,s)),function(a){return i(r(a))}}function o0(e,t,n){var r=Math.min(e.length,t.length)-1,o=new Array(r),i=new Array(r),s=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++s<r;)o[s]=bs(e[s],e[s+1]),i[s]=n(t[s],t[s+1]);return function(a){var l=Or(e,a,1,r)-1;return i[l](o[l](a))}}function xs(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function wf(){var e=kf,t=kf,n=lt,r,o,i,s=We,a,l,c;function u(){var d=Math.min(e.length,t.length);return s!==We&&(s=n0(e[0],e[d-1])),a=d>2?o0:r0,l=c=null,p}function p(d){return d==null||isNaN(d=+d)?i:(l||(l=a(e.map(r),t,n)))(r(s(d)))}return p.invert=function(d){return s(o((c||(c=a(t,e.map(r),Ee)))(d)))},p.domain=function(d){return arguments.length?(e=Array.from(d,hs),u()):e.slice()},p.range=function(d){return arguments.length?(t=Array.from(d),u()):t.slice()},p.rangeRound=function(d){return t=Array.from(d),n=Vr,u()},p.clamp=function(d){return arguments.length?(s=d?!0:We,u()):s!==We},p.interpolate=function(d){return arguments.length?(n=d,u()):n},p.unknown=function(d){return arguments.length?(i=d,p):i},function(d,m){return r=d,o=m,u()}}function ys(){return wf()(We,We)}function ks(e,t,n,r){var o=Ba(e,t,n),i;switch(r=sn(r==null?",f":r),r.type){case"s":{var s=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(i=ds(o,s))&&(r.precision=i),xi(r,s)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(i=ms(o,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=i-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(i=ps(o))&&(r.precision=i-(r.type==="%")*2);break}}return bi(r)}function no(e){var t=e.domain;return e.ticks=function(n){var r=t();return er(r[0],r[r.length-1],n==null?10:n)},e.tickFormat=function(n,r){var o=t();return ks(o[0],o[o.length-1],n==null?10:n,r)},e.nice=function(n){n==null&&(n=10);var r=t(),o=0,i=r.length-1,s=r[o],a=r[i],l,c,u=10;for(a<s&&(c=s,s=a,a=c,c=o,o=i,i=c);u-- >0;){if(c=wt(s,a,n),c===l)return r[o]=s,r[i]=a,t(r);if(c>0)s=Math.floor(s/c)*c,a=Math.ceil(a/c)*c;else if(c<0)s=Math.ceil(s*c)/c,a=Math.floor(a*c)/c;else break;l=c}return e},e}function K(){var e=ys();return e.copy=function(){return xs(e,K())},ir.apply(e,arguments),no(e)}function _f(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function i0(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function a0(e){return e<0?-e*e:e*e}function vf(e){var t=e(We,We),n=1;function r(){return n===1?e(We,We):n===.5?e(i0,a0):e(_f(n),_f(1/n))}return t.exponent=function(o){return arguments.length?(n=+o,r()):n},no(t)}var ws=new Date,_s=new Date;function Fe(e,t,n,r){function o(i){return e(i=arguments.length===0?new Date:new Date(+i)),i}return o.floor=i=>(e(i=new Date(+i)),i),o.ceil=i=>(e(i=new Date(i-1)),t(i,1),e(i),i),o.round=i=>{let s=o(i),a=o.ceil(i);return i-s<a-i?s:a},o.offset=(i,s)=>(t(i=new Date(+i),s==null?1:Math.floor(s)),i),o.range=(i,s,a)=>{let l=[];if(i=o.ceil(i),a=a==null?1:Math.floor(a),!(i<s)||!(a>0))return l;let c;do l.push(c=new Date(+i)),t(i,a),e(i);while(c<i&&i<s);return l},o.filter=i=>Fe(s=>{if(s>=s)for(;e(s),!i(s);)s.setTime(s-1)},(s,a)=>{if(s>=s)if(a<0)for(;++a<=0;)for(;t(s,-1),!i(s););else for(;--a>=0;)for(;t(s,1),!i(s););}),n&&(o.count=(i,s)=>(ws.setTime(+i),_s.setTime(+s),e(ws),e(_s),Math.floor(n(ws,_s))),o.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?o.filter(r?s=>r(s)%i===0:s=>o.count(0,s)%i===0):o)),o}var ki=Fe(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*1e3-e.getMinutes()*6e4)},(e,t)=>{e.setTime(+e+t*36e5)},(e,t)=>(t-e)/36e5,e=>e.getHours()),s0=ki.range,Cf=Fe(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*36e5)},(e,t)=>(t-e)/36e5,e=>e.getUTCHours()),c0=Cf.range;var Wt=Fe(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*6e4)/864e5,e=>e.getDate()-1),l0=Wt.range,Sf=Fe(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/864e5,e=>e.getUTCDate()-1),u0=Sf.range,Nf=Fe(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/864e5,e=>Math.floor(e/864e5)),p0=Nf.range;function Rn(e){return Fe(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+n*7)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*6e4)/6048e5)}var ro=Rn(0),wi=Rn(1),Rf=Rn(2),Ef=Rn(3),Af=Rn(4),_i=Rn(5),vi=Rn(6),Df=ro.range,m0=wi.range,f0=Rf.range,g0=Ef.range,h0=Af.range,b0=_i.range,x0=vi.range;function En(e){return Fe(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n*7)},(t,n)=>(n-t)/6048e5)}var Cs=En(0),If=En(1),Mf=En(2),Of=En(3),Ff=En(4),Bf=En(5),$f=En(6),Lf=Cs.range,y0=If.range,k0=Mf.range,w0=Of.range,_0=Ff.range,v0=Bf.range,T0=$f.range;var jt=Fe(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());jt.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Fe(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)});var C0=jt.range,Ss=Fe(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Ss.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Fe(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)});var S0=Ss.range;function Pf(){var e=0,t=1,n,r,o,i,s=We,a=!1,l;function c(p){return p==null||isNaN(p=+p)?l:s(o===0?.5:(p=(i(p)-n)*o,a?Math.max(0,Math.min(1,p)):p))}c.domain=function(p){return arguments.length?([e,t]=p,n=i(e=+e),r=i(t=+t),o=n===r?0:1/(r-n),c):[e,t]},c.clamp=function(p){return arguments.length?(a=!!p,c):a},c.interpolator=function(p){return arguments.length?(s=p,c):s};function u(p){return function(d){var m,f;return arguments.length?([m,f]=d,s=p(m,f),c):[s(0),s(1)]}}return c.range=u(lt),c.rangeRound=u(Vr),c.unknown=function(p){return arguments.length?(l=p,c):l},function(p){return i=p,n=p(e),r=p(t),o=n===r?0:1/(r-n),c}}function qf(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function ue(){var e=no(Pf()(We));return e.copy=function(){return qf(e,ue())},fs.apply(e,arguments)}function Ns(){var e=vf(Pf());return e.copy=function(){return qf(e,Ns()).exponent(e.exponent())},fs.apply(e,arguments)}function Rs(){return Ns.apply(null,arguments).exponent(.5)}function et(e){for(var t=e.length/6|0,n=new Array(t),r=0;r<t;)n[r]="#"+e.slice(r*6,++r*6);return n}var tt=e=>Xa(e[e.length-1]);var Gf=new Array(3).concat("fc8d59ffffbf91cf60","d7191cfdae61a6d96a1a9641","d7191cfdae61ffffbfa6d96a1a9641","d73027fc8d59fee08bd9ef8b91cf601a9850","d73027fc8d59fee08bffffbfd9ef8b91cf601a9850","d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850","d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850","a50026d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850006837","a50026d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850006837").map(et),Ht=tt(Gf);var Ti=new Array(3).concat("deebf79ecae13182bd","eff3ffbdd7e76baed62171b5","eff3ffbdd7e76baed63182bd08519c","eff3ffc6dbef9ecae16baed63182bd08519c","eff3ffc6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b").map(et),Vt=tt(Ti);var oo=new Array(3).concat("e5f5e0a1d99b31a354","edf8e9bae4b374c476238b45","edf8e9bae4b374c47631a354006d2c","edf8e9c7e9c0a1d99b74c47631a354006d2c","edf8e9c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45006d2c00441b").map(et),ar=tt(oo);var Uf=new Array(3).concat("efedf5bcbddc756bb1","f2f0f7cbc9e29e9ac86a51a3","f2f0f7cbc9e29e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a354278f3f007d").map(et),Es=tt(Uf);var Ci=new Array(3).concat("fee0d2fc9272de2d26","fee5d9fcae91fb6a4acb181d","fee5d9fcae91fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181da50f1567000d").map(et),As=tt(Ci);var Si=new Array(3).concat("fee6cefdae6be6550d","feeddefdbe85fd8d3cd94701","feeddefdbe85fd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d94801a636037f2704").map(et),Ds=tt(Si);function Z(e){return function(){return e}}var Is=Math.abs,De=Math.atan2,ln=Math.cos,zf=Math.max,Ni=Math.min,ut=Math.sin,An=Math.sqrt,Pe=1e-12,sr=Math.PI,io=sr/2,cr=2*sr;function Wf(e){return e>1?0:e<-1?sr:Math.acos(e)}function Ms(e){return e>=1?io:e<=-1?-io:Math.asin(e)}function lr(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{let r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);t=r}return e},()=>new Sn(t)}function N0(e){return e.innerRadius}function R0(e){return e.outerRadius}function E0(e){return e.startAngle}function A0(e){return e.endAngle}function D0(e){return e&&e.padAngle}function I0(e,t,n,r,o,i,s,a){var l=n-e,c=r-t,u=s-o,p=a-i,d=p*l-u*c;if(!(d*d<Pe))return d=(u*(t-i)-p*(e-o))/d,[e+d*l,t+d*c]}function Ri(e,t,n,r,o,i,s){var a=e-n,l=t-r,c=(s?i:-i)/An(a*a+l*l),u=c*l,p=-c*a,d=e+u,m=t+p,f=n+u,g=r+p,h=(d+f)/2,x=(m+g)/2,b=f-d,k=g-m,I=b*b+k*k,N=o-i,$=d*g-f*m,T=(k<0?-1:1)*An(zf(0,N*N*I-$*$)),D=($*k-b*T)/I,y=(-$*b-k*T)/I,w=($*k+b*T)/I,M=(-$*b+k*T)/I,j=D-h,O=y-x,V=w-h,Ue=M-x;return j*j+O*O>V*V+Ue*Ue&&(D=w,y=M),{cx:D,cy:y,x01:-u,y01:-p,x11:D*(o/N-1),y11:y*(o/N-1)}}function Os(){var e=N0,t=R0,n=Z(0),r=null,o=E0,i=A0,s=D0,a=null,l=lr(c);function c(){var u,p,d=+e.apply(this,arguments),m=+t.apply(this,arguments),f=o.apply(this,arguments)-io,g=i.apply(this,arguments)-io,h=Is(g-f),x=g>f;if(a||(a=u=l()),m<d&&(p=m,m=d,d=p),!(m>Pe))a.moveTo(0,0);else if(h>cr-Pe)a.moveTo(m*ln(f),m*ut(f)),a.arc(0,0,m,f,g,!x),d>Pe&&(a.moveTo(d*ln(g),d*ut(g)),a.arc(0,0,d,g,f,x));else{var b=f,k=g,I=f,N=g,$=h,T=h,D=s.apply(this,arguments)/2,y=D>Pe&&(r?+r.apply(this,arguments):An(d*d+m*m)),w=Ni(Is(m-d)/2,+n.apply(this,arguments)),M=w,j=w,O,V;if(y>Pe){var Ue=Ms(y/d*ut(D)),Ke=Ms(y/m*ut(D));($-=Ue*2)>Pe?(Ue*=x?1:-1,I+=Ue,N-=Ue):($=0,I=N=(f+g)/2),(T-=Ke*2)>Pe?(Ke*=x?1:-1,b+=Ke,k-=Ke):(T=0,b=k=(f+g)/2)}var Ve=m*ln(b),$e=m*ut(b),_e=d*ln(N),rt=d*ut(N);if(w>Pe){var dt=m*ln(k),dn=m*ut(k),On=d*ln(I),mn=d*ut(I),Ye;if(h<sr)if(Ye=I0(Ve,$e,On,mn,dt,dn,_e,rt)){var fn=Ve-Ye[0],Jt=$e-Ye[1],gn=dt-Ye[0],Fn=dn-Ye[1],z=1/ut(Wf((fn*gn+Jt*Fn)/(An(fn*fn+Jt*Jt)*An(gn*gn+Fn*Fn)))/2),re=An(Ye[0]*Ye[0]+Ye[1]*Ye[1]);M=Ni(w,(d-re)/(z-1)),j=Ni(w,(m-re)/(z+1))}else M=j=0}T>Pe?j>Pe?(O=Ri(On,mn,Ve,$e,m,j,x),V=Ri(dt,dn,_e,rt,m,j,x),a.moveTo(O.cx+O.x01,O.cy+O.y01),j<w?a.arc(O.cx,O.cy,j,De(O.y01,O.x01),De(V.y01,V.x01),!x):(a.arc(O.cx,O.cy,j,De(O.y01,O.x01),De(O.y11,O.x11),!x),a.arc(0,0,m,De(O.cy+O.y11,O.cx+O.x11),De(V.cy+V.y11,V.cx+V.x11),!x),a.arc(V.cx,V.cy,j,De(V.y11,V.x11),De(V.y01,V.x01),!x))):(a.moveTo(Ve,$e),a.arc(0,0,m,b,k,!x)):a.moveTo(Ve,$e),!(d>Pe)||!($>Pe)?a.lineTo(_e,rt):M>Pe?(O=Ri(_e,rt,dt,dn,d,-M,x),V=Ri(Ve,$e,On,mn,d,-M,x),a.lineTo(O.cx+O.x01,O.cy+O.y01),M<w?a.arc(O.cx,O.cy,M,De(O.y01,O.x01),De(V.y01,V.x01),!x):(a.arc(O.cx,O.cy,M,De(O.y01,O.x01),De(O.y11,O.x11),!x),a.arc(0,0,d,De(O.cy+O.y11,O.cx+O.x11),De(V.cy+V.y11,V.cx+V.x11),x),a.arc(V.cx,V.cy,M,De(V.y11,V.x11),De(V.y01,V.x01),!x))):a.arc(0,0,d,N,I,x)}if(a.closePath(),u)return a=null,u+""||null}return c.centroid=function(){var u=(+e.apply(this,arguments)+ +t.apply(this,arguments))/2,p=(+o.apply(this,arguments)+ +i.apply(this,arguments))/2-sr/2;return[ln(p)*u,ut(p)*u]},c.innerRadius=function(u){return arguments.length?(e=typeof u=="function"?u:Z(+u),c):e},c.outerRadius=function(u){return arguments.length?(t=typeof u=="function"?u:Z(+u),c):t},c.cornerRadius=function(u){return arguments.length?(n=typeof u=="function"?u:Z(+u),c):n},c.padRadius=function(u){return arguments.length?(r=u==null?null:typeof u=="function"?u:Z(+u),c):r},c.startAngle=function(u){return arguments.length?(o=typeof u=="function"?u:Z(+u),c):o},c.endAngle=function(u){return arguments.length?(i=typeof u=="function"?u:Z(+u),c):i},c.padAngle=function(u){return arguments.length?(s=typeof u=="function"?u:Z(+u),c):s},c.context=function(u){return arguments.length?(a=u==null?null:u,c):a},c}var _4=Array.prototype.slice;function ur(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function jf(e){this._context=e}jf.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function Ei(e){return new jf(e)}function Ai(e){return e[0]}function Di(e){return e[1]}function Hf(e,t){var n=Z(!0),r=null,o=Ei,i=null,s=lr(a);e=typeof e=="function"?e:e===void 0?Ai:Z(e),t=typeof t=="function"?t:t===void 0?Di:Z(t);function a(l){var c,u=(l=ur(l)).length,p,d=!1,m;for(r==null&&(i=o(m=s())),c=0;c<=u;++c)!(c<u&&n(p=l[c],c,l))===d&&((d=!d)?i.lineStart():i.lineEnd()),d&&i.point(+e(p,c,l),+t(p,c,l));if(m)return i=null,m+""||null}return a.x=function(l){return arguments.length?(e=typeof l=="function"?l:Z(+l),a):e},a.y=function(l){return arguments.length?(t=typeof l=="function"?l:Z(+l),a):t},a.defined=function(l){return arguments.length?(n=typeof l=="function"?l:Z(!!l),a):n},a.curve=function(l){return arguments.length?(o=l,r!=null&&(i=o(r)),a):o},a.context=function(l){return arguments.length?(l==null?r=i=null:i=o(r=l),a):r},a}function Dn(e,t,n){var r=null,o=Z(!0),i=null,s=Ei,a=null,l=lr(c);e=typeof e=="function"?e:e===void 0?Ai:Z(+e),t=typeof t=="function"?t:t===void 0?Z(0):Z(+t),n=typeof n=="function"?n:n===void 0?Di:Z(+n);function c(p){var d,m,f,g=(p=ur(p)).length,h,x=!1,b,k=new Array(g),I=new Array(g);for(i==null&&(a=s(b=l())),d=0;d<=g;++d){if(!(d<g&&o(h=p[d],d,p))===x)if(x=!x)m=d,a.areaStart(),a.lineStart();else{for(a.lineEnd(),a.lineStart(),f=d-1;f>=m;--f)a.point(k[f],I[f]);a.lineEnd(),a.areaEnd()}x&&(k[d]=+e(h,d,p),I[d]=+t(h,d,p),a.point(r?+r(h,d,p):k[d],n?+n(h,d,p):I[d]))}if(b)return a=null,b+""||null}function u(){return Hf().defined(o).curve(s).context(i)}return c.x=function(p){return arguments.length?(e=typeof p=="function"?p:Z(+p),r=null,c):e},c.x0=function(p){return arguments.length?(e=typeof p=="function"?p:Z(+p),c):e},c.x1=function(p){return arguments.length?(r=p==null?null:typeof p=="function"?p:Z(+p),c):r},c.y=function(p){return arguments.length?(t=typeof p=="function"?p:Z(+p),n=null,c):t},c.y0=function(p){return arguments.length?(t=typeof p=="function"?p:Z(+p),c):t},c.y1=function(p){return arguments.length?(n=p==null?null:typeof p=="function"?p:Z(+p),c):n},c.lineX0=c.lineY0=function(){return u().x(e).y(t)},c.lineY1=function(){return u().x(e).y(n)},c.lineX1=function(){return u().x(r).y(t)},c.defined=function(p){return arguments.length?(o=typeof p=="function"?p:Z(!!p),c):o},c.curve=function(p){return arguments.length?(s=p,i!=null&&(a=s(i)),c):s},c.context=function(p){return arguments.length?(p==null?i=a=null:a=s(i=p),c):i},c}function Vf(e,t){return t<e?-1:t>e?1:t>=e?0:NaN}function Yf(e){return e}function Fs(){var e=Yf,t=Vf,n=null,r=Z(0),o=Z(cr),i=Z(0);function s(a){var l,c=(a=ur(a)).length,u,p,d=0,m=new Array(c),f=new Array(c),g=+r.apply(this,arguments),h=Math.min(cr,Math.max(-cr,o.apply(this,arguments)-g)),x,b=Math.min(Math.abs(h)/c,i.apply(this,arguments)),k=b*(h<0?-1:1),I;for(l=0;l<c;++l)(I=f[m[l]=l]=+e(a[l],l,a))>0&&(d+=I);for(t!=null?m.sort(function(N,$){return t(f[N],f[$])}):n!=null&&m.sort(function(N,$){return n(a[N],a[$])}),l=0,p=d?(h-c*k)/d:0;l<c;++l,g=x)u=m[l],I=f[u],x=g+(I>0?I*p:0)+k,f[u]={data:a[u],index:l,value:I,startAngle:g,endAngle:x,padAngle:b};return f}return s.value=function(a){return arguments.length?(e=typeof a=="function"?a:Z(+a),s):e},s.sortValues=function(a){return arguments.length?(t=a,n=null,s):t},s.sort=function(a){return arguments.length?(n=a,t=null,s):n},s.startAngle=function(a){return arguments.length?(r=typeof a=="function"?a:Z(+a),s):r},s.endAngle=function(a){return arguments.length?(o=typeof a=="function"?a:Z(+a),s):o},s.padAngle=function(a){return arguments.length?(i=typeof a=="function"?a:Z(+a),s):i},s}function Jf(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function Xf(e){this._context=e}Xf.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Jf(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Jf(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function In(e){return new Xf(e)}function un(e,t,n){this.k=e,this.x=t,this.y=n}un.prototype={constructor:un,scale:function(e){return e===1?this:new un(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new un(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var Bs=new un(1,0,0);$s.prototype=un.prototype;function $s(e){for(;!e.__zoom;)if(!(e=e.parentNode))return Bs;return e.__zoom}var Yt=(n=>(n[n.Year=1]="Year",n[n.All=2]="All",n))(Yt||{});function Ii(e){return e>365||e===0?2:1}function nt(){return{width:600,height:250,marginLeft:70,marginRight:70,marginTop:20,marginBottom:25}}function qe(e,t){e.select(".no-data").attr("pointer-events",t?"none":"all").transition().duration(600).attr("opacity",t?0:1)}function Ge(e){return new Map(Object.entries(e).map(([t,n])=>[Number(t),n]))}function we(e){return ee(e,t=>t[1])}var M0=e=>({revlogRange:e&16,sourceData:e&4,loading:e&8}),Kf=e=>({revlogRange:e[4],prefs:e[11],sourceData:e[2],loading:e[3]});function O0(e){return{c:U,m:U,p:U,i:U,o:U,d:U}}function F0(e){let t,n=e[9].default,r=Mt(n,e,e[8],Kf);return{c(){r&&r.c()},m(o,i){r&&r.m(o,i),t=!0},p(o,i){r&&r.p&&(!t||i&284)&&Ft(r,n,o,o[8],t?Ot(n,o[8],i,M0):Bt(o[8]),Kf)},i(o){t||(S(r,o),t=!0)},o(o){A(r,o),t=!1},d(o){r&&r.d(o)}}}function B0(e){return{c:U,m:U,p:U,i:U,o:U,d:U}}function $0(e){let t,n,r,o={ctx:e,current:null,token:null,hasCatch:!1,pending:B0,then:F0,catch:O0,value:11,blocks:[,,,]};return ed(n=e[5],o),{c(){t=xe(),o.block.c()},m(i,s){C(i,t,s),o.block.m(i,o.anchor=s),o.mount=()=>t.parentNode,o.anchor=t,r=!0},p(i,[s]){e=i,td(o,e,s)},i(i){r||(S(o.block),r=!0)},o(i){for(let s=0;s<3;s+=1){let a=o.blocks[s];A(a)}r=!1},d(i){i&&v(t),o.block.d(i),o.token=null,o=null}}}function L0(e,t,n){let r,o,i=U,s=()=>(i(),i=ae(m,b=>n(6,o=b)),m),a,l=U,c=()=>(l(),l=ae(d,b=>n(7,a=b)),d);e.$$.on_destroy.push(()=>i()),e.$$.on_destroy.push(()=>l());let{$$slots:u={},$$scope:p}=t,{search:d}=t;c();let{days:m}=t;s();let f=sd(()=>Lp({}),Pp),g=null,h=!0;async function x(b,k){await f,n(3,h=!0);try{n(2,g=await $p({search:b,days:k}))}finally{n(3,h=!1)}}return e.$$set=b=>{"search"in b&&c(n(0,d=b.search)),"days"in b&&s(n(1,m=b.days)),"$$scope"in b&&n(8,p=b.$$scope)},e.$$.update=()=>{e.$$.dirty&192&&x(a,o),e.$$.dirty&64&&n(4,r=Ii(o))},[d,m,g,h,r,f,o,a,p,u]}var Ls=class extends W{constructor(t){super(),Y(this,t,L0,$0,H,{search:0,days:1})}},Zf=Ls;function Qf(e,t,n){let r=e.slice();return r[13]=t[n],r}function eg(e){let t,n,r;var o=e[1];function i(s,a){return{props:{search:s[3],days:s[4],loading:s[10]}}}return o&&(t=Er(o,i(e))),{c(){t&&G(t.$$.fragment),n=xe()},m(s,a){t&&P(t,s,a),C(s,n,a),r=!0},p(s,a){if(a&2&&o!==(o=s[1])){if(t){Ce();let l=t;A(l.$$.fragment,1,0,()=>{q(l,1)}),Se()}o?(t=Er(o,i(s,a)),G(t.$$.fragment),S(t.$$.fragment,1),P(t,n.parentNode,n)):t=null}else if(o){let l={};a&1024&&(l.loading=s[10]),t.$set(l)}},i(s){r||(t&&S(t.$$.fragment,s),r=!0)},o(s){t&&A(t.$$.fragment,s),r=!1},d(s){s&&v(n),t&&q(t,s)}}}function tg(e){let t,n,r=Oe(e[0]),o=[];for(let s=0;s<r.length;s+=1)o[s]=ng(Qf(e,r,s));let i=s=>A(o[s],1,1,()=>{o[s]=null});return{c(){for(let s=0;s<o.length;s+=1)o[s].c();t=xe()},m(s,a){for(let l=0;l<o.length;l+=1)o[l]&&o[l].m(s,a);C(s,t,a),n=!0},p(s,a){if(a&6693){r=Oe(s[0]);let l;for(l=0;l<r.length;l+=1){let c=Qf(s,r,l);o[l]?(o[l].p(c,a),S(o[l],1)):(o[l]=ng(c),o[l].c(),S(o[l],1),o[l].m(t.parentNode,t))}for(Ce(),l=r.length;l<o.length;l+=1)i(l);Se()}},i(s){if(!n){for(let a=0;a<r.length;a+=1)S(o[a]);n=!0}},o(s){o=o.filter(Boolean);for(let a=0;a<o.length;a+=1)A(o[a]);n=!1},d(s){s&&v(t),ht(o,s)}}}function ng(e){let t,n,r;var o=e[13];function i(s,a){return{props:{sourceData:s[9],prefs:s[11],revlogRange:s[12],nightMode:s[2].isDark}}}return o&&(t=Er(o,i(e)),t.$on("search",e[5])),{c(){t&&G(t.$$.fragment),n=xe()},m(s,a){t&&P(t,s,a),C(s,n,a),r=!0},p(s,a){if(a&1&&o!==(o=s[13])){if(t){Ce();let l=t;A(l.$$.fragment,1,0,()=>{q(l,1)}),Se()}o?(t=Er(o,i(s,a)),t.$on("search",s[5]),G(t.$$.fragment),S(t.$$.fragment,1),P(t,n.parentNode,n)):t=null}else if(o){let l={};a&512&&(l.sourceData=s[9]),a&2048&&(l.prefs=s[11]),a&4096&&(l.revlogRange=s[12]),a&4&&(l.nightMode=s[2].isDark),t.$set(l)}},i(s){r||(t&&S(t.$$.fragment,s),r=!0)},o(s){t&&A(t.$$.fragment,s),r=!1},d(s){s&&v(n),t&&q(t,s)}}}function P0(e){let t,n,r,o,i,s=e[1]&&eg(e),a=e[9]&&e[12]&&tg(e);return{c(){s&&s.c(),t=L(),n=B("div"),a&&a.c(),r=L(),o=B("div"),R(n,"class","graphs-container svelte-8sakpy"),R(o,"class","spacer svelte-8sakpy")},m(l,c){s&&s.m(l,c),C(l,t,c),C(l,n,c),a&&a.m(n,null),C(l,r,c),C(l,o,c),i=!0},p(l,c){l[1]?s?(s.p(l,c),c&2&&S(s,1)):(s=eg(l),s.c(),S(s,1),s.m(t.parentNode,t)):s&&(Ce(),A(s,1,1,()=>{s=null}),Se()),l[9]&&l[12]?a?(a.p(l,c),c&4608&&S(a,1)):(a=tg(l),a.c(),S(a,1),a.m(n,null)):a&&(Ce(),A(a,1,1,()=>{a=null}),Se())},i(l){i||(S(s),S(a),i=!0)},o(l){A(s),A(a),i=!1},d(l){l&&(v(t),v(n),v(r),v(o)),s&&s.d(l),a&&a.d()}}}function q0(e){let t,n;return t=new Zf({props:{search:e[3],days:e[4],$$slots:{default:[P0,({sourceData:r,loading:o,prefs:i,revlogRange:s})=>({9:r,10:o,11:i,12:s}),({sourceData:r,loading:o,prefs:i,revlogRange:s})=>(r?512:0)|(o?1024:0)|(i?2048:0)|(s?4096:0)]},$$scope:{ctx:e}}}),{c(){G(t.$$.fragment)},m(r,o){P(t,r,o),n=!0},p(r,[o]){let i={};o&73223&&(i.$$scope={dirty:o,ctx:r}),t.$set(i)},i(r){n||(S(t.$$.fragment,r),n=!0)},o(r){A(t.$$.fragment,r),n=!1},d(r){q(t,r)}}}function G0(e,t,n){let r,o;Rr(e,Zn,d=>n(2,o=d));let{initialSearch:i}=t,{initialDays:s}=t,a=Kn(i);Rr(e,a,d=>n(8,r=d));let l=Kn(s),{graphs:c}=t,{controller:u}=t;function p(d){Da(`browserSearch: ${r} ${d.detail.query}`)}return e.$$set=d=>{"initialSearch"in d&&n(6,i=d.initialSearch),"initialDays"in d&&n(7,s=d.initialDays),"graphs"in d&&n(0,c=d.graphs),"controller"in d&&n(1,u=d.controller)},[c,u,o,a,l,p,i,s]}var Ps=class extends W{constructor(t){super(),Y(this,t,G0,q0,H,{initialSearch:6,initialDays:7,graphs:0,controller:1})}},rg=Ps;var og=1,qs=60*og,Gs=60*qs,Us=24*Gs,Tt=30*Us,Mi=12*Tt;function U0(e){switch(e){case 0:return"seconds";case 1:return"minutes";case 2:return"hours";case 3:return"days";case 4:return"months";case 5:return"years"}}function ig(e){return e=Math.abs(e),e<qs?0:e<Gs?1:e<Us?2:e<Tt?3:e<Mi?4:5}function z0(e){switch(e){case 0:return og;case 1:return qs;case 2:return Gs;case 3:return Us;case 4:return Tt;case 5:return Mi}}function ag(e,t){return t/z0(e)}function sg(e,t){let n=ig(t),r=ag(n,t),o=U0(n),i=0;return e>0&&(i=t/e),au({unit:o,secsPerCard:i,cards:e,amount:r})}function W0(e,t){if(t)switch(e){case 0:return Al;case 1:return Rl;case 2:return Nl;case 3:return Sl;case 4:return El;case 5:return Dl}else switch(e){case 0:return Lc;case 1:return Bc;case 2:return Fc;case 3:return Oc;case 4:return $c;case 5:return Pc}}function je(e,t=!1,n=!0){let r=ig(e),o=ag(r,e);return!n&&r<4&&(o=Math.round(o)),W0(r,t)({amount:o})}function pr(e,t){let n=Math.max(Math.abs(e),Math.abs(t)),r=Math.min(Math.abs(e),Math.abs(t));return n-r<=1?e>=0?Gl({days:e}):vl({days:-e}):e>=0?ql({daysStart:e,daysEnd:t-1}):_l({daysStart:Math.abs(t-1),daysEnd:-e})}function cg(e){return{daysAdded:Ge(e.added.added)}}function j0(e,t){let n=`"added:${e}"`;if(e===1)return n;let r=`-"added:${t}"`;return`${n} AND ${r}`}function lg(e,t,n,r){if(!e.daysAdded.size)return[null,[]];let i;switch(t){case 0:i=-31;break;case 1:i=-90;break;case 2:i=-365;break;case 3:i=Lt(e.daysAdded.keys());break}let s=1,a=Math.min(70,Math.abs(i)),l=K().domain([i,s]),c=Ne().value(k=>k[0]).domain(l.domain()).thresholds(l.ticks(a))(e.daysAdded.entries()),u=we;if(!ee(c,u))return[null,[]];let p=K().range([.7,.3]),d=ue(k=>Vt(p(k))).domain([s,i]),m=ee(c,u),f=Math.abs(i),g=Math.round(m/f),h=[{label:Un(),value:lo({cards:m})},{label:co(),value:fl({count:g})}];function x(k,I,N){let $=pr(k.x0,k.x1),T=lo({cards:u(k)}),D=Kt(),y=lo({cards:I});return`${$}:<br>${T}<br>${D}: ${y}`}function b(k){let I=Math.abs(k.x0)+1,N=Math.abs(k.x1)+1,$=j0(I,N);n("search",{query:$})}return[{scale:l,bins:c,total:m,hoverText:x,onClick:r?b:null,colourScale:d,binValue:we,showArea:!0},h]}var H0=e=>({}),ug=e=>({});function V0(e){let t,n,r,o,i,s,a,l,c,u=e[6].tooltip,p=Mt(u,e,e[5],ug),d=e[6].default,m=Mt(d,e,e[5],null);return{c(){t=B("div"),n=B("div"),r=B("h1"),o=J(e[2]),i=L(),s=B("div"),p&&p.c(),a=L(),m&&m.c(),R(r,"class","svelte-xonbnp"),R(s,"class","help-badge position-absolute svelte-xonbnp"),it(s,"rtl",e[4]),R(n,"class","position-relative"),R(t,"id",e[0]),R(t,"class",l="container "+e[1]+" svelte-xonbnp"),it(t,"light",!e[3].isDark),it(t,"dark",e[3].isDark),it(t,"rtl",e[4]),Me(t,"--gutter-block","2px"),Me(t,"--container-margin","0")},m(f,g){C(f,t,g),_(t,n),_(n,r),_(r,o),_(n,i),_(n,s),p&&p.m(s,null),_(t,a),m&&m.m(t,null),c=!0},p(f,[g]){(!c||g&4)&&Re(o,f[2]),p&&p.p&&(!c||g&32)&&Ft(p,u,f,f[5],c?Ot(u,f[5],g,H0):Bt(f[5]),ug),m&&m.p&&(!c||g&32)&&Ft(m,d,f,f[5],c?Ot(d,f[5],g,null):Bt(f[5]),null),(!c||g&1)&&R(t,"id",f[0]),(!c||g&2&&l!==(l="container "+f[1]+" svelte-xonbnp"))&&R(t,"class",l),(!c||g&10)&&it(t,"light",!f[3].isDark),(!c||g&10)&&it(t,"dark",f[3].isDark),(!c||g&18)&&it(t,"rtl",f[4])},i(f){c||(S(p,f),S(m,f),c=!0)},o(f){A(p,f),A(m,f),c=!1},d(f){f&&v(t),p&&p.d(f),m&&m.d(f)}}}function Y0(e,t,n){let r;Rr(e,Zn,u=>n(3,r=u));let{$$slots:o={},$$scope:i}=t,s=window.getComputedStyle(document.body).direction=="rtl",{id:a=void 0}=t,{class:l=""}=t,{title:c}=t;return e.$$set=u=>{"id"in u&&n(0,a=u.id),"class"in u&&n(1,l=u.class),"title"in u&&n(2,c=u.title),"$$scope"in u&&n(5,i=u.$$scope)},[a,l,c,r,s,i,o]}var zs=class extends W{constructor(t){super(),Y(this,t,Y0,V0,H,{id:0,class:1,title:2})}},pg=zs;function dg(e){let t,n;return{c(){t=B("div"),n=J(e[1]),R(t,"class","subtitle svelte-1fe3uqe")},m(r,o){C(r,t,o),_(t,n)},p(r,o){o&2&&Re(n,r[1])},d(r){r&&v(t)}}}function J0(e){let t,n,r,o=e[1]&&dg(e),i=e[2].default,s=Mt(i,e,e[3],null);return{c(){t=B("div"),o&&o.c(),n=L(),s&&s.c(),R(t,"class","graph d-flex flex-grow-1 flex-column justify-content-center svelte-1fe3uqe")},m(a,l){C(a,t,l),o&&o.m(t,null),_(t,n),s&&s.m(t,null),r=!0},p(a,l){a[1]?o?o.p(a,l):(o=dg(a),o.c(),o.m(t,n)):o&&(o.d(1),o=null),s&&s.p&&(!r||l&8)&&Ft(s,i,a,a[3],r?Ot(i,a[3],l,null):Bt(a[3]),null)},i(a){r||(S(s,a),r=!0)},o(a){A(s,a),r=!1},d(a){a&&v(t),o&&o.d(),s&&s.d(a)}}}function X0(e){let t,n;return t=new pg({props:{class:"d-flex flex-column",title:e[0],$$slots:{default:[J0]},$$scope:{ctx:e}}}),{c(){G(t.$$.fragment)},m(r,o){P(t,r,o),n=!0},p(r,[o]){let i={};o&1&&(i.title=r[0]),o&10&&(i.$$scope={dirty:o,ctx:r}),t.$set(i)},i(r){n||(S(t.$$.fragment,r),n=!0)},o(r){A(t.$$.fragment,r),n=!1},d(r){q(t,r)}}}function K0(e,t,n){let{$$slots:r={},$$scope:o}=t,{title:i}=t,{subtitle:s=null}=t;return e.$$set=a=>{"title"in a&&n(0,i=a.title),"subtitle"in a&&n(1,s=a.subtitle),"$$scope"in a&&n(3,o=a.$$scope)},[i,s,r,o]}var Ws=class extends W{constructor(t){super(),Y(this,t,K0,X0,H,{title:0,subtitle:1})}},le=Ws;function mg(e){let t,n,r,o,i,s,a,l;return s=bt(e[8][0]),{c(){t=B("label"),n=B("input"),o=L(),i=J(e[5]),R(n,"type","radio"),n.__value=r=3,ge(n,n.__value),s.p(n)},m(c,u){C(c,t,u),_(t,n),n.checked=n.__value===e[0],_(t,o),_(t,i),a||(l=Q(n,"change",e[11]),a=!0)},p(c,u){u&1&&(n.checked=n.__value===c[0])},d(c){c&&v(t),s.r(),a=!1,l()}}}function Z0(e){let t,n,r,o,i,s,a,l,c,u,p,d,m,f,g,h,x,b,k,I,N,$,T=e[1]===2&&mg(e);return I=bt(e[8][0]),{c(){t=B("label"),n=B("input"),o=L(),i=J(e[2]),s=L(),a=B("label"),l=B("input"),u=L(),p=J(e[3]),d=L(),m=B("label"),f=B("input"),h=L(),x=J(e[4]),b=L(),T&&T.c(),k=xe(),R(n,"type","radio"),n.__value=r=0,ge(n,n.__value),R(l,"type","radio"),l.__value=c=1,ge(l,l.__value),R(f,"type","radio"),f.__value=g=2,ge(f,f.__value),I.p(n,l,f)},m(D,y){C(D,t,y),_(t,n),n.checked=n.__value===e[0],_(t,o),_(t,i),C(D,s,y),C(D,a,y),_(a,l),l.checked=l.__value===e[0],_(a,u),_(a,p),C(D,d,y),C(D,m,y),_(m,f),f.checked=f.__value===e[0],_(m,h),_(m,x),C(D,b,y),T&&T.m(D,y),C(D,k,y),N||($=[Q(n,"change",e[7]),Q(l,"change",e[9]),Q(f,"change",e[10])],N=!0)},p(D,[y]){y&1&&(n.checked=n.__value===D[0]),y&1&&(l.checked=l.__value===D[0]),y&1&&(f.checked=f.__value===D[0]),D[1]===2?T?T.p(D,y):(T=mg(D),T.c(),T.m(k.parentNode,k)):T&&(T.d(1),T=null)},i:U,o:U,d(D){D&&(v(t),v(s),v(a),v(d),v(m),v(b),v(k)),T&&T.d(D),I.r(),N=!1,fe($)}}}function Q0(e,t,n){let{revlogRange:r}=t,{graphRange:o}=t,{followRevlog:i=!1}=t;function s(h){h===2?n(0,o=3):o===3&&n(0,o=2)}let a=je(1*Tt),l=je(3*Tt),c=je(1*Mi),u=Gn(),p=[[]];function d(){o=this.__value,n(0,o)}function m(){o=this.__value,n(0,o)}function f(){o=this.__value,n(0,o)}function g(){o=this.__value,n(0,o)}return e.$$set=h=>{"revlogRange"in h&&n(1,r=h.revlogRange),"graphRange"in h&&n(0,o=h.graphRange),"followRevlog"in h&&n(6,i=h.followRevlog)},e.$$.update=()=>{e.$$.dirty&66&&i&&s(r)},[o,r,a,l,c,u,i,d,p,m,f,g]}var js=class extends W{constructor(t){super(),Y(this,t,Q0,Z0,H,{revlogRange:1,graphRange:0,followRevlog:6})}},St=js;function ew(e){let t,n,r,o,i,s,a,l;return{c(){t=ne("g"),r=L(),o=ne("g"),s=L(),a=ne("g"),R(t,"class","x-ticks svelte-1mgreab"),R(t,"transform",n=`translate(0, ${e[0].height-e[0].marginBottom})`),R(o,"class","y-ticks svelte-1mgreab"),R(o,"transform",i=`translate(${e[0].marginLeft}, 0)`),R(a,"class","y2-ticks svelte-1mgreab"),R(a,"transform",l=`translate(${e[0].width-e[0].marginRight}, 0)`)},m(c,u){C(c,t,u),C(c,r,u),C(c,o,u),C(c,s,u),C(c,a,u)},p(c,[u]){u&1&&n!==(n=`translate(0, ${c[0].height-c[0].marginBottom})`)&&R(t,"transform",n),u&1&&i!==(i=`translate(${c[0].marginLeft}, 0)`)&&R(o,"transform",i),u&1&&l!==(l=`translate(${c[0].width-c[0].marginRight}, 0)`)&&R(a,"transform",l)},i:U,o:U,d(c){c&&(v(t),v(r),v(o),v(s),v(a))}}}function tw(e,t,n){let{bounds:r}=t;return e.$$set=o=>{"bounds"in o&&n(0,r=o.bounds)},[r]}var Hs=class extends W{constructor(t){super(),Y(this,t,tw,ew,H,{bounds:0})}},Nt=Hs;function nw(e){let t;return{c(){t=ne("path"),R(t,"class","cumulative-overlay svelte-5v0l18")},m(n,r){C(n,t,r)},p:U,i:U,o:U,d(n){n&&v(t)}}}var Vs=class extends W{constructor(t){super(),Y(this,t,null,nw,H,{})}},dr=Vs;var fg="tick-odd",Oi="graph-element-clickable";var rw=typeof global=="object"&&global&&global.Object===Object&&global,gg=rw;var ow=typeof self=="object"&&self&&self.Object===Object&&self,iw=gg||ow||Function("return this")(),Fi=iw;var aw=Fi.Symbol,mr=aw;var hg=Object.prototype,sw=hg.hasOwnProperty,cw=hg.toString,ao=mr?mr.toStringTag:void 0;function lw(e){var t=sw.call(e,ao),n=e[ao];try{e[ao]=void 0;var r=!0}catch{}var o=cw.call(e);return r&&(t?e[ao]=n:delete e[ao]),o}var bg=lw;var uw=Object.prototype,pw=uw.toString;function dw(e){return pw.call(e)}var xg=dw;var mw="[object Null]",fw="[object Undefined]",yg=mr?mr.toStringTag:void 0;function gw(e){return e==null?e===void 0?fw:mw:yg&&yg in Object(e)?bg(e):xg(e)}var kg=gw;function hw(e){return e!=null&&typeof e=="object"}var wg=hw;var bw="[object Symbol]";function xw(e){return typeof e=="symbol"||wg(e)&&kg(e)==bw}var _g=xw;var yw=/\s/;function kw(e){for(var t=e.length;t--&&yw.test(e.charAt(t)););return t}var vg=kw;var ww=/^\s+/;function _w(e){return e&&e.slice(0,vg(e)+1).replace(ww,"")}var Tg=_w;function vw(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var Mn=vw;var Cg=0/0,Tw=/^[-+]0x[0-9a-f]+$/i,Cw=/^0b[01]+$/i,Sw=/^0o[0-7]+$/i,Nw=parseInt;function Rw(e){if(typeof e=="number")return e;if(_g(e))return Cg;if(Mn(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=Mn(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=Tg(e);var n=Cw.test(e);return n||Sw.test(e)?Nw(e.slice(2),n?2:8):Tw.test(e)?Cg:+e}var Ys=Rw;var Ew=function(){return Fi.Date.now()},Bi=Ew;var Aw="Expected a function",Dw=Math.max,Iw=Math.min;function Mw(e,t,n){var r,o,i,s,a,l,c=0,u=!1,p=!1,d=!0;if(typeof e!="function")throw new TypeError(Aw);t=Ys(t)||0,Mn(n)&&(u=!!n.leading,p="maxWait"in n,i=p?Dw(Ys(n.maxWait)||0,t):i,d="trailing"in n?!!n.trailing:d);function m($){var T=r,D=o;return r=o=void 0,c=$,s=e.apply(D,T),s}function f($){return c=$,a=setTimeout(x,t),u?m($):s}function g($){var T=$-l,D=$-c,y=t-T;return p?Iw(y,i-D):y}function h($){var T=$-l,D=$-c;return l===void 0||T>=t||T<0||p&&D>=i}function x(){var $=Bi();if(h($))return b($);a=setTimeout(x,g($))}function b($){return a=void 0,d&&r?m($):(r=o=void 0,s)}function k(){a!==void 0&&clearTimeout(a),c=0,r=l=o=a=void 0}function I(){return a===void 0?s:b(Bi())}function N(){var $=Bi(),T=h($);if(r=arguments,o=this,l=$,T){if(a===void 0)return f(l);if(p)return clearTimeout(a),a=setTimeout(x,t),m(l)}return a===void 0&&(a=setTimeout(x,t)),s}return N.cancel=k,N.flush=I,N}var Sg=Mw;var Ow="Expected a function";function Fw(e,t,n){var r=!0,o=!0;if(typeof e!="function")throw new TypeError(Ow);return Mn(n)&&(r="leading"in n?!!n.leading:r,o="trailing"in n?!!n.trailing:o),Sg(e,t,{leading:r,maxWait:t,trailing:o})}var Js=Fw;function Bw(e){let t;return{c(){t=B("div"),R(t,"class","tooltip svelte-1tjbkbu"),Me(t,"left",e[3]+"px"),Me(t,"top",e[4]+"px"),Me(t,"opacity",e[1]?1:0)},m(n,r){C(n,t,r),t.innerHTML=e[0],e[8](t)},p(n,[r]){r&1&&(t.innerHTML=n[0]),r&8&&Me(t,"left",n[3]+"px"),r&16&&Me(t,"top",n[4]+"px"),r&2&&Me(t,"opacity",n[1]?1:0)},i:U,o:U,d(n){n&&v(t),e[8](null)}}}function $w(e,t,n){let{html:r=""}=t,{x:o=0}=t,{y:i=0}=t,{show:s=!0}=t,a=null,l,c,u=0;async function p(m){await Ra(),n(7,u=a?Math.round(a.clientWidth*1.2*(m/document.body.clientWidth)):0)}function d(m){pe[m?"unshift":"push"](()=>{a=m,n(2,a)})}return e.$$set=m=>{"html"in m&&n(0,r=m.html),"x"in m&&n(5,o=m.x),"y"in m&&n(6,i=m.y),"show"in m&&n(1,s=m.show)},e.$$.update=()=>{e.$$.dirty&32&&p(o),e.$$.dirty&224&&(n(3,l=o+40-u),n(4,c=i+40))},[r,s,a,l,c,o,i,u,d]}var Xs=class extends W{constructor(t){super(),Y(this,t,$w,Bw,H,{html:0,x:5,y:6,show:1})}},Ng=Xs;var $i=null;function Rg(){if($i)return $i;let e=document.createElement("div");return $i=new Ng({target:e}),document.body.appendChild(e),$i}function Lw(e,t,n){Rg().$set({html:e,x:t,y:n,show:!0})}var pt=Js(Lw,16);function Rt(){let e=Rg();pt.cancel(),e.$set({show:!1})}function Eg(e,t,n){var x;let r=Xe(e),o=r.transition().duration(600),i=b=>te(b);if(n)qe(r,!0);else{qe(r,!1);return}let s=(x=n.binValue)!=null?x:b=>b.length,a=n.scale.range([t.marginLeft,t.width-t.marginRight]);r.select(".x-ticks").call(b=>{var k;return b.transition(o).call(Pt(a).ticks(7).tickSizeOuter(0).tickFormat((k=n.xTickFormat)!=null?k:i))}).attr("direction","ltr");let l=$t(n.bins,b=>s(b)),c=K().range([t.height-t.marginBottom,t.marginTop]).domain([0,l]).nice();r.select(".y-ticks").call(b=>b.transition(o).call(qt(c).ticks(t.height/50).tickSizeOuter(0).tickFormat(i))).attr("direction","ltr");function u(b){let k=Math.max(0,a(b.x1)-a(b.x0)-1);return k!=null?k:0}let p=b=>b.attr("width",u).transition(o).attr("x",k=>a(k.x0)).attr("y",k=>c(s(k))).attr("height",k=>c(0)-c(s(k))).attr("fill",k=>n.colourScale(k.x1));r.select("g.bars").selectAll("rect").data(n.bins).join(b=>b.append("rect").attr("rx",1).attr("x",k=>a(k.x0)).attr("y",c(0)).attr("height",0).call(p),b=>b.call(p),b=>b.call(k=>k.transition(o).attr("height",0).attr("y",c(0))));let d=n.bins.map(b=>s(b));d.unshift(0);let m=rn(d),f=c.copy().domain([0,n.total]).nice();n.showArea&&n.bins.length&&m.slice(-1)[0]&&(r.select(".y2-ticks").call(b=>b.transition(o).call(yn(f).ticks(t.height/50).tickSizeOuter(0).tickFormat(i))).attr("direction","ltr"),r.select("path.cumulative-overlay").datum(m).attr("d",Dn().curve(In).x((b,k)=>a(k===0?n.bins[0].x0:n.bins[k-1].x1)).y0(t.height-t.marginBottom).y1(b=>f(b))));let g=n.bins.map((b,k)=>[b,m[k+1]]),h=r.select("g.hover-columns").selectAll("rect").data(g).join("rect").attr("x",([b])=>a(b.x0)).attr("y",()=>c(l)).attr("width",([b])=>u(b)).attr("height",()=>c(0)-c(l)).on("mousemove",(b,[k,I])=>{let[N,$]=at(b,document.body),T=n.showArea?I/n.total*100:0;pt(n.hoverText(k,I,T),N,$)}).on("mouseout",Rt);n.onClick&&h.filter(([b])=>b.length>0).attr("class",Oi).on("click",(b,[k])=>n.onClick(k))}function Pw(e){let t;return{c(){t=ne("g"),R(t,"class","hover-columns svelte-19dq0p")},m(n,r){C(n,t,r)},p:U,i:U,o:U,d(n){n&&v(t)}}}var Ks=class extends W{constructor(t){super(),Y(this,t,null,Pw,H,{})}},pn=Ks;function qw(e){let t,n,r,o,i,s,a,l;return{c(){t=ne("g"),n=ne("rect"),i=ne("text"),s=J(e[1]),R(n,"x","0"),R(n,"y","0"),R(n,"width",r=e[0].width),R(n,"height",o=e[0].height),R(n,"class","svelte-mv4l6h"),R(i,"x",a=e[0].width/2+","),R(i,"y",l=e[0].height/2),R(i,"class","svelte-mv4l6h"),R(t,"class","no-data svelte-mv4l6h")},m(c,u){C(c,t,u),_(t,n),_(t,i),_(i,s)},p(c,[u]){u&1&&r!==(r=c[0].width)&&R(n,"width",r),u&1&&o!==(o=c[0].height)&&R(n,"height",o),u&1&&a!==(a=c[0].width/2+",")&&R(i,"x",a),u&1&&l!==(l=c[0].height/2)&&R(i,"y",l)},i:U,o:U,d(c){c&&v(t)}}}function Gw(e,t,n){let{bounds:r}=t,o=Hl();return e.$$set=i=>{"bounds"in i&&n(0,r=i.bounds)},[r,o]}var Zs=class extends W{constructor(t){super(),Y(this,t,Gw,qw,H,{bounds:0})}},Et=Zs;function Uw(e){let t,n,r,o,i,s,a,l;return r=new pn({}),o=new dr({}),i=new Nt({props:{bounds:e[1]}}),s=new Et({props:{bounds:e[1]}}),{c(){t=ne("svg"),n=ne("g"),G(r.$$.fragment),G(o.$$.fragment),G(i.$$.fragment),G(s.$$.fragment),R(n,"class","bars"),R(t,"viewBox",a=`0 0 ${e[1].width} ${e[1].height}`)},m(c,u){C(c,t,u),_(t,n),P(r,t,null),P(o,t,null),P(i,t,null),P(s,t,null),e[3](t),l=!0},p:U,i(c){l||(S(r.$$.fragment,c),S(o.$$.fragment,c),S(i.$$.fragment,c),S(s.$$.fragment,c),l=!0)},o(c){A(r.$$.fragment,c),A(o.$$.fragment,c),A(i.$$.fragment,c),A(s.$$.fragment,c),l=!1},d(c){c&&v(t),q(r),q(o),q(i),q(s),e[3](null)}}}function zw(e,t,n){let{data:r=null}=t,o=nt(),i=null;function s(a){pe[a?"unshift":"push"](()=>{i=a,n(0,i)})}return e.$$set=a=>{"data"in a&&n(2,r=a.data)},e.$$.update=()=>{e.$$.dirty&5&&Eg(i,o,r)},[i,o,r,s]}var Qs=class extends W{constructor(t){super(),Y(this,t,zw,Uw,H,{data:2})}},He=Qs;function Ww(e){let t,n,r=e[1].default,o=Mt(r,e,e[0],null);return{c(){t=B("div"),o&&o.c(),R(t,"class","svelte-7eoes0")},m(i,s){C(i,t,s),o&&o.m(t,null),n=!0},p(i,[s]){o&&o.p&&(!n||s&1)&&Ft(o,r,i,i[0],n?Ot(r,i[0],s,null):Bt(i[0]),null)},i(i){n||(S(o,i),n=!0)},o(i){A(o,i),n=!1},d(i){i&&v(t),o&&o.d(i)}}}function jw(e,t,n){let{$$slots:r={},$$scope:o}=t;return e.$$set=i=>{"$$scope"in i&&n(0,o=i.$$scope)},[o,r]}var ec=class extends W{constructor(t){super(),Y(this,t,jw,Ww,H,{})}},be=ec;function Ag(e,t,n){let r=e.slice();return r[1]=t[n].label,r[2]=t[n].value,r}function Dg(e){let t,n,r=e[1]+"",o,i,s,a,l=e[2]+"",c,u;return{c(){t=B("tr"),n=B("td"),o=J(r),i=J(":"),s=L(),a=B("td"),c=J(l),u=L(),R(n,"class","align-end svelte-1blhjzb"),R(a,"class","align-start svelte-1blhjzb")},m(p,d){C(p,t,d),_(t,n),_(n,o),_(n,i),_(t,s),_(t,a),_(a,c),_(t,u)},p(p,d){d&1&&r!==(r=p[1]+"")&&Re(o,r),d&1&&l!==(l=p[2]+"")&&Re(c,l)},d(p){p&&v(t)}}}function Hw(e){let t,n,r,o=Oe(e[0]),i=[];for(let s=0;s<o.length;s+=1)i[s]=Dg(Ag(e,o,s));return{c(){t=B("div"),n=B("table");for(let s=0;s<i.length;s+=1)i[s].c();R(n,"dir",r=xa()),R(t,"class","svelte-1blhjzb")},m(s,a){C(s,t,a),_(t,n);for(let l=0;l<i.length;l+=1)i[l]&&i[l].m(n,null)},p(s,[a]){if(a&1){o=Oe(s[0]);let l;for(l=0;l<o.length;l+=1){let c=Ag(s,o,l);i[l]?i[l].p(c,a):(i[l]=Dg(c),i[l].c(),i[l].m(n,null))}for(;l<i.length;l+=1)i[l].d(1);i.length=o.length}},i:U,o:U,d(s){s&&v(t),ht(i,s)}}}function Vw(e,t,n){let{tableData:r}=t;return e.$$set=o=>{"tableData"in o&&n(0,r=o.tableData)},[r]}var tc=class extends W{constructor(t){super(),Y(this,t,Vw,Hw,H,{tableData:0})}},Be=tc;function Yw(e){let t,n,r;function o(s){e[9](s)}let i={revlogRange:2};return e[1]!==void 0&&(i.graphRange=e[1]),t=new St({props:i}),pe.push(()=>yt(t,"graphRange",o)),{c(){G(t.$$.fragment)},m(s,a){P(t,s,a),r=!0},p(s,a){let l={};!n&&a&2&&(n=!0,l.graphRange=s[1],xt(()=>n=!1)),t.$set(l)},i(s){r||(S(t.$$.fragment,s),r=!0)},o(s){A(t.$$.fragment,s),r=!1},d(s){q(t,s)}}}function Jw(e){let t,n,r,o,i,s;return t=new be({props:{$$slots:{default:[Yw]},$$scope:{ctx:e}}}),r=new He({props:{data:e[2]}}),i=new Be({props:{tableData:e[3]}}),{c(){G(t.$$.fragment),n=L(),G(r.$$.fragment),o=L(),G(i.$$.fragment)},m(a,l){P(t,a,l),C(a,n,l),P(r,a,l),C(a,o,l),P(i,a,l),s=!0},p(a,l){let c={};l&2050&&(c.$$scope={dirty:l,ctx:a}),t.$set(c);let u={};l&4&&(u.data=a[2]),r.$set(u);let p={};l&8&&(p.tableData=a[3]),i.$set(p)},i(a){s||(S(t.$$.fragment,a),S(r.$$.fragment,a),S(i.$$.fragment,a),s=!0)},o(a){A(t.$$.fragment,a),A(r.$$.fragment,a),A(i.$$.fragment,a),s=!1},d(a){a&&(v(n),v(o)),q(t,a),q(r,a),q(i,a)}}}function Xw(e){let t,n;return t=new le({props:{title:e[4],subtitle:e[5],$$slots:{default:[Jw]},$$scope:{ctx:e}}}),{c(){G(t.$$.fragment)},m(r,o){P(t,r,o),n=!0},p(r,[o]){let i={};o&2062&&(i.$$scope={dirty:o,ctx:r}),t.$set(i)},i(r){n||(S(t.$$.fragment,r),n=!0)},o(r){A(t.$$.fragment,r),n=!1},d(r){q(t,r)}}}function Kw(e,t,n){let r,o=U,i=()=>(o(),o=ae(a,h=>n(8,r=h)),a);e.$$.on_destroy.push(()=>o());let{sourceData:s=null}=t,{prefs:a}=t;i();let l=null,c=[],u=0,p=ye(),d=null,m=Gc(),f=qc();function g(h){u=h,n(1,u)}return e.$$set=h=>{"sourceData"in h&&n(6,s=h.sourceData),"prefs"in h&&i(n(0,a=h.prefs))},e.$$.update=()=>{e.$$.dirty&64&&s&&n(7,d=cg(s)),e.$$.dirty&386&&d&&n(2,[l,c]=lg(d,u,p,r.browserLinksSupported),l,(n(3,c),n(7,d),n(1,u),n(8,r),n(6,s)))},[a,u,l,c,m,f,s,d,r,g]}var nc=class extends W{constructor(t){super(),Y(this,t,Kw,Xw,H,{sourceData:6,prefs:0})}},rc=nc;function Zw(e,t){let n=e.buttons;switch(t){case 0:return n.oneMonth;case 1:return n.threeMonths;case 2:return n.oneYear;case 3:return n.allTime}}function Ig(e,t,n,r){let o=Zw(n,r),i=[...o.learning.map((b,k)=>({buttonNum:k+1,group:"learning",count:b})),...o.young.map((b,k)=>({buttonNum:k+1,group:"young",count:b})),...o.mature.map((b,k)=>({buttonNum:k+1,group:"mature",count:b}))],s=b=>{let k=i.filter(T=>T.group==b),I=ee(k,T=>T.count),N=ee(k.filter(T=>T.buttonNum>1),T=>T.count),$=I?te(N/I*100):"0";return{total:I,correct:N,percent:$}},a=b=>{let k=s(b.group).total,I=b.count,N=k?te(I/k*100):"0";return`${te(I)} (${N}%)`},l=Math.max(...i.map(b=>b.count)),c=Xe(e),u=c.transition().duration(600);if(l)qe(c,!0);else{qe(c,!1);return}let p=cn().domain(["learning","young","mature"]).range([t.marginLeft,t.width-t.marginRight]);c.select(".x-ticks").call(b=>b.transition(u).call(Pt(p).tickFormat(k=>{let I;switch(k){case"learning":I=Ln();break;case"young":I=qn();break;case"mature":default:I=Pn();break}return`${I} \u200E(${s(k).percent}%)`}).tickSizeOuter(0))).attr("direction","ltr");let d=cn().domain(["1","2","3","4"]).range([0,p.bandwidth()]).paddingOuter(1).paddingInner(.1),m=ue(Ht).domain([1,4]),f=b=>te(b),g=K().range([t.height-t.marginBottom,t.marginTop]).domain([0,l]);c.select(".y-ticks").call(b=>b.transition(u).call(qt(g).ticks(t.height/50).tickSizeOuter(0).tickFormat(f))).attr("direction","ltr");let h=b=>b.attr("width",d.bandwidth()).attr("opacity",.8).transition(u).attr("x",k=>p(k.group)+d(k.buttonNum.toString())).attr("y",k=>g(k.count)).attr("height",k=>g(0)-g(k.count)).attr("fill",k=>m(k.buttonNum));c.select("g.bars").selectAll("rect").data(i).join(b=>b.append("rect").attr("rx",1).attr("x",k=>p(k.group)+d(k.buttonNum.toString())).attr("y",g(0)).attr("height",0).call(h),b=>b.call(h),b=>b.call(k=>k.transition(u).attr("height",0).attr("y",g(0))));function x(b){let k=zc(),I=Wc(),N=Ol(s(b.group)),$=`${I}: ${a(b)}`;return`${k}: ${b.buttonNum}<br>${$}<br>${N}`}c.select("g.hover-columns").selectAll("rect").data(i).join("rect").attr("x",b=>p(b.group)+d(b.buttonNum.toString())).attr("y",()=>g(l)).attr("width",d.bandwidth()).attr("height",()=>g(0)-g(l)).on("mousemove",(b,k)=>{let[I,N]=at(b,document.body);pt(x(k),I,N)}).on("mouseout",Rt)}function Qw(e){let t,n,r;function o(s){e[7](s)}let i={revlogRange:e[0],followRevlog:!0};return e[1]!==void 0&&(i.graphRange=e[1]),t=new St({props:i}),pe.push(()=>yt(t,"graphRange",o)),{c(){G(t.$$.fragment)},m(s,a){P(t,s,a),r=!0},p(s,a){let l={};a&1&&(l.revlogRange=s[0]),!n&&a&2&&(n=!0,l.graphRange=s[1],xt(()=>n=!1)),t.$set(l)},i(s){r||(S(t.$$.fragment,s),r=!0)},o(s){A(t.$$.fragment,s),r=!1},d(s){q(t,s)}}}function e1(e){let t,n,r,o,i,s,a,l,c;return t=new be({props:{$$slots:{default:[Qw]},$$scope:{ctx:e}}}),i=new pn({}),s=new Nt({props:{bounds:e[3]}}),a=new Et({props:{bounds:e[3]}}),{c(){G(t.$$.fragment),n=L(),r=ne("svg"),o=ne("g"),G(i.$$.fragment),G(s.$$.fragment),G(a.$$.fragment),R(o,"class","bars"),R(r,"viewBox",l=`0 0 ${e[3].width} ${e[3].height}`)},m(u,p){P(t,u,p),C(u,n,p),C(u,r,p),_(r,o),P(i,r,null),P(s,r,null),P(a,r,null),e[8](r),c=!0},p(u,p){let d={};p&515&&(d.$$scope={dirty:p,ctx:u}),t.$set(d)},i(u){c||(S(t.$$.fragment,u),S(i.$$.fragment,u),S(s.$$.fragment,u),S(a.$$.fragment,u),c=!0)},o(u){A(t.$$.fragment,u),A(i.$$.fragment,u),A(s.$$.fragment,u),A(a.$$.fragment,u),c=!1},d(u){u&&(v(n),v(r)),q(t,u),q(i),q(s),q(a),e[8](null)}}}function t1(e){let t,n;return t=new le({props:{title:e[4],subtitle:e[5],$$slots:{default:[e1]},$$scope:{ctx:e}}}),{c(){G(t.$$.fragment)},m(r,o){P(t,r,o),n=!0},p(r,[o]){let i={};o&519&&(i.$$scope={dirty:o,ctx:r}),t.$set(i)},i(r){n||(S(t.$$.fragment,r),n=!0)},o(r){A(t.$$.fragment,r),n=!1},d(r){q(t,r)}}}function n1(e,t,n){let{sourceData:r=null}=t,{revlogRange:o}=t,i=2,s=nt(),a=null,l=Hc(),c=jc();function u(d){i=d,n(1,i)}function p(d){pe[d?"unshift":"push"](()=>{a=d,n(2,a)})}return e.$$set=d=>{"sourceData"in d&&n(6,r=d.sourceData),"revlogRange"in d&&n(0,o=d.revlogRange)},e.$$.update=()=>{e.$$.dirty&70&&r&&Ig(a,s,r,i)},[o,i,a,s,l,c,r,u,p]}var oc=class extends W{constructor(t){super(),Y(this,t,n1,t1,H,{sourceData:6,revlogRange:0})}},ic=oc;function Mg(e,t){let n=new Map(Object.entries(e.reviews.count).map(([i,s])=>[Number(i),s.learn+s.relearn+s.mature+s.filtered+s.young])),r=r1(t),o=[];for(let i=0;i<7;i++)o.push((t+i)%7);return{reviewCount:n,timeFunction:r,weekdayLabels:o,rolloverHour:e.rolloverHour}}function Og(e,t,n,r,o,i,s,a){let l=Xe(e),c=new Date,u=new Date;u.setFullYear(o);let p=K().range([t.marginLeft,t.width-t.marginRight]).domain([-1,53]),d=new Map,m=0;for(let[T,D]of n.reviewCount.entries()){let y=Wt.offset(c,T);if(y=ki.offset(y,-1*n.rolloverHour),D>m&&(m=D),y.getFullYear()!=o)continue;let w=n.timeFunction.count(jt(y),y),M=Wt.count(n.timeFunction(y),y),j=Wt.count(jt(y),y);d.set(j,{day:T,count:D,weekNumber:w,weekDay:M,date:y})}if(m)qe(l,!0);else{qe(l,!1);return}let f=jt(u),g=new Date(c);g.setFullYear(c.getFullYear()-1);for(let T=0;T<365;T++){let D=Wt.offset(f,T);if(D>c||s==1&&D<g)continue;let y=Wt.count(jt(D),D);if(!d.has(y)){let w=n.timeFunction.count(jt(D),D),M=Wt.count(n.timeFunction(D),D);d.set(y,{day:y,count:0,weekNumber:w,weekDay:M,date:D})}}let h=Array.from(d.values()),x=K().range([.2,i?.8:1]),b=Rs().domain([0,m]).interpolator(T=>Vt(x(T)));function k(T){let D=Gp(T.date,{weekday:"long",year:"numeric",month:"long",day:"numeric"}),y=Xt({reviews:T.count});return`${D}<br>${y}`}let I=t.height/10,N=i?"#333":"#ddd",$=kr();l.select("g.weekdays").selectAll("text").data(n.weekdayLabels).join("text").text(T=>qp(T)).attr("width",p(-1)-2).attr("height",I-2).attr("x",p(1)-3).attr("y",(T,D)=>t.marginTop+D*I).attr("fill",i?"#ddd":"black").attr("dominant-baseline","hanging").attr("text-anchor","end").attr("font-size",$.includes("zh")?"xx-small":"small").attr("font-family","monospace").attr("direction","ltr").style("user-select","none").on("click",null).filter(T=>[It.SUNDAY,It.MONDAY,It.FRIDAY,It.SATURDAY].includes(T)).on("click",(T,D)=>a(D)),l.select("g.days").selectAll("rect").data(h).join("rect").attr("fill",N).attr("width",T=>p(T.weekNumber+1)-p(T.weekNumber)-2).attr("height",I-2).attr("x",T=>p(T.weekNumber+1)).attr("y",T=>t.marginTop+T.weekDay*I).on("mousemove",(T,D)=>{let[y,w]=at(T,document.body);pt(k(D),y,w)}).on("mouseout",Rt).attr("class",T=>T.count>0?Oi:"").on("click",function(T,D){D.count>0&&r("search",{query:`"prop:rated=${D.day}"`})}).transition().duration(800).attr("fill",T=>T.count===0?N:b(T.count))}function r1(e){switch(e){case It.MONDAY:return wi;case It.FRIDAY:return _i;case It.SATURDAY:return vi;default:return ro}}function o1(e){let t,n,r,o,i,s,a,l,c,u,p,d,m,f;return{c(){t=B("span"),n=B("button"),r=J("\u25C4"),i=L(),s=B("span"),a=J(e[4]),l=L(),c=B("span"),u=B("button"),p=J("\u25BA"),n.disabled=o=e[3]>=e[4],u.disabled=d=e[4]>=e[5]},m(g,h){C(g,t,h),_(t,n),_(n,r),C(g,i,h),C(g,s,h),_(s,a),C(g,l,h),C(g,c,h),_(c,u),_(u,p),m||(f=[Q(n,"click",e[12]),Q(u,"click",e[13])],m=!0)},p(g,h){h&24&&o!==(o=g[3]>=g[4])&&(n.disabled=o),h&16&&Re(a,g[4]),h&16&&d!==(d=g[4]>=g[5])&&(u.disabled=d)},d(g){g&&(v(t),v(i),v(s),v(l),v(c)),m=!1,fe(f)}}}function i1(e){let t,n,r,o,i,s,a,l,c;return t=new be({props:{$$slots:{default:[o1]},$$scope:{ctx:e}}}),s=new Nt({props:{bounds:e[1]}}),a=new Et({props:{bounds:e[1]}}),{c(){G(t.$$.fragment),n=L(),r=ne("svg"),o=ne("g"),i=ne("g"),G(s.$$.fragment),G(a.$$.fragment),R(o,"class","weekdays"),R(i,"class","days"),R(r,"viewBox",l=`0 0 ${e[1].width} ${e[1].height}`)},m(u,p){P(t,u,p),C(u,n,p),C(u,r,p),_(r,o),_(r,i),P(s,r,null),P(a,r,null),e[14](r),c=!0},p(u,p){let d={};p&65560&&(d.$$scope={dirty:p,ctx:u}),t.$set(d);let m={};p&2&&(m.bounds=u[1]),s.$set(m);let f={};p&2&&(f.bounds=u[1]),a.$set(f),(!c||p&2&&l!==(l=`0 0 ${u[1].width} ${u[1].height}`))&&R(r,"viewBox",l)},i(u){c||(S(t.$$.fragment,u),S(s.$$.fragment,u),S(a.$$.fragment,u),c=!0)},o(u){A(t.$$.fragment,u),A(s.$$.fragment,u),A(a.$$.fragment,u),c=!1},d(u){u&&(v(n),v(r)),q(t,u),q(s),q(a),e[14](null)}}}function a1(e){let t,n;return t=new le({props:{title:e[6],$$slots:{default:[i1]},$$scope:{ctx:e}}}),{c(){G(t.$$.fragment)},m(r,o){P(t,r,o),n=!0},p(r,[o]){let i={};o&65566&&(i.$$scope={dirty:o,ctx:r}),t.$set(i)},i(r){n||(S(t.$$.fragment,r),n=!0)},o(r){A(t.$$.fragment,r),n=!1},d(r){q(t,r)}}}function s1(e,t,n){let r,o=U,i=()=>(o(),o=ae(a,N=>n(11,r=N)),a);e.$$.on_destroy.push(()=>o());let{sourceData:s}=t,{prefs:a}=t;i();let{revlogRange:l}=t,{nightMode:c}=t,u=ye(),p=null,d=nt();d.height=120,d.marginLeft=20,d.marginRight=20;let m=null,f=new Date().getFullYear(),g=0,h=f,x=rl(),b=()=>n(4,h--,h),k=()=>n(4,h++,h);function I(N){pe[N?"unshift":"push"](()=>{m=N,n(2,m)})}return e.$$set=N=>{"sourceData"in N&&n(7,s=N.sourceData),"prefs"in N&&i(n(0,a=N.prefs)),"revlogRange"in N&&n(8,l=N.revlogRange),"nightMode"in N&&n(9,c=N.nightMode)},e.$$.update=()=>{e.$$.dirty&280&&(l<1?n(3,g=f):l===1?n(3,g=f-1):n(3,g=2e3),h<g&&n(4,h=g)),e.$$.dirty&3990&&s&&(n(10,p=Mg(s,r.calendarFirstDayOfWeek)),Og(m,d,p,u,h,c,l,N=>tn(a,r.calendarFirstDayOfWeek=N,r)))},[a,d,m,g,h,f,x,s,l,c,p,r,b,k,I]}var ac=class extends W{constructor(t){super(),Y(this,t,s1,a1,H,{sourceData:7,prefs:0,revlogRange:8,nightMode:9})}},sc=ac;var Fg=[Ti[5][2],Si[5][2],Ci[5][2],oo[5][2],oo[5][3],"#FFDC41","grey"];function c1(e,t){let n=t?e.cardCounts.excludingInactive:e.cardCounts.includingInactive,r=t?'AND -("is:buried" OR "is:suspended")':"";return[[bl(),n.newCards,!0,`"is:new"${r}`],[Ln(),n.learn,!0,`(-"is:review" AND "is:learn")${r}`],[uo(),n.relearn,!0,`("is:review" AND "is:learn")${r}`],[qn(),n.young,!0,`("is:review" AND -"is:learn") AND "prop:ivl<21"${r}`],[Pn(),n.mature,!0,`("is:review" -"is:learn") AND "prop:ivl>=21"${r}`],[yl(),n.suspended,t,'"is:suspended"'],[gl(),n.buried,t,'"is:buried"']]}function Bg(e,t){let n=c1(e,t),r=te(ee(n,o=>o[1]));return{title:kl(),counts:n,totalCards:r}}function $g(e,t,n){let r=rn(n.counts,f=>f[1]),o=Array.from(r).map((f,g)=>{let h=n.counts[g];return{label:h[0],count:h[1],show:h[2],query:h[3],idx:g,total:f}}),i=Math.max(1,r.slice(-1)[0]),s=K().domain([0,i]),a=Xe(e),l=a.select(".counts"),c=Fs()(n.counts.map(f=>f[1])),u=t.height/2-t.marginTop-t.marginBottom,p=Os().innerRadius(0).outerRadius(u),d=a.transition().duration(600);return l.attr("transform",`translate(${u},${u+t.marginTop})`).selectAll("path").data(c).join(f=>f.append("path").attr("fill",(g,h)=>Fg[h]).attr("d",p),function(f){return f.call(g=>g.transition(d).attrTween("d",h=>{let x=lt({startAngle:0,endAngle:0},h);return b=>p(x(b))}))}),s.range([t.marginLeft,t.width-t.marginRight]),o.flatMap((f,g)=>{let h=te(f.count/i*100,2);return f.show?{label:f.label,count:te(f.count),percent:`${h}%`,colour:Fg[g],query:f.query}:[]})}function Lg(e,t,n){let r=e.slice();return r[13]=t[n],r[15]=n,r}function l1(e){let t,n,r,o,i,s;return{c(){t=B("label"),n=B("input"),r=L(),o=J(e[7]),R(n,"type","checkbox")},m(a,l){C(a,t,l),_(t,n),n.checked=e[4].cardCountsSeparateInactive,_(t,r),_(t,o),i||(s=Q(n,"change",e[10]),i=!0)},p(a,l){l&16&&(n.checked=a[4].cardCountsSeparateInactive)},d(a){a&&v(t),i=!1,s()}}}function u1(e){let t,n=e[13].label+"",r;return{c(){t=B("span"),r=J(n)},m(o,i){C(o,t,i),_(t,r)},p(o,i){i&32&&n!==(n=o[13].label+"")&&Re(r,n)},d(o){o&&v(t)}}}function p1(e){let t,n=e[13].label+"",r,o,i;function s(){return e[12](e[13])}return{c(){t=B("button"),r=J(n),R(t,"class","search-link svelte-1g5dtrt")},m(a,l){C(a,t,l),_(t,r),o||(i=Q(t,"click",s),o=!0)},p(a,l){e=a,l&32&&n!==(n=e[13].label+"")&&Re(r,n)},d(a){a&&v(t),o=!1,i()}}}function Pg(e){let t,n,r,o,i,s,a,l=e[13].count+"",c,u,p,d=e[13].percent+"",m;function f(x,b){return x[4].browserLinksSupported?p1:u1}let g=f(e,-1),h=g(e);return{c(){t=B("tr"),n=B("td"),r=B("span"),o=J("\u25A0\xA0"),i=L(),h.c(),s=L(),a=B("td"),c=J(l),u=L(),p=B("td"),m=J(d),Me(r,"color",e[13].colour),R(n,"class","svelte-1g5dtrt"),R(a,"class","right svelte-1g5dtrt"),R(p,"class","right svelte-1g5dtrt")},m(x,b){C(x,t,b),_(t,n),_(n,r),_(r,o),_(n,i),h.m(n,null),_(t,s),_(t,a),_(a,c),_(t,u),_(t,p),_(p,m)},p(x,b){b&32&&Me(r,"color",x[13].colour),g===(g=f(x,b))&&h?h.p(x,b):(h.d(1),h=g(x),h&&(h.c(),h.m(n,null))),b&32&&l!==(l=x[13].count+"")&&Re(c,l),b&32&&d!==(d=x[13].percent+"")&&Re(m,d)},d(x){x&&v(t),h.d()}}}function d1(e){let t,n,r,o,i,s,a,l,c,u,p,d,m,f,g,h,x,b,k=e[3].totalCards+"",I,N,$,T;t=new be({props:{$$slots:{default:[l1]},$$scope:{ctx:e}}});let D=Oe(e[5]),y=[];for(let w=0;w<D.length;w+=1)y[w]=Pg(Lg(e,D,w));return{c(){G(t.$$.fragment),n=L(),r=B("div"),o=B("div"),i=ne("svg"),s=ne("g"),l=L(),c=B("div"),u=B("table");for(let w=0;w<y.length;w+=1)y[w].c();p=L(),d=B("tr"),m=B("td"),f=B("span"),f.textContent="\u25A0",g=L(),h=J(e[8]),x=L(),b=B("td"),I=J(k),N=L(),$=B("td"),R(s,"class","counts"),R(i,"viewBox",a=`0 0 ${e[2].width} ${e[2].height}`),Me(i,"opacity",e[3].totalCards?1:0),R(i,"class","svelte-1g5dtrt"),R(o,"class","svg-container svelte-1g5dtrt"),Me(f,"visibility","hidden"),R(m,"class","svelte-1g5dtrt"),R(b,"class","right svelte-1g5dtrt"),R($,"class","svelte-1g5dtrt"),R(u,"class","svelte-1g5dtrt"),R(c,"class","counts-table svelte-1g5dtrt"),R(r,"class","counts-outer svelte-1g5dtrt")},m(w,M){P(t,w,M),C(w,n,M),C(w,r,M),_(r,o),_(o,i),_(i,s),e[11](i),_(r,l),_(r,c),_(c,u);for(let j=0;j<y.length;j+=1)y[j]&&y[j].m(u,null);_(u,p),_(u,d),_(d,m),_(m,f),_(m,g),_(m,h),_(d,x),_(d,b),_(b,I),_(d,N),_(d,$),T=!0},p(w,M){let j={};if(M&65552&&(j.$$scope={dirty:M,ctx:w}),t.$set(j),(!T||M&4&&a!==(a=`0 0 ${w[2].width} ${w[2].height}`))&&R(i,"viewBox",a),(!T||M&8)&&Me(i,"opacity",w[3].totalCards?1:0),M&112){D=Oe(w[5]);let O;for(O=0;O<D.length;O+=1){let V=Lg(w,D,O);y[O]?y[O].p(V,M):(y[O]=Pg(V),y[O].c(),y[O].m(u,p))}for(;O<y.length;O+=1)y[O].d(1);y.length=D.length}(!T||M&8)&&k!==(k=w[3].totalCards+"")&&Re(I,k)},i(w){T||(S(t.$$.fragment,w),T=!0)},o(w){A(t.$$.fragment,w),T=!1},d(w){w&&(v(n),v(r)),q(t,w),e[11](null),ht(y,w)}}}function m1(e){let t,n;return t=new le({props:{title:e[3].title,$$slots:{default:[d1]},$$scope:{ctx:e}}}),{c(){G(t.$$.fragment)},m(r,o){P(t,r,o),n=!0},p(r,[o]){let i={};o&8&&(i.title=r[3].title),o&65598&&(i.$$scope={dirty:o,ctx:r}),t.$set(i)},i(r){n||(S(t.$$.fragment,r),n=!0)},o(r){A(t.$$.fragment,r),n=!1},d(r){q(t,r)}}}function f1(e,t,n){let r,o=U,i=()=>(o(),o=ae(a,b=>n(4,r=b)),a);e.$$.on_destroy.push(()=>o());let{sourceData:s}=t,{prefs:a}=t;i();let l=ye(),c=null,u=nt();u.width=225,u.marginBottom=0;let p=null,d=null,m=xl(),f=wl();function g(){r.cardCountsSeparateInactive=this.checked,a.set(r)}function h(b){pe[b?"unshift":"push"](()=>{c=b,n(1,c)})}let x=b=>l("search",{query:b.query});return e.$$set=b=>{"sourceData"in b&&n(9,s=b.sourceData),"prefs"in b&&i(n(0,a=b.prefs))},e.$$.update=()=>{e.$$.dirty&542&&(n(3,p=Bg(s,r.cardCountsSeparateInactive)),n(5,d=$g(c,u,p)))},[a,c,u,p,r,d,l,m,f,s,g,h,x]}var cc=class extends W{constructor(t){super(),Y(this,t,f1,m1,H,{sourceData:9,prefs:0})}},lc=cc;function qg(e){return{eases:Ge(e.difficulty.eases)}}function g1(e,t){let n=`"prop:d>=${e/100}"`,r=`"prop:d<${(t+1)/100}"`;return t===99&&(r=r.replace("<","<=")),`${n} AND ${r}`}function h1(e,t,n){let r=K().domain([e,t]).nice(),o=r.ticks(n),i=r.domain(),s=e-i[0],a=o[1]-o[0];if(s===0||s%a!==0&&a%s!==0)return[r,o];let l=c=>c+s;return[K().domain(i.map(l)),o.map(l)]}function Gg(e,t,n){let r=e.eases;if(!r.size)return[null,[]];let o=0,i=100,s=20,[a,l]=h1(o,i,s),c=Ne().value(h=>h[0]).domain(a.domain()).thresholds(l)(r.entries()),u=ee(c,we),p=ue(Ht).domain([100,0]);function d(h,x){let b=`${h.x0}%-${h.x1}%`;return al({cards:we(h),percent:b})}function m(h){let x=h.x0,b=h.x1-1,k=g1(x,b);t("search",{query:k})}let f=h=>te(h,0)+"%",g=[{label:Jc(),value:f(ee(Array.from(r.entries()).map(([h,x])=>(h+2.5)*x))/u)}];return[{scale:a,bins:c,total:u,hoverText:d,onClick:n?m:null,colourScale:p,showArea:!1,binValue:we,xTickFormat:f},g]}function Ug(e){let t,n;return t=new le({props:{title:e[4],subtitle:e[5],$$slots:{default:[b1]},$$scope:{ctx:e}}}),{c(){G(t.$$.fragment)},m(r,o){P(t,r,o),n=!0},p(r,o){let i={};o&268&&(i.$$scope={dirty:o,ctx:r}),t.$set(i)},i(r){n||(S(t.$$.fragment,r),n=!0)},o(r){A(t.$$.fragment,r),n=!1},d(r){q(t,r)}}}function b1(e){let t,n,r,o;return t=new He({props:{data:e[2]}}),r=new Be({props:{tableData:e[3]}}),{c(){G(t.$$.fragment),n=L(),G(r.$$.fragment)},m(i,s){P(t,i,s),C(i,n,s),P(r,i,s),o=!0},p(i,s){let a={};s&4&&(a.data=i[2]),t.$set(a);let l={};s&8&&(l.tableData=i[3]),r.$set(l)},i(i){o||(S(t.$$.fragment,i),S(r.$$.fragment,i),o=!0)},o(i){A(t.$$.fragment,i),A(r.$$.fragment,i),o=!1},d(i){i&&v(n),q(t,i),q(r,i)}}}function x1(e){var o;let t,n,r=((o=e[0])==null?void 0:o.fsrs)&&Ug(e);return{c(){r&&r.c(),t=xe()},m(i,s){r&&r.m(i,s),C(i,t,s),n=!0},p(i,[s]){var a;(a=i[0])!=null&&a.fsrs?r?(r.p(i,s),s&1&&S(r,1)):(r=Ug(i),r.c(),S(r,1),r.m(t.parentNode,t)):r&&(Ce(),A(r,1,1,()=>{r=null}),Se())},i(i){n||(S(r),n=!0)},o(i){A(r),n=!1},d(i){i&&v(t),r&&r.d(i)}}}function y1(e,t,n){let r,o=U,i=()=>(o(),o=ae(a,m=>n(6,r=m)),a);e.$$.on_destroy.push(()=>o());let{sourceData:s=null}=t,{prefs:a}=t;i();let l=ye(),c=null,u=[],p=il(),d=ol();return e.$$set=m=>{"sourceData"in m&&n(0,s=m.sourceData),"prefs"in m&&i(n(1,a=m.prefs))},e.$$.update=()=>{e.$$.dirty&65&&s&&n(2,[c,u]=Gg(qg(s),l,r.browserLinksSupported),c,(n(3,u),n(0,s),n(6,r)))},[s,a,c,u,p,d,r]}var uc=class extends W{constructor(t){super(),Y(this,t,y1,x1,H,{sourceData:0,prefs:1})}},pc=uc;function zg(e){return{eases:Ge(e.eases.eases)}}function k1(e,t){if(e===t)return`"prop:ease=${e/100}"`;let n=`"prop:ease>=${e/100}"`,r=`"prop:ease<${(t+1)/100}"`;return`${n} AND ${r}`}function w1(e,t,n){let r=K().domain([e,t]).nice(),o=r.ticks(n),i=r.domain(),s=e-i[0],a=o[1]-o[0];if(s===0||s%a!==0&&a%s!==0)return[r,o];let l=c=>c+s;return[K().domain(i.map(l)),o.map(l)]}function Wg(e,t,n){let r=e.eases;if(!r.size)return[null,[]];let[,o]=Qe(r.keys()),i=130,s=o+1,a=20,[l,c]=w1(i,s,a),u=Ne().value(x=>x[0]).domain(l.domain()).thresholds(c)(r.entries()),p=ee(u,we),d=ue(Ht).domain([i,300]);function m(x,b){let k=Math.floor(x.x0),N=Math.floor(x.x1)-k<=10?`${x.x0}%`:`${x.x0}%-${x.x1}%`;return ll({cards:we(x),percent:N})}function f(x){let b=x.x0,k=x.x1-1,I=k1(b,k);t("search",{query:I})}let g=x=>te(x,0)+"%",h=[{label:Xc(),value:g(ee(Array.from(r.entries()).map(([x,b])=>(x+2.5)*b))/p)}];return[{scale:l,bins:u,total:p,hoverText:m,onClick:n?f:null,colourScale:d,showArea:!1,binValue:we,xTickFormat:g},h]}function jg(e){let t,n;return t=new le({props:{title:e[4],subtitle:e[5],$$slots:{default:[_1]},$$scope:{ctx:e}}}),{c(){G(t.$$.fragment)},m(r,o){P(t,r,o),n=!0},p(r,o){let i={};o&268&&(i.$$scope={dirty:o,ctx:r}),t.$set(i)},i(r){n||(S(t.$$.fragment,r),n=!0)},o(r){A(t.$$.fragment,r),n=!1},d(r){q(t,r)}}}function _1(e){let t,n,r,o;return t=new He({props:{data:e[2]}}),r=new Be({props:{tableData:e[3]}}),{c(){G(t.$$.fragment),n=L(),G(r.$$.fragment)},m(i,s){P(t,i,s),C(i,n,s),P(r,i,s),o=!0},p(i,s){let a={};s&4&&(a.data=i[2]),t.$set(a);let l={};s&8&&(l.tableData=i[3]),r.$set(l)},i(i){o||(S(t.$$.fragment,i),S(r.$$.fragment,i),o=!0)},o(i){A(t.$$.fragment,i),A(r.$$.fragment,i),o=!1},d(i){i&&v(n),q(t,i),q(r,i)}}}function v1(e){var o,i;let t,n,r=!((i=(o=e[0])==null?void 0:o.fsrs)!=null&&i)&&jg(e);return{c(){r&&r.c(),t=xe()},m(s,a){r&&r.m(s,a),C(s,t,a),n=!0},p(s,[a]){var l,c;(c=(l=s[0])==null?void 0:l.fsrs)!=null&&c?r&&(Ce(),A(r,1,1,()=>{r=null}),Se()):r?(r.p(s,a),a&1&&S(r,1)):(r=jg(s),r.c(),S(r,1),r.m(t.parentNode,t))},i(s){n||(S(r),n=!0)},o(s){A(r),n=!1},d(s){s&&v(t),r&&r.d(s)}}}function T1(e,t,n){let r,o=U,i=()=>(o(),o=ae(a,m=>n(6,r=m)),a);e.$$.on_destroy.push(()=>o());let{sourceData:s=null}=t,{prefs:a}=t;i();let l=ye(),c=null,u=[],p=cl(),d=sl();return e.$$set=m=>{"sourceData"in m&&n(0,s=m.sourceData),"prefs"in m&&i(n(1,a=m.prefs))},e.$$.update=()=>{e.$$.dirty&65&&s&&n(2,[c,u]=Wg(zg(s),l,r.browserLinksSupported),c,(n(3,u),n(0,s),n(6,r)))},[s,a,c,u,p,d,r]}var dc=class extends W{constructor(t){super(),Y(this,t,T1,v1,H,{sourceData:0,prefs:1})}},mc=dc;function Hg(e){let t=e.futureDue;return{dueCounts:Ge(t.futureDue),haveBacklog:t.haveBacklog}}function C1(e,t){if(e===t)return`"prop:due=${e}"`;{let n=`"prop:due>=${e}"`,r=`"prop:due<=${t}"`;return`${n} AND ${r}`}}function Vg(e,t,n,r,o){var $;let i={histogramData:null,tableData:[]},s=e.dueCounts;if(!s)return i;let[a,l]=Qe(s.keys()),c=a;n||(c=0);let u=l;switch(t){case 0:u=31;break;case 1:u=90;break;case 2:u=365;break;case 3:break}let p=Math.min(70,u-c),d=K().domain([c,u]),m=Ne().value(T=>T[0]).domain(d.domain()).thresholds(d.ticks(p))(s.entries());if(!ee(m,T=>T.length))return i;let f=T=>te(T),g=K().range([.7,.3]),h=ue(T=>ar(g(T))).domain([c,u]),x=ee(m,we);function b(T,D,y){let w=pr(T.x0,T.x1),M=ml({cards:we(T)}),j=Kt();return`${w}:<br>${M}<br>${j}: ${te(D)}`}function k(T){let D=T.x0,y=T.x1-1,w=C1(D,y);r("search",{query:w})}let I=u-c,N=[{label:Un(),value:Xt({reviews:x})},{label:co(),value:hr({count:Math.round(x/I)})},{label:Cl(),value:Xt({reviews:($=e.dueCounts.get(1))!=null?$:0})}];return{histogramData:{scale:d,bins:m,total:x,hoverText:b,onClick:o?k:null,showArea:!0,colourScale:h,binValue:we,xTickFormat:f},tableData:N}}function Yg(e){let t,n,r,o,i,s;return{c(){t=B("label"),n=B("input"),r=L(),o=J(e[8]),R(n,"type","checkbox")},m(a,l){C(a,t,l),_(t,n),n.checked=e[3].futureDueShowBacklog,_(t,r),_(t,o),i||(s=Q(n,"change",e[10]),i=!0)},p(a,l){l&8&&(n.checked=a[3].futureDueShowBacklog)},d(a){a&&v(t),i=!1,s()}}}function S1(e){let t,n,r,o,i=e[1]&&e[1].haveBacklog&&Yg(e);function s(l){e[11](l)}let a={revlogRange:2};return e[2]!==void 0&&(a.graphRange=e[2]),n=new St({props:a}),pe.push(()=>yt(n,"graphRange",s)),{c(){i&&i.c(),t=L(),G(n.$$.fragment)},m(l,c){i&&i.m(l,c),C(l,t,c),P(n,l,c),o=!0},p(l,c){l[1]&&l[1].haveBacklog?i?i.p(l,c):(i=Yg(l),i.c(),i.m(t.parentNode,t)):i&&(i.d(1),i=null);let u={};!r&&c&4&&(r=!0,u.graphRange=l[2],xt(()=>r=!1)),n.$set(u)},i(l){o||(S(n.$$.fragment,l),o=!0)},o(l){A(n.$$.fragment,l),o=!1},d(l){l&&v(t),i&&i.d(l),q(n,l)}}}function N1(e){let t,n,r,o,i,s;return t=new be({props:{$$slots:{default:[S1]},$$scope:{ctx:e}}}),r=new He({props:{data:e[4]}}),i=new Be({props:{tableData:e[5]}}),{c(){G(t.$$.fragment),n=L(),G(r.$$.fragment),o=L(),G(i.$$.fragment)},m(a,l){P(t,a,l),C(a,n,l),P(r,a,l),C(a,o,l),P(i,a,l),s=!0},p(a,l){let c={};l&8206&&(c.$$scope={dirty:l,ctx:a}),t.$set(c);let u={};l&16&&(u.data=a[4]),r.$set(u);let p={};l&32&&(p.tableData=a[5]),i.$set(p)},i(a){s||(S(t.$$.fragment,a),S(r.$$.fragment,a),S(i.$$.fragment,a),s=!0)},o(a){A(t.$$.fragment,a),A(r.$$.fragment,a),A(i.$$.fragment,a),s=!1},d(a){a&&(v(n),v(o)),q(t,a),q(r,a),q(i,a)}}}function R1(e){let t,n;return t=new le({props:{title:e[6],subtitle:e[7],$$slots:{default:[N1]},$$scope:{ctx:e}}}),{c(){G(t.$$.fragment)},m(r,o){P(t,r,o),n=!0},p(r,[o]){let i={};o&8254&&(i.$$scope={dirty:o,ctx:r}),t.$set(i)},i(r){n||(S(t.$$.fragment,r),n=!0)},o(r){A(t.$$.fragment,r),n=!1},d(r){q(t,r)}}}function E1(e,t,n){let r,o=U,i=()=>(o(),o=ae(a,b=>n(3,r=b)),a);e.$$.on_destroy.push(()=>o());let{sourceData:s=null}=t,{prefs:a}=t;i();let l=ye(),c=null,u=null,p=[],d=0,m=Ml(),f=Il(),g=nl();function h(){r.futureDueShowBacklog=this.checked,a.set(r)}function x(b){d=b,n(2,d)}return e.$$set=b=>{"sourceData"in b&&n(9,s=b.sourceData),"prefs"in b&&i(n(0,a=b.prefs))},e.$$.update=()=>{e.$$.dirty&512&&s&&n(1,c=Hg(s)),e.$$.dirty&14&&c&&n(4,{histogramData:u,tableData:p}=Vg(c,d,r.futureDueShowBacklog,l,r.browserLinksSupported),u,(n(5,p),n(1,c),n(2,d),n(3,r),n(9,s)))},[a,c,d,r,u,p,m,f,g,s,h,x]}var fc=class extends W{constructor(t){super(),Y(this,t,E1,R1,H,{sourceData:9,prefs:0})}},gc=fc;function A1(e,t){function n(r){return r.map((o,i)=>({hour:i,totalCount:o.total,correctCount:o.correct}))}switch(t){case 0:return n(e.hours.oneMonth);case 1:return n(e.hours.threeMonths);case 2:return n(e.hours.oneYear);case 3:return n(e.hours.allTime)}}function Jg(e,t,n,r){let o=A1(n,r),i=Math.max(...o.map(h=>h.totalCount)),s=Xe(e),a=s.transition().duration(600);if(i)qe(s,!0);else{qe(s,!1);return}let l=cn().domain(o.map(h=>h.hour.toString())).range([t.marginLeft,t.width-t.marginRight]).paddingInner(.1);s.select(".x-ticks").call(h=>h.transition(a).call(Pt(l).tickSizeOuter(0))).selectAll(".tick").selectAll("text").classed(fg,h=>h%2!=0).attr("direction","ltr");let c=K().range([.1,.8]),u=ue(h=>Vt(c(h))).domain([0,i]),p=h=>te(h),d=K().range([t.height-t.marginBottom,t.marginTop]).domain([0,i]).nice();s.select(".y-ticks").call(h=>h.transition(a).call(qt(d).ticks(t.height/50).tickSizeOuter(0).tickFormat(p))).attr("direction","ltr");let m=d.copy().domain([0,1]),f=h=>h.attr("width",l.bandwidth()).transition(a).attr("x",x=>l(x.hour.toString())).attr("y",x=>d(x.totalCount)).attr("height",x=>d(0)-d(x.totalCount)).attr("fill",x=>u(x.totalCount));s.select("g.bars").selectAll("rect").data(o).join(h=>h.append("rect").attr("rx",1).attr("x",x=>l(x.hour.toString())).attr("y",d(0)).attr("height",0).call(f),h=>h.call(f),h=>h.call(x=>x.transition(a).attr("height",0).attr("y",d(0)))),s.select(".y2-ticks").call(h=>h.transition(a).call(yn(m).ticks(t.height/50).tickFormat(x=>`${Math.round(x*100)}%`).tickSizeOuter(0))).attr("direction","ltr"),s.select("path.cumulative-overlay").datum(o).attr("d",Dn().curve(In).defined(h=>h.totalCount>0).x(h=>l(h.hour.toString())+l.bandwidth()/2).y0(t.height-t.marginBottom).y1(h=>{let x=h.correctCount/h.totalCount;return m(isNaN(x)?0:x)}));function g(h){let x=Bl({hourStart:h.hour,hourEnd:h.hour+1}),b=$l({reviews:h.totalCount}),k=Fl({percent:h.totalCount?h.correctCount/h.totalCount*100:0,reviews:h.correctCount});return`${x}<br>${b}<br>${k}`}s.select("g.hover-columns").selectAll("rect").data(o).join("rect").attr("x",h=>l(h.hour.toString())).attr("y",()=>d(i)).attr("width",l.bandwidth()).attr("height",()=>d(0)-d(i)).on("mousemove",(h,x)=>{let[b,k]=at(h,document.body);pt(g(x),b,k)}).on("mouseout",Rt)}function D1(e){let t,n,r;function o(s){e[7](s)}let i={revlogRange:e[0],followRevlog:!0};return e[1]!==void 0&&(i.graphRange=e[1]),t=new St({props:i}),pe.push(()=>yt(t,"graphRange",o)),{c(){G(t.$$.fragment)},m(s,a){P(t,s,a),r=!0},p(s,a){let l={};a&1&&(l.revlogRange=s[0]),!n&&a&2&&(n=!0,l.graphRange=s[1],xt(()=>n=!1)),t.$set(l)},i(s){r||(S(t.$$.fragment,s),r=!0)},o(s){A(t.$$.fragment,s),r=!1},d(s){q(t,s)}}}function I1(e){let t,n,r,o,i,s,a,l,c,u;return t=new be({props:{$$slots:{default:[D1]},$$scope:{ctx:e}}}),i=new dr({}),s=new pn({}),a=new Nt({props:{bounds:e[3]}}),l=new Et({props:{bounds:e[3]}}),{c(){G(t.$$.fragment),n=L(),r=ne("svg"),o=ne("g"),G(i.$$.fragment),G(s.$$.fragment),G(a.$$.fragment),G(l.$$.fragment),R(o,"class","bars"),R(r,"viewBox",c=`0 0 ${e[3].width} ${e[3].height}`)},m(p,d){P(t,p,d),C(p,n,d),C(p,r,d),_(r,o),P(i,r,null),P(s,r,null),P(a,r,null),P(l,r,null),e[8](r),u=!0},p(p,d){let m={};d&515&&(m.$$scope={dirty:d,ctx:p}),t.$set(m)},i(p){u||(S(t.$$.fragment,p),S(i.$$.fragment,p),S(s.$$.fragment,p),S(a.$$.fragment,p),S(l.$$.fragment,p),u=!0)},o(p){A(t.$$.fragment,p),A(i.$$.fragment,p),A(s.$$.fragment,p),A(a.$$.fragment,p),A(l.$$.fragment,p),u=!1},d(p){p&&(v(n),v(r)),q(t,p),q(i),q(s),q(a),q(l),e[8](null)}}}function M1(e){let t,n;return t=new le({props:{title:e[4],subtitle:e[5],$$slots:{default:[I1]},$$scope:{ctx:e}}}),{c(){G(t.$$.fragment)},m(r,o){P(t,r,o),n=!0},p(r,[o]){let i={};o&519&&(i.$$scope={dirty:o,ctx:r}),t.$set(i)},i(r){n||(S(t.$$.fragment,r),n=!0)},o(r){A(t.$$.fragment,r),n=!1},d(r){q(t,r)}}}function O1(e,t,n){let{sourceData:r=null}=t,{revlogRange:o}=t,i=2,s=nt(),a=null,l=Pl(),c=Ll();function u(d){i=d,n(1,i)}function p(d){pe[d?"unshift":"push"](()=>{a=d,n(2,a)})}return e.$$set=d=>{"sourceData"in d&&n(6,r=d.sourceData),"revlogRange"in d&&n(0,o=d.revlogRange)},e.$$.update=()=>{e.$$.dirty&70&&r&&Jg(a,s,r,i)},[o,i,a,s,l,c,r,u,p]}var hc=class extends W{constructor(t){super(),Y(this,t,O1,M1,H,{sourceData:6,revlogRange:0})}},bc=hc;function Li(e){let t=Ge(e.intervals),n=ee(t,([i,s])=>s),r=Array(n),o=0;for(let i of t.entries())r.fill(i[0],o,o+i[1]),o+=i[1];return r.sort((i,s)=>i-s),{intervals:r}}function F1(e,t,n,r){return t-e<=1?(r?iu:zl)({day:e,cards:n}):(r?ou:Ul)({daysStart:e,daysEnd:t-1,cards:n})}function B1(e,t){if(e===t)return`"prop:ivl=${e}"`;let n=`"prop:ivl>=${e}"`,r=`"prop:ivl<=${t}"`;return`${n} ${r}`}function $1(e,t){e===0&&(e=.5);let n=`"prop:s>=${e-.5}"`,r=`"prop:s<${t+.5}"`;return`${n} ${r}`}function Pi(e,t,n,r,o){var T;let i=e.intervals;if(!i.length)return[null,[]];let s=0,[,a]=Qe(i),l=!1;switch(t){case 0:a=Math.min(a,30);break;case 1:a=$r(i,.5),l=!0;break;case 2:a=$r(i,.95),l=!0;break;case 3:l=!0;break}a=a+1;let c=o?D=>D:D=>D+1,u=(D,y,w)=>y===w.length-1?[D-(w[0]-1),D+1]:[D-(w[0]-1)],p=Math.min(70,a-s),d=K().domain([s,a]),m=K().domain((l?d.nice():d).domain().map(c)),f=Ne().domain(m.domain()).thresholds(m.ticks(p).flatMap(u))(i),g=ee(f,D=>D.length);if(!g)return[null,[]];let h=K().range([.7,.3]),x=ue(D=>Vt(h(D))).domain([a,s]);function b(D,y,w){let M=F1(D.x0,D.x1,D.length,o),j=Kt();return`${M}<br>${j}: \u200E${te(w,1)}%`}function k(D){let y=D.x0,w=D.x1-1,M=(o?$1:B1)(y,w);n("search",{query:M})}let I=Math.round((T=qo(i))!=null?T:0),N=je(I*86400,!1),$=[{label:o?tl():Zc(),value:N}];return[{scale:m,bins:f,total:g,hoverText:b,onClick:r?k:null,colourScale:x,showArea:!0},$]}function P1(e){let t,n,r,o,i,s,a,l,c,u,p,d,m,f,g,h,x,b,k,I,N,$,T,D;return $=bt(e[12][0]),{c(){t=B("label"),n=B("input"),o=L(),i=J(e[6]),s=L(),a=B("label"),l=B("input"),u=J(`
            50%`),p=L(),d=B("label"),m=B("input"),g=J(`
            95%`),h=L(),x=B("label"),b=B("input"),I=L(),N=J(e[7]),R(n,"type","radio"),n.__value=r=0,ge(n,n.__value),R(l,"type","radio"),l.__value=c=1,ge(l,l.__value),R(m,"type","radio"),m.__value=f=2,ge(m,m.__value),R(b,"type","radio"),b.__value=k=3,ge(b,b.__value),$.p(n,l,m,b)},m(y,w){C(y,t,w),_(t,n),n.checked=n.__value===e[1],_(t,o),_(t,i),C(y,s,w),C(y,a,w),_(a,l),l.checked=l.__value===e[1],_(a,u),C(y,p,w),C(y,d,w),_(d,m),m.checked=m.__value===e[1],_(d,g),C(y,h,w),C(y,x,w),_(x,b),b.checked=b.__value===e[1],_(x,I),_(x,N),T||(D=[Q(n,"change",e[11]),Q(l,"change",e[13]),Q(m,"change",e[14]),Q(b,"change",e[15])],T=!0)},p(y,w){w&2&&(n.checked=n.__value===y[1]),w&2&&(l.checked=l.__value===y[1]),w&2&&(m.checked=m.__value===y[1]),w&2&&(b.checked=b.__value===y[1])},d(y){y&&(v(t),v(s),v(a),v(p),v(d),v(h),v(x)),$.r(),T=!1,fe(D)}}}function q1(e){let t,n,r,o,i,s;return t=new be({props:{$$slots:{default:[P1]},$$scope:{ctx:e}}}),r=new He({props:{data:e[2]}}),i=new Be({props:{tableData:e[3]}}),{c(){G(t.$$.fragment),n=L(),G(r.$$.fragment),o=L(),G(i.$$.fragment)},m(a,l){P(t,a,l),C(a,n,l),P(r,a,l),C(a,o,l),P(i,a,l),s=!0},p(a,l){let c={};l&131074&&(c.$$scope={dirty:l,ctx:a}),t.$set(c);let u={};l&4&&(u.data=a[2]),r.$set(u);let p={};l&8&&(p.tableData=a[3]),i.$set(p)},i(a){s||(S(t.$$.fragment,a),S(r.$$.fragment,a),S(i.$$.fragment,a),s=!0)},o(a){A(t.$$.fragment,a),A(r.$$.fragment,a),A(i.$$.fragment,a),s=!1},d(a){a&&(v(n),v(o)),q(t,a),q(r,a),q(i,a)}}}function G1(e){let t,n;return t=new le({props:{title:e[4],subtitle:e[5],$$slots:{default:[q1]},$$scope:{ctx:e}}}),{c(){G(t.$$.fragment)},m(r,o){P(t,r,o),n=!0},p(r,[o]){let i={};o&131086&&(i.$$scope={dirty:o,ctx:r}),t.$set(i)},i(r){n||(S(t.$$.fragment,r),n=!0)},o(r){A(t.$$.fragment,r),n=!1},d(r){q(t,r)}}}function U1(e,t,n){let r,o=U,i=()=>(o(),o=ae(a,$=>n(10,r=$)),a);e.$$.on_destroy.push(()=>o());let{sourceData:s=null}=t,{prefs:a}=t;i();let l=ye(),c=null,u=null,p=[],d=2,m=jl(),f=Wl(),g=je(1*Tt),h=Gn(),x=[[]];function b(){d=this.__value,n(1,d)}function k(){d=this.__value,n(1,d)}function I(){d=this.__value,n(1,d)}function N(){d=this.__value,n(1,d)}return e.$$set=$=>{"sourceData"in $&&n(8,s=$.sourceData),"prefs"in $&&i(n(0,a=$.prefs))},e.$$.update=()=>{e.$$.dirty&256&&s&&n(9,c=Li(s.intervals)),e.$$.dirty&1538&&c&&n(2,[u,p]=Pi(c,d,l,r.browserLinksSupported,!1),u,(n(3,p),n(9,c),n(1,d),n(10,r),n(8,s)))},[a,d,u,p,m,f,g,h,s,c,r,b,x,k,I,N]}var xc=class extends W{constructor(t){super(),Y(this,t,U1,G1,H,{sourceData:8,prefs:0})}},yc=xc;function z1(e){let t,n,r,o,i,s,a,l,c,u,p,d,m,f,g,h;return f=bt(e[14][1]),{c(){t=B("label"),n=B("input"),o=L(),i=J(e[9]),s=L(),a=B("label"),l=B("input"),u=L(),p=J(e[10]),d=L(),m=B("input"),R(n,"type","radio"),n.__value=r=e[6].Deck,ge(n,n.__value),R(l,"type","radio"),l.__value=c=e[6].Collection,ge(l,l.__value),R(m,"type","text"),R(m,"placeholder",e[11]),f.p(n,l)},m(x,b){C(x,t,b),_(t,n),n.checked=n.__value===e[4],_(t,o),_(t,i),C(x,s,b),C(x,a,b),_(a,l),l.checked=l.__value===e[4],_(a,u),_(a,p),C(x,d,b),C(x,m,b),ge(m,e[5]),g||(h=[Q(n,"change",e[13]),Q(l,"change",e[15]),Q(m,"input",e[16]),Q(m,"change",e[7]),Q(m,"focus",e[17])],g=!0)},p(x,b){b&16&&(n.checked=n.__value===x[4]),b&16&&(l.checked=l.__value===x[4]),b&32&&m.value!==x[5]&&ge(m,x[5])},d(x){x&&(v(t),v(s),v(a),v(d),v(m)),f.r(),g=!1,fe(h)}}}function W1(e){let t,n,r,o,i,s,a,l,c,u,p,d,m,f;return d=bt(e[14][0]),{c(){t=B("label"),n=B("input"),o=L(),i=J(e[8]),s=L(),a=B("label"),l=B("input"),u=L(),p=J(e[12]),R(n,"type","radio"),n.__value=r=1,ge(n,n.__value),R(l,"type","radio"),l.__value=c=2,ge(l,l.__value),d.p(n,l)},m(g,h){C(g,t,h),_(t,n),n.checked=n.__value===e[3],_(t,o),_(t,i),C(g,s,h),C(g,a,h),_(a,l),l.checked=l.__value===e[3],_(a,u),_(a,p),m||(f=[Q(n,"change",e[18]),Q(l,"change",e[19])],m=!0)},p(g,h){h&8&&(n.checked=n.__value===g[3]),h&8&&(l.checked=l.__value===g[3])},d(g){g&&(v(t),v(s),v(a)),d.r(),m=!1,fe(f)}}}function j1(e){let t,n,r,o,i,s,a,l,c;return o=new be({props:{$$slots:{default:[z1]},$$scope:{ctx:e}}}),s=new be({props:{$$slots:{default:[W1]},$$scope:{ctx:e}}}),{c(){t=B("div"),n=B("div"),n.textContent="\u25D0",r=L(),G(o.$$.fragment),i=L(),G(s.$$.fragment),a=L(),l=B("div"),R(n,"class","spin svelte-ipvvr6"),it(n,"loading",e[0]),R(t,"class","range-box svelte-ipvvr6"),R(l,"class","range-box-pad svelte-ipvvr6")},m(u,p){C(u,t,p),_(t,n),_(t,r),P(o,t,null),_(t,i),P(s,t,null),C(u,a,p),C(u,l,p),c=!0},p(u,[p]){(!c||p&1)&&it(n,"loading",u[0]);let d={};p&4194352&&(d.$$scope={dirty:p,ctx:u}),o.$set(d);let m={};p&4194312&&(m.$$scope={dirty:p,ctx:u}),s.$set(m)},i(u){c||(S(o.$$.fragment,u),S(s.$$.fragment,u),c=!0)},o(u){A(o.$$.fragment,u),A(s.$$.fragment,u),c=!1},d(u){u&&(v(t),v(a),v(l)),q(o),q(s)}}}function H1(e,t,n){let r,o=U,i=()=>(o(),o=ae(d,O=>n(20,r=O)),d),s,a=U,l=()=>(a(),a=ae(p,O=>n(21,s=O)),p);e.$$.on_destroy.push(()=>o()),e.$$.on_destroy.push(()=>a());var c=(O=>(O[O.Deck=1]="Deck",O[O.Collection=2]="Collection",O[O.Custom=3]="Custom",O))(c||{});let{loading:u}=t,{days:p}=t;l();let{search:d}=t;i();let m=Ii(s),f;r==="deck:current"?f=1:r===""?f=2:f=3;let g=r;function h(){tn(d,r=g,r)}let x=Vl(),b=Xl(),k=Jl(),I=Kl(),N=Yl(),$=[[],[]];function T(){f=this.__value,n(4,f)}function D(){f=this.__value,n(4,f)}function y(){g=this.value,n(5,g),n(4,f)}let w=()=>{n(4,f=c.Custom)};function M(){m=this.__value,n(3,m)}function j(){m=this.__value,n(3,m)}return e.$$set=O=>{"loading"in O&&n(0,u=O.loading),"days"in O&&l(n(1,p=O.days)),"search"in O&&i(n(2,d=O.search))},e.$$.update=()=>{if(e.$$.dirty&16)switch(f){case 1:tn(d,r=n(5,g="deck:current"),r);break;case 2:tn(d,r=n(5,g=""),r);break}if(e.$$.dirty&8)switch(m){case 1:tn(p,s=365,s);break;case 2:tn(p,s=0,s);break}},[u,p,d,m,f,g,c,h,x,b,k,I,N,T,$,D,y,w,M,j]}var kc=class extends W{constructor(t){super(),Y(this,t,H1,j1,H,{loading:0,days:1,search:2})}},wc=kc;function Xg(e){return{retrievability:Ge(e.retrievability.retrievability)}}function V1(e,t){let n=`"prop:r>=${e/100}"`,r=`"prop:r<${(t+1)/100}"`;return t===99&&(r=r.replace("<","<=")),`${n} AND ${r}`}function Y1(e,t,n){let r=K().domain([e,t]).nice(),o=r.ticks(n),i=r.domain(),s=e-i[0],a=o[1]-o[0];if(s===0||s%a!==0&&a%s!==0)return[r,o];let l=c=>c+s;return[K().domain(i.map(l)),o.map(l)]}function Kg(e,t,n){let r=e.retrievability;if(!r.size)return[null,[]];let o=0,i=100,s=20,[a,l]=Y1(o,i,s),c=Ne().value(h=>h[0]).domain(a.domain()).thresholds(l)(r.entries()),u=ee(c,we),p=ue(Ht).domain([0,100]);function d(h,x){let b=`${h.x0}%-${h.x1}%`;return Ql({cards:we(h),percent:b})}function m(h){let x=h.x0,b=h.x1-1,k=V1(x,b);t("search",{query:k})}let f=h=>te(h,0)+"%",g=[{label:el(),value:f(ee(Array.from(r.entries()).map(([h,x])=>(h+2.5)*x))/u)}];return[{scale:a,bins:c,total:u,hoverText:d,onClick:n?m:null,colourScale:p,showArea:!1,binValue:we,xTickFormat:f},g]}function Zg(e){let t,n;return t=new le({props:{title:e[4],subtitle:e[5],$$slots:{default:[J1]},$$scope:{ctx:e}}}),{c(){G(t.$$.fragment)},m(r,o){P(t,r,o),n=!0},p(r,o){let i={};o&268&&(i.$$scope={dirty:o,ctx:r}),t.$set(i)},i(r){n||(S(t.$$.fragment,r),n=!0)},o(r){A(t.$$.fragment,r),n=!1},d(r){q(t,r)}}}function J1(e){let t,n,r,o;return t=new He({props:{data:e[2]}}),r=new Be({props:{tableData:e[3]}}),{c(){G(t.$$.fragment),n=L(),G(r.$$.fragment)},m(i,s){P(t,i,s),C(i,n,s),P(r,i,s),o=!0},p(i,s){let a={};s&4&&(a.data=i[2]),t.$set(a);let l={};s&8&&(l.tableData=i[3]),r.$set(l)},i(i){o||(S(t.$$.fragment,i),S(r.$$.fragment,i),o=!0)},o(i){A(t.$$.fragment,i),A(r.$$.fragment,i),o=!1},d(i){i&&v(n),q(t,i),q(r,i)}}}function X1(e){var o;let t,n,r=((o=e[0])==null?void 0:o.fsrs)&&Zg(e);return{c(){r&&r.c(),t=xe()},m(i,s){r&&r.m(i,s),C(i,t,s),n=!0},p(i,[s]){var a;(a=i[0])!=null&&a.fsrs?r?(r.p(i,s),s&1&&S(r,1)):(r=Zg(i),r.c(),S(r,1),r.m(t.parentNode,t)):r&&(Ce(),A(r,1,1,()=>{r=null}),Se())},i(i){n||(S(r),n=!0)},o(i){A(r),n=!1},d(i){i&&v(t),r&&r.d(i)}}}function K1(e,t,n){let r,o=U,i=()=>(o(),o=ae(a,m=>n(6,r=m)),a);e.$$.on_destroy.push(()=>o());let{sourceData:s=null}=t,{prefs:a}=t;i();let l=ye(),c=null,u=[],p=ul(),d=Zl();return e.$$set=m=>{"sourceData"in m&&n(0,s=m.sourceData),"prefs"in m&&i(n(1,a=m.prefs))},e.$$.update=()=>{e.$$.dirty&65&&s&&n(2,[c,u]=Kg(Xg(s),l,r.browserLinksSupported),c,(n(3,u),n(0,s),n(6,r)))},[s,a,c,u,p,d,r]}var _c=class extends W{constructor(t){super(),Y(this,t,K1,X1,H,{sourceData:0,prefs:1})}},vc=_c;function Qg(e){return{reviewCount:Ge(e.reviews.count),reviewTime:Ge(e.reviews.time)}}function eh(e){let t=[0,0,0,0,0];for(let n of e)t[0]+=n[1].mature,t[1]+=n[1].young,t[2]+=n[1].relearn,t[3]+=n[1].learn,t[4]+=n[1].filtered;return t}function so(e,t){return ee(eh(e).slice(0,t+1))}function th(e,t,n,r,o){let i=Xe(e),s=i.transition().duration(600),a=1,l=0;switch(r){case 0:l=-30;break;case 1:l=-89;break;case 2:l=-364;break;case 3:l=Lt(n.reviewCount.keys());break}let c=Math.min(70,Math.abs(l)),u=K().domain([l,a]).nice(c);u.domain([u.domain()[0],a]);let p=o?n.reviewTime:n.reviewCount,d=Ne().value(z=>z[0]).domain(u.domain()).thresholds(u.ticks(c))(p.entries());if(ee(d,z=>z.length))qe(i,!0);else return qe(i,!1),[];u.range([t.marginLeft,t.width-t.marginRight]),i.select(".x-ticks").call(z=>z.transition(s).call(Pt(u).ticks(7).tickSizeOuter(0))).attr("direction","ltr");let f=z=>o?je(z/1e3,!0):Math.round(z)!=z?"":te(z),g=$t(d,z=>so(z,4)),h=K().range([t.height-t.marginBottom,t.marginTop]).domain([0,g]).nice();i.select(".y-ticks").call(z=>z.transition(s).call(qt(h).ticks(t.height/50).tickSizeOuter(0).tickFormat(f))).attr("direction","ltr");function x(z){let re=Math.max(0,u(z.x1)-u(z.x0)-1);return re!=null?re:0}let b=K().range([.3,.5]),k=K().range([.4,.7]),I=ue(z=>ar(k(z))).domain(u.domain()),N=ue(z=>ar(b(z))).domain(u.domain()),$=ue(z=>As(b(z))).domain(u.domain()),T=ue(z=>Ds(b(z))).domain(u.domain()),D=ue(z=>Es(b(z))).domain(u.domain());function y(z){switch(z){case 0:return I;case 1:return N;case 3:return T;case 2:return $;case 4:return D}}function w(z){return o?je(z/1e3):Xt({reviews:z})}function M(z,re){let de=pr(z.x0,z.x1),Bn=eh(z),fr=w(ee(Bn)),$n=`<table><tr><td>${de}</td><td align=end>${fr}</td></tr>`,ch=[[4,hl()],[3,Ln()],[2,uo()],[1,qn()],[0,Pn()],[null,Kt()]];for(let[qi,lh]of ch){let Gi,Ui;qi==null?(Gi="transparent",Ui=w(re)):(Gi=y(qi)(1),Ui=w(Bn[qi])),$n+=`<tr>
            <td><span style="color: ${Gi};">\u25A0</span> ${lh}</td>
            <td align=end>${Ui}</td>
            </tr>`}return $n}let j=(z,re)=>z.attr("width",x).transition(s).attr("x",de=>u(de.x0)).attr("y",de=>h(so(de,re))).attr("height",de=>h(0)-h(so(de,re))).attr("fill",de=>y(re)(de.x0));for(let z of[0,1,2,3,4])i.select(`g.bars${z}`).selectAll("rect").data(d).join(re=>re.append("rect").attr("rx",1).attr("x",de=>u(de.x0)).attr("y",h(0)).attr("height",0).call(de=>j(de,z)),re=>re.call(de=>j(de,z)),re=>re.call(de=>de.transition(s).attr("height",0).attr("y",h(0))));let O=d.map(z=>so(z,4));O.unshift(0);let V=rn(O),Ue=V.slice(-1)[0],Ke=h.copy().domain([0,Ue]).nice();Ue&&(i.select(".y2-ticks").call(z=>z.transition(s).call(yn(Ke).ticks(t.height/50).tickFormat(f).tickSizeOuter(0))).attr("direction","ltr"),i.select("path.cumulative-overlay").datum(V).attr("d",Dn().curve(In).x((z,re)=>u(re===0?d[0].x0:d[re-1].x1)).y0(t.height-t.marginBottom).y1(z=>Ke(z))));let Ve=d.map((z,re)=>[z,V[re+1]]);i.select("g.hover-columns").selectAll("rect").data(Ve).join("rect").attr("x",([z])=>u(z.x0)).attr("y",()=>h(g)).attr("width",([z])=>x(z)).attr("height",()=>h(0)-h(g)).on("mousemove",(z,[re,de])=>{let[Bn,fr]=at(z,document.body);pt(M(re,de),Bn,fr)}).on("mouseout",Rt);let $e=-l+1,_e=ee(d,z=>z.length),rt=_e/$e*100,dt=Ue,dn=dt/$e,On=dt/_e,mn,Ye,fn,Jt,gn;if(o){mn=je(dt/1e3,!1),Ye=ji({count:Math.round(On/1e3/60)}),fn=ji({count:Math.round(dn/1e3/60)}),gn=Yc();let z=Ne().value($n=>$n[0]).domain(u.domain())(n.reviewCount.entries()),re=ee(z,$n=>so($n,4)),de=dt/1e3,Bn=de/re,fr=re*60/de;Jt=Vc({averageSeconds:Bn,cardsPerMinute:fr})}else mn=Xt({reviews:dt}),Ye=hr({count:Math.round(On)}),fn=hr({count:Math.round(dn)}),Jt=gn="";let Fn=[{label:Tl(),value:Uc({amount:_e,total:$e,percent:(()=>rt<99.5?te(rt):rt<99.95?te(rt,1):rt<100?te(rt,2):"100")()})},{label:Un(),value:mn},{label:Kc(),value:Ye},{label:Qc(),value:fn}];return Jt&&Fn.push({label:gn,value:Jt}),Fn}function Z1(e,t,n){let r=e.slice();return r[14]=t[n],r}function Q1(e){let t,n,r,o,i,s,a,l,c,u;function p(m){e[12](m)}let d={revlogRange:e[0],followRevlog:!0};return e[2]!==void 0&&(d.graphRange=e[2]),s=new St({props:d}),pe.push(()=>yt(s,"graphRange",p)),{c(){t=B("label"),n=B("input"),r=L(),o=J(e[8]),i=L(),G(s.$$.fragment),R(n,"type","checkbox")},m(m,f){C(m,t,f),_(t,n),n.checked=e[3],_(t,r),_(t,o),C(m,i,f),P(s,m,f),l=!0,c||(u=Q(n,"change",e[11]),c=!0)},p(m,f){f&8&&(n.checked=m[3]);let g={};f&1&&(g.revlogRange=m[0]),!a&&f&4&&(a=!0,g.graphRange=m[2],xt(()=>a=!1)),s.$set(g)},i(m){l||(S(s.$$.fragment,m),l=!0)},o(m){A(s.$$.fragment,m),l=!1},d(m){m&&(v(t),v(i)),q(s,m),c=!1,u()}}}function e_(e){let t,n;return{c(){t=ne("g"),R(t,"class",n="bars"+e[14])},m(r,o){C(r,t,o)},p:U,d(r){r&&v(t)}}}function t_(e){let t,n,r,o,i,s,a,l,c,u,p,d;t=new be({props:{$$slots:{default:[Q1]},$$scope:{ctx:e}}});let m=Oe([4,3,2,1,0]),f=[];for(let g=0;g<5;g+=1)f[g]=e_(Z1(e,m,g));return i=new dr({}),s=new pn({}),a=new Nt({props:{bounds:e[6]}}),l=new Et({props:{bounds:e[6]}}),p=new Be({props:{tableData:e[4]}}),{c(){G(t.$$.fragment),n=L(),r=ne("svg");for(let g=0;g<5;g+=1)f[g].c();o=xe(),G(i.$$.fragment),G(s.$$.fragment),G(a.$$.fragment),G(l.$$.fragment),u=L(),G(p.$$.fragment),R(r,"viewBox",c=`0 0 ${e[6].width} ${e[6].height}`)},m(g,h){P(t,g,h),C(g,n,h),C(g,r,h);for(let x=0;x<5;x+=1)f[x]&&f[x].m(r,null);_(r,o),P(i,r,null),P(s,r,null),P(a,r,null),P(l,r,null),e[13](r),C(g,u,h),P(p,g,h),d=!0},p(g,h){let x={};h&131085&&(x.$$scope={dirty:h,ctx:g}),t.$set(x);let b={};h&16&&(b.tableData=g[4]),p.$set(b)},i(g){d||(S(t.$$.fragment,g),S(i.$$.fragment,g),S(s.$$.fragment,g),S(a.$$.fragment,g),S(l.$$.fragment,g),S(p.$$.fragment,g),d=!0)},o(g){A(t.$$.fragment,g),A(i.$$.fragment,g),A(s.$$.fragment,g),A(a.$$.fragment,g),A(l.$$.fragment,g),A(p.$$.fragment,g),d=!1},d(g){g&&(v(n),v(r),v(u)),q(t,g),ht(f,g),q(i),q(s),q(a),q(l),e[13](null),q(p,g)}}}function n_(e){let t,n;return t=new le({props:{title:e[7],subtitle:e[5],$$slots:{default:[t_]},$$scope:{ctx:e}}}),{c(){G(t.$$.fragment)},m(r,o){P(t,r,o),n=!0},p(r,[o]){let i={};o&32&&(i.subtitle=r[5]),o&131103&&(i.$$scope={dirty:o,ctx:r}),t.$set(i)},i(r){n||(S(t.$$.fragment,r),n=!0)},o(r){A(t.$$.fragment,r),n=!1},d(r){q(t,r)}}}function r_(e,t,n){let{sourceData:r=null}=t,{revlogRange:o}=t,i=null,s=nt(),a=null,l=0,c=!1,u=[],p=ru(),d=tu(),m="";function f(){c=this.checked,n(3,c)}function g(x){l=x,n(2,l)}function h(x){pe[x?"unshift":"push"](()=>{a=x,n(1,a)})}return e.$$set=x=>{"sourceData"in x&&n(9,r=x.sourceData),"revlogRange"in x&&n(0,o=x.revlogRange)},e.$$.update=()=>{e.$$.dirty&512&&r&&n(10,i=Qg(r)),e.$$.dirty&1038&&i&&n(4,u=th(a,s,i,l,c)),e.$$.dirty&8&&(c?n(5,m=nu()):n(5,m=eu()))},[o,a,l,c,u,m,s,p,d,r,i,f,g,h]}var Tc=class extends W{constructor(t){super(),Y(this,t,r_,n_,H,{sourceData:9,revlogRange:0})}},Cc=Tc;function nh(e){let t,n;return t=new le({props:{title:e[5],subtitle:e[6],$$slots:{default:[i_]},$$scope:{ctx:e}}}),{c(){G(t.$$.fragment)},m(r,o){P(t,r,o),n=!0},p(r,o){let i={};o&131100&&(i.$$scope={dirty:o,ctx:r}),t.$set(i)},i(r){n||(S(t.$$.fragment,r),n=!0)},o(r){A(t.$$.fragment,r),n=!1},d(r){q(t,r)}}}function o_(e){let t,n,r,o,i,s,a,l,c,u,p,d,m,f,g,h,x,b,k,I,N,$,T,D;return $=bt(e[12][0]),{c(){t=B("label"),n=B("input"),o=L(),i=J(e[7]),s=L(),a=B("label"),l=B("input"),u=J(`
                50%`),p=L(),d=B("label"),m=B("input"),g=J(`
                95%`),h=L(),x=B("label"),b=B("input"),I=L(),N=J(e[8]),R(n,"type","radio"),n.__value=r=0,ge(n,n.__value),R(l,"type","radio"),l.__value=c=1,ge(l,l.__value),R(m,"type","radio"),m.__value=f=2,ge(m,m.__value),R(b,"type","radio"),b.__value=k=3,ge(b,b.__value),$.p(n,l,m,b)},m(y,w){C(y,t,w),_(t,n),n.checked=n.__value===e[2],_(t,o),_(t,i),C(y,s,w),C(y,a,w),_(a,l),l.checked=l.__value===e[2],_(a,u),C(y,p,w),C(y,d,w),_(d,m),m.checked=m.__value===e[2],_(d,g),C(y,h,w),C(y,x,w),_(x,b),b.checked=b.__value===e[2],_(x,I),_(x,N),T||(D=[Q(n,"change",e[11]),Q(l,"change",e[13]),Q(m,"change",e[14]),Q(b,"change",e[15])],T=!0)},p(y,w){w&4&&(n.checked=n.__value===y[2]),w&4&&(l.checked=l.__value===y[2]),w&4&&(m.checked=m.__value===y[2]),w&4&&(b.checked=b.__value===y[2])},d(y){y&&(v(t),v(s),v(a),v(p),v(d),v(h),v(x)),$.r(),T=!1,fe(D)}}}function i_(e){let t,n,r,o,i,s;return t=new be({props:{$$slots:{default:[o_]},$$scope:{ctx:e}}}),r=new He({props:{data:e[3]}}),i=new Be({props:{tableData:e[4]}}),{c(){G(t.$$.fragment),n=L(),G(r.$$.fragment),o=L(),G(i.$$.fragment)},m(a,l){P(t,a,l),C(a,n,l),P(r,a,l),C(a,o,l),P(i,a,l),s=!0},p(a,l){let c={};l&131076&&(c.$$scope={dirty:l,ctx:a}),t.$set(c);let u={};l&8&&(u.data=a[3]),r.$set(u);let p={};l&16&&(p.tableData=a[4]),i.$set(p)},i(a){s||(S(t.$$.fragment,a),S(r.$$.fragment,a),S(i.$$.fragment,a),s=!0)},o(a){A(t.$$.fragment,a),A(r.$$.fragment,a),A(i.$$.fragment,a),s=!1},d(a){a&&(v(n),v(o)),q(t,a),q(r,a),q(i,a)}}}function a_(e){var o;let t,n,r=((o=e[0])==null?void 0:o.fsrs)&&nh(e);return{c(){r&&r.c(),t=xe()},m(i,s){r&&r.m(i,s),C(i,t,s),n=!0},p(i,[s]){var a;(a=i[0])!=null&&a.fsrs?r?(r.p(i,s),s&1&&S(r,1)):(r=nh(i),r.c(),S(r,1),r.m(t.parentNode,t)):r&&(Ce(),A(r,1,1,()=>{r=null}),Se())},i(i){n||(S(r),n=!0)},o(i){A(r),n=!1},d(i){i&&v(t),r&&r.d(i)}}}function s_(e,t,n){let r,o=U,i=()=>(o(),o=ae(a,$=>n(10,r=$)),a);e.$$.on_destroy.push(()=>o());let{sourceData:s=null}=t,{prefs:a}=t;i();let l=ye(),c=null,u=null,p=[],d=2,m=dl(),f=pl(),g=je(1*Tt),h=Gn(),x=[[]];function b(){d=this.__value,n(2,d)}function k(){d=this.__value,n(2,d)}function I(){d=this.__value,n(2,d)}function N(){d=this.__value,n(2,d)}return e.$$set=$=>{"sourceData"in $&&n(0,s=$.sourceData),"prefs"in $&&i(n(1,a=$.prefs))},e.$$.update=()=>{e.$$.dirty&1&&s&&n(9,c=Li(s.stability)),e.$$.dirty&1540&&c&&n(3,[u,p]=Pi(c,d,l,r.browserLinksSupported,!0),u,(n(4,p),n(9,c),n(2,d),n(10,r),n(0,s)))},[s,a,d,u,p,m,f,g,h,c,r,b,x,k,I,N]}var Sc=class extends W{constructor(t){super(),Y(this,t,s_,a_,H,{sourceData:0,prefs:1})}},Nc=Sc;function rh(e){let t,n=e.today;if(n.answerCount){let r=sg(n.answerCount,n.answerMillis/1e3),o=n.answerCount-n.correctCount,i=su();i+=` ${o} (${te(o/n.answerCount*100)}%)`;let s=du({learnCount:n.learnCount,reviewCount:n.reviewCount,relearnCount:n.relearnCount,filteredCount:n.earlyReviewCount}),a;n.matureCount?a=cu({correct:n.matureCorrect,total:n.matureCount,percent:n.matureCorrect/n.matureCount*100}):a=uu(),t=[r,i,s,a]}else t=[lu()];return{title:pu(),lines:t}}function oh(e,t,n){let r=e.slice();return r[2]=t[n],r}function ih(e){let t,n;return t=new le({props:{title:e[0].title,$$slots:{default:[c_]},$$scope:{ctx:e}}}),{c(){G(t.$$.fragment)},m(r,o){P(t,r,o),n=!0},p(r,o){let i={};o&1&&(i.title=r[0].title),o&33&&(i.$$scope={dirty:o,ctx:r}),t.$set(i)},i(r){n||(S(t.$$.fragment,r),n=!0)},o(r){A(t.$$.fragment,r),n=!1},d(r){q(t,r)}}}function ah(e){let t,n=e[2]+"",r;return{c(){t=B("div"),r=J(n)},m(o,i){C(o,t,i),_(t,r)},p(o,i){i&1&&n!==(n=o[2]+"")&&Re(r,n)},d(o){o&&v(t)}}}function c_(e){let t,n=Oe(e[0].lines),r=[];for(let o=0;o<n.length;o+=1)r[o]=ah(oh(e,n,o));return{c(){t=B("div");for(let o=0;o<r.length;o+=1)r[o].c();R(t,"class","legend svelte-2llkqb")},m(o,i){C(o,t,i);for(let s=0;s<r.length;s+=1)r[s]&&r[s].m(t,null)},p(o,i){if(i&1){n=Oe(o[0].lines);let s;for(s=0;s<n.length;s+=1){let a=oh(o,n,s);r[s]?r[s].p(a,i):(r[s]=ah(a),r[s].c(),r[s].m(t,null))}for(;s<r.length;s+=1)r[s].d(1);r.length=n.length}},d(o){o&&v(t),ht(r,o)}}}function l_(e){let t,n,r=e[0]&&ih(e);return{c(){r&&r.c(),t=xe()},m(o,i){r&&r.m(o,i),C(o,t,i),n=!0},p(o,[i]){o[0]?r?(r.p(o,i),i&1&&S(r,1)):(r=ih(o),r.c(),S(r,1),r.m(t.parentNode,t)):r&&(Ce(),A(r,1,1,()=>{r=null}),Se())},i(o){n||(S(r),n=!0)},o(o){A(r),n=!1},d(o){o&&v(t),r&&r.d(o)}}}function u_(e,t,n){let{sourceData:r=null}=t,o=null;return e.$$set=i=>{"sourceData"in i&&n(1,r=i.sourceData)},e.$$.update=()=>{e.$$.dirty&2&&r&&n(0,o=rh(r))},[o,r]}var Rc=class extends W{constructor(t){super(),Y(this,t,u_,l_,H,{sourceData:1})}},Ec=Rc;var p_=Up({modules:[X.STATISTICS,X.SCHEDULING]});async function sh(e,{search:t="deck:current",days:n=365,controller:r=null}={}){return zp(),await p_,new rg({target:document.body,props:{initialSearch:t,initialDays:n,graphs:e,controller:r}})}sh([Ec,gc,sc,Cc,lc,yc,Nc,mc,pc,vc,bc,ic,rc],{controller:wc});var d_={TodayStats:Ec,FutureDue:gc,CalendarGraph:sc,ReviewsGraph:Cc,CardCounts:lc,IntervalsGraph:yc,StabilityGraph:Nc,EaseGraph:mc,DifficultyGraph:pc,RetrievabilityGraph:vc,HourGraph:bc,ButtonsGraph:ic,AddedGraph:rc,RangeBox:wc,RevlogRange:Yt};return Mc(m_);})();
/*! Bundled license information:

lodash-es/lodash.js:
  (**
   * @license
   * Lodash (Custom Build) <https://lodash.com/>
   * Build: `lodash modularize exports="es" -o ./`
   * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
   * Released under MIT license <https://lodash.com/license>
   * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
   * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
   *)
*/
